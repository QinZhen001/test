var Io=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Im(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),e}var ai={exports:{}},ve={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Dm=Object.getOwnPropertySymbols,sE=Object.prototype.hasOwnProperty,oE=Object.prototype.propertyIsEnumerable;function uE(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function lE(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(i.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(a){r[a]=a}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Lm=lE()?Object.assign:function(t,e){for(var n,i=uE(t),r,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var s in n)sE.call(n,s)&&(i[s]=n[s]);if(Dm){r=Dm(n);for(var o=0;o<r.length;o++)oE.call(n,r[o])&&(i[r[o]]=n[r[o]])}}return i};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Lm,si=60103,Om=60106;ve.Fragment=60107;ve.StrictMode=60108;ve.Profiler=60114;var Rm=60109,Mm=60110,Nm=60112;ve.Suspense=60113;var Fm=60115,Um=60116;if(typeof Symbol=="function"&&Symbol.for){var rr=Symbol.for;si=rr("react.element"),Om=rr("react.portal"),ve.Fragment=rr("react.fragment"),ve.StrictMode=rr("react.strict_mode"),ve.Profiler=rr("react.profiler"),Rm=rr("react.provider"),Mm=rr("react.context"),Nm=rr("react.forward_ref"),ve.Suspense=rr("react.suspense"),Fm=rr("react.memo"),Um=rr("react.lazy")}var Bm=typeof Symbol=="function"&&Symbol.iterator;function cE(t){return t===null||typeof t!="object"?null:(t=Bm&&t[Bm]||t["@@iterator"],typeof t=="function"?t:null)}function Ca(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hm={};function oi(t,e,n){this.props=t,this.context=e,this.refs=Hm,this.updater=n||jm}oi.prototype.isReactComponent={};oi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ca(85));this.updater.enqueueSetState(this,t,e,"setState")};oi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vm(){}Vm.prototype=oi.prototype;function Sc(t,e,n){this.props=t,this.context=e,this.refs=Hm,this.updater=n||jm}var bc=Sc.prototype=new Vm;bc.constructor=Sc;xc(bc,oi.prototype);bc.isPureReactComponent=!0;var Ec={current:null},Wm=Object.prototype.hasOwnProperty,zm={key:!0,ref:!0,__self:!0,__source:!0};function $m(t,e,n){var i,r={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Wm.call(e,i)&&!zm.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];r.children=u}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:si,type:t,key:a,ref:s,props:r,_owner:Ec.current}}function dE(t,e){return{$$typeof:si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cc(t){return typeof t=="object"&&t!==null&&t.$$typeof===si}function fE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gm=/\/+/g;function wc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fE(""+t.key):e.toString(36)}function Do(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case si:case Om:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+wc(s,0):i,Array.isArray(r)?(n="",t!=null&&(n=t.replace(Gm,"$&/")+"/"),Do(r,e,n,"",function(l){return l})):r!=null&&(Cc(r)&&(r=dE(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Gm,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Array.isArray(t))for(var o=0;o<t.length;o++){a=t[o];var u=i+wc(a,o);s+=Do(a,e,n,u,r)}else if(u=cE(t),typeof u=="function")for(t=u.call(t),o=0;!(a=t.next()).done;)a=a.value,u=i+wc(a,o++),s+=Do(a,e,n,u,r);else if(a==="object")throw e=""+t,Error(Ca(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Lo(t,e,n){if(t==null)return t;var i=[],r=0;return Do(t,i,"","",function(a){return e.call(n,a,r++)}),i}function hE(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var qm={current:null};function kr(){var t=qm.current;if(t===null)throw Error(Ca(321));return t}var pE={ReactCurrentDispatcher:qm,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Ec,IsSomeRendererActing:{current:!1},assign:xc};ve.Children={map:Lo,forEach:function(t,e,n){Lo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lo(t,function(){e++}),e},toArray:function(t){return Lo(t,function(e){return e})||[]},only:function(t){if(!Cc(t))throw Error(Ca(143));return t}};ve.Component=oi;ve.PureComponent=Sc;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pE;ve.cloneElement=function(t,e,n){if(t==null)throw Error(Ca(267,t));var i=xc({},t.props),r=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Ec.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)Wm.call(e,u)&&!zm.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];i.children=o}return{$$typeof:si,type:t.type,key:r,ref:a,props:i,_owner:s}};ve.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Mm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Rm,_context:t},t.Consumer=t};ve.createElement=$m;ve.createFactory=function(t){var e=$m.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Nm,render:t}};ve.isValidElement=Cc;ve.lazy=function(t){return{$$typeof:Um,_payload:{_status:-1,_result:t},_init:hE}};ve.memo=function(t,e){return{$$typeof:Fm,type:t,compare:e===void 0?null:e}};ve.useCallback=function(t,e){return kr().useCallback(t,e)};ve.useContext=function(t,e){return kr().useContext(t,e)};ve.useDebugValue=function(){};ve.useEffect=function(t,e){return kr().useEffect(t,e)};ve.useImperativeHandle=function(t,e,n){return kr().useImperativeHandle(t,e,n)};ve.useLayoutEffect=function(t,e){return kr().useLayoutEffect(t,e)};ve.useMemo=function(t,e){return kr().useMemo(t,e)};ve.useReducer=function(t,e,n){return kr().useReducer(t,e,n)};ve.useRef=function(t){return kr().useRef(t)};ve.useState=function(t){return kr().useState(t)};ve.version="17.0.2";ai.exports=ve;var xe=ai.exports,Km={exports:{}},$t={},Xm={exports:{}},Qm={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,i,r;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var u=null,l=null,c=function(){if(u!==null)try{var V=t.unstable_now();u(!0,V),u=null}catch($){throw setTimeout(c,0),$}};e=function(V){u!==null?setTimeout(e,0,V):(u=V,setTimeout(c,0))},n=function(V,$){l=setTimeout(V,$)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},r=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,x=null,v=-1,S=5,E=0;t.unstable_shouldYield=function(){return t.unstable_now()>=E},r=function(){},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5};var k=new MessageChannel,P=k.port2;k.port1.onmessage=function(){if(x!==null){var V=t.unstable_now();E=V+S;try{x(!0,V)?P.postMessage(null):(b=!1,x=null)}catch($){throw P.postMessage(null),$}}else b=!1},e=function(V){x=V,b||(b=!0,P.postMessage(null))},n=function(V,$){v=h(function(){V(t.unstable_now())},$)},i=function(){f(v),v=-1}}function O(V,$){var Q=V.length;V.push($);e:for(;;){var ce=Q-1>>>1,ge=V[ce];if(ge!==void 0&&0<F(ge,$))V[ce]=$,V[Q]=ge,Q=ce;else break e}}function M(V){return V=V[0],V===void 0?null:V}function B(V){var $=V[0];if($!==void 0){var Q=V.pop();if(Q!==$){V[0]=Q;e:for(var ce=0,ge=V.length;ce<ge;){var He=2*(ce+1)-1,Fe=V[He],ut=He+1,er=V[ut];if(Fe!==void 0&&0>F(Fe,Q))er!==void 0&&0>F(er,Fe)?(V[ce]=er,V[ut]=Q,ce=ut):(V[ce]=Fe,V[He]=Q,ce=He);else if(er!==void 0&&0>F(er,Q))V[ce]=er,V[ut]=Q,ce=ut;else break e}}return $}return null}function F(V,$){var Q=V.sortIndex-$.sortIndex;return Q!==0?Q:V.id-$.id}var U=[],j=[],te=1,oe=null,ae=3,he=!1,ne=!1,fe=!1;function me(V){for(var $=M(j);$!==null;){if($.callback===null)B(j);else if($.startTime<=V)B(j),$.sortIndex=$.expirationTime,O(U,$);else break;$=M(j)}}function _e(V){if(fe=!1,me(V),!ne)if(M(U)!==null)ne=!0,e(re);else{var $=M(j);$!==null&&n(_e,$.startTime-V)}}function re(V,$){ne=!1,fe&&(fe=!1,i()),he=!0;var Q=ae;try{for(me($),oe=M(U);oe!==null&&(!(oe.expirationTime>$)||V&&!t.unstable_shouldYield());){var ce=oe.callback;if(typeof ce=="function"){oe.callback=null,ae=oe.priorityLevel;var ge=ce(oe.expirationTime<=$);$=t.unstable_now(),typeof ge=="function"?oe.callback=ge:oe===M(U)&&B(U),me($)}else B(U);oe=M(U)}if(oe!==null)var He=!0;else{var Fe=M(j);Fe!==null&&n(_e,Fe.startTime-$),He=!1}return He}finally{oe=null,ae=Q,he=!1}}var ee=r;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){ne||he||(ne=!0,e(re))},t.unstable_getCurrentPriorityLevel=function(){return ae},t.unstable_getFirstCallbackNode=function(){return M(U)},t.unstable_next=function(V){switch(ae){case 1:case 2:case 3:var $=3;break;default:$=ae}var Q=ae;ae=$;try{return V()}finally{ae=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ee,t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=ae;ae=V;try{return $()}finally{ae=Q}},t.unstable_scheduleCallback=function(V,$,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,V){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Q+ge,V={id:te++,callback:$,priorityLevel:V,startTime:Q,expirationTime:ge,sortIndex:-1},Q>ce?(V.sortIndex=Q,O(j,V),M(U)===null&&V===M(j)&&(fe?i():fe=!0,n(_e,Q-ce))):(V.sortIndex=ge,O(U,V),ne||he||(ne=!0,e(re))),V},t.unstable_wrapCallback=function(V){var $=ae;return function(){var Q=ae;ae=$;try{return V.apply(this,arguments)}finally{ae=Q}}}})(Qm);Xm.exports=Qm;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=ai.exports,Re=Lm,Xe=Xm.exports;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Oo)throw Error(K(227));var Ym=new Set,wa={};function kn(t,e){ui(t,e),ui(t+"Capture",e)}function ui(t,e){for(wa[t]=e,t=0;t<e.length;t++)Ym.add(e[t])}var Pr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),mE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jm=Object.prototype.hasOwnProperty,Zm={},eg={};function gE(t){return Jm.call(eg,t)?!0:Jm.call(Zm,t)?!1:mE.test(t)?eg[t]=!0:(Zm[t]=!0,!1)}function vE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yE(t,e,n,i){if(e===null||typeof e=="undefined"||vE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,i,r,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Pc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kc,Pc);nt[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kc,Pc);nt[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kc,Pc);nt[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ac(t,e,n,i){var r=nt.hasOwnProperty(e)?nt[e]:null,a=r!==null?r.type===0:i?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(yE(e,n,r,i)&&(n=null),i||r===null?gE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Pn=Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=60103,An=60106,Kr=60107,Ic=60108,Pa=60114,Dc=60109,Lc=60110,Ro=60112,Aa=60113,Mo=60120,No=60115,Oc=60116,Rc=60121,Mc=60128,tg=60129,Nc=60130,Fc=60131;if(typeof Symbol=="function"&&Symbol.for){var Qe=Symbol.for;ka=Qe("react.element"),An=Qe("react.portal"),Kr=Qe("react.fragment"),Ic=Qe("react.strict_mode"),Pa=Qe("react.profiler"),Dc=Qe("react.provider"),Lc=Qe("react.context"),Ro=Qe("react.forward_ref"),Aa=Qe("react.suspense"),Mo=Qe("react.suspense_list"),No=Qe("react.memo"),Oc=Qe("react.lazy"),Rc=Qe("react.block"),Qe("react.scope"),Mc=Qe("react.opaque.id"),tg=Qe("react.debug_trace_mode"),Nc=Qe("react.offscreen"),Fc=Qe("react.legacy_hidden")}var rg=typeof Symbol=="function"&&Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=rg&&t[rg]||t["@@iterator"],typeof t=="function"?t:null)}var Uc;function Da(t){if(Uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uc=e&&e[1]||""}return`
`+Uc+t}var Bc=!1;function Fo(t,e){if(!t||Bc)return"";Bc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=i.stack.split(`
`),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||r[s]!==a[o])return`
`+r[s].replace(" at new "," at ");while(1<=s&&0<=o);break}}}finally{Bc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function _E(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=Fo(t.type,!1),t;case 11:return t=Fo(t.type.render,!1),t;case 22:return t=Fo(t.type._render,!1),t;case 1:return t=Fo(t.type,!0),t;default:return""}}function li(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kr:return"Fragment";case An:return"Portal";case Pa:return"Profiler";case Ic:return"StrictMode";case Aa:return"Suspense";case Mo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lc:return(t.displayName||"Context")+".Consumer";case Dc:return(t._context.displayName||"Context")+".Provider";case Ro:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case No:return li(t.type);case Rc:return li(t._render);case Oc:e=t._payload,t=t._init;try{return li(t(e))}catch{}}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function ng(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TE(t){var e=ng(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uo(t){t._valueTracker||(t._valueTracker=TE(t))}function ig(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ng(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Bo(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function jc(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ag(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sg(t,e){e=e.checked,e!=null&&Ac(t,"checked",e,!1)}function Hc(t,e){sg(t,e);var n=Xr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vc(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function og(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vc(t,e,n){(e!=="number"||Bo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function xE(t){var e="";return Oo.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Wc(t,e){return t=Re({children:void 0},e),(e=xE(e.children))&&(t.children=e),t}function ci(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function zc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ug(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function lg(t,e){var n=Xr(e.value),i=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function cg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var $c={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function dg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,fg=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!==$c.svg||"innerHTML"in t)t.innerHTML=e;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function La(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SE=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){SE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function hg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function pg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=hg(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var bE=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qc(t,e){if(e){if(bE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Kc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Xc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,di=null,fi=null;function mg(t){if(t=Ja(t)){if(typeof Qc!="function")throw Error(K(280));var e=t.stateNode;e&&(e=iu(e),Qc(t.stateNode,t.type,e))}}function gg(t){di?fi?fi.push(t):fi=[t]:di=t}function vg(){if(di){var t=di,e=fi;if(fi=di=null,mg(t),e)for(t=0;t<e.length;t++)mg(e[t])}}function Yc(t,e){return t(e)}function yg(t,e,n,i,r){return t(e,n,i,r)}function Jc(){}var _g=Yc,In=!1,Zc=!1;function ed(){(di!==null||fi!==null)&&(Jc(),vg())}function EE(t,e,n){if(Zc)return t(e,n);Zc=!0;try{return _g(t,e,n)}finally{Zc=!1,ed()}}function Ra(t,e){var n=t.stateNode;if(n===null)return null;var i=iu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var td=!1;if(Pr)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){td=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{td=!1}function CE(t,e,n,i,r,a,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Na=!1,Ho=null,Vo=!1,rd=null,wE={onError:function(t){Na=!0,Ho=t}};function kE(t,e,n,i,r,a,s,o,u){Na=!1,Ho=null,CE.apply(wE,arguments)}function PE(t,e,n,i,r,a,s,o,u){if(kE.apply(this,arguments),Na){if(Na){var l=Ho;Na=!1,Ho=null}else throw Error(K(198));Vo||(Vo=!0,rd=l)}}function Dn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!=0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xg(t){if(Dn(t)!==t)throw Error(K(188))}function AE(t){var e=t.alternate;if(!e){if(e=Dn(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return xg(r),t;if(a===i)return xg(r),e;a=a.sibling}throw Error(K(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Sg(t){if(t=AE(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function bg(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Eg,nd,Cg,wg,id=!1,fr=[],Qr=null,Yr=null,Jr=null,Fa=new Map,Ua=new Map,Ba=[],kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(t,e,n,i,r){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:r,targetContainers:[i]}}function Pg(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(e.pointerId)}}function ja(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t=ad(e,n,i,r,a),e!==null&&(e=Ja(e),e!==null&&nd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function IE(t,e,n,i,r){switch(e){case"focusin":return Qr=ja(Qr,t,e,n,i,r),!0;case"dragenter":return Yr=ja(Yr,t,e,n,i,r),!0;case"mouseover":return Jr=ja(Jr,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return Fa.set(a,ja(Fa.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Ua.set(a,ja(Ua.get(a)||null,t,e,n,i,r)),!0}return!1}function DE(t){var e=Ln(t.target);if(e!==null){var n=Dn(e);if(n!==null){if(e=n.tag,e===13){if(e=Tg(n),e!==null){t.blockedOn=e,wg(t.lanePriority,function(){Xe.unstable_runWithPriority(t.priority,function(){Cg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Ja(n),e!==null&&nd(e),t.blockedOn=n,!1;e.shift()}return!0}function Ag(t,e,n){Wo(t)&&n.delete(e)}function LE(){for(id=!1;0<fr.length;){var t=fr[0];if(t.blockedOn!==null){t=Ja(t.blockedOn),t!==null&&Eg(t);break}for(var e=t.targetContainers;0<e.length;){var n=dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&fr.shift()}Qr!==null&&Wo(Qr)&&(Qr=null),Yr!==null&&Wo(Yr)&&(Yr=null),Jr!==null&&Wo(Jr)&&(Jr=null),Fa.forEach(Ag),Ua.forEach(Ag)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,id||(id=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,LE)))}function Ig(t){function e(r){return Ha(r,t)}if(0<fr.length){Ha(fr[0],t);for(var n=1;n<fr.length;n++){var i=fr[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Qr!==null&&Ha(Qr,t),Yr!==null&&Ha(Yr,t),Jr!==null&&Ha(Jr,t),Fa.forEach(e),Ua.forEach(e),n=0;n<Ba.length;n++)i=Ba[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ba.length&&(n=Ba[0],n.blockedOn===null);)DE(n),n.blockedOn===null&&Ba.shift()}function zo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hi={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},sd={},Dg={};Pr&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function $o(t){if(sd[t])return sd[t];if(!hi[t])return t;var e=hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dg)return sd[t]=e[n];return t}var Lg=$o("animationend"),Og=$o("animationiteration"),Rg=$o("animationstart"),Mg=$o("transitionend"),Ng=new Map,od=new Map,OE=["abort","abort",Lg,"animationEnd",Og,"animationIteration",Rg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mg,"transitionEnd","waiting","waiting"];function ud(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),od.set(i,e),Ng.set(i,r),kn(r,[i])}}var RE=Xe.unstable_now;RE();var we=8;function pi(t){if((1&t)!=0)return we=15,1;if((2&t)!=0)return we=14,2;if((4&t)!=0)return we=13,4;var e=24&t;return e!==0?(we=12,e):(t&32)!=0?(we=11,32):(e=192&t,e!==0?(we=10,e):(t&256)!=0?(we=9,256):(e=3584&t,e!==0?(we=8,e):(t&4096)!=0?(we=7,4096):(e=4186112&t,e!==0?(we=6,e):(e=62914560&t,e!==0?(we=5,e):t&67108864?(we=4,67108864):(t&134217728)!=0?(we=3,134217728):(e=805306368&t,e!==0?(we=2,e):(1073741824&t)!=0?(we=1,1073741824):(we=8,t))))))}function ME(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function NE(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(K(358,t))}}function Va(t,e){var n=t.pendingLanes;if(n===0)return we=0;var i=0,r=0,a=t.expiredLanes,s=t.suspendedLanes,o=t.pingedLanes;if(a!==0)i=a,r=we=15;else if(a=n&134217727,a!==0){var u=a&~s;u!==0?(i=pi(u),r=we):(o&=a,o!==0&&(i=pi(o),r=we))}else a=n&~s,a!==0?(i=pi(a),r=we):o!==0&&(i=pi(o),r=we);if(i===0)return 0;if(i=31-Zr(i),i=n&((0>i?0:1<<i)<<1)-1,e!==0&&e!==i&&(e&s)==0){if(pi(e),r<=we)return e;we=r}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Zr(e),r=1<<n,i|=t[n],e&=~r;return i}function Fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Go(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=mi(24&~e),t===0?Go(10,e):t;case 10:return t=mi(192&~e),t===0?Go(8,e):t;case 8:return t=mi(3584&~e),t===0&&(t=mi(4186112&~e),t===0&&(t=512)),t;case 2:return e=mi(805306368&~e),e===0&&(e=268435456),e}throw Error(K(358,t))}function mi(t){return t&-t}function ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qo(t,e,n){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,t=t.eventTimes,e=31-Zr(e),t[e]=n}var Zr=Math.clz32?Math.clz32:BE,FE=Math.log,UE=Math.LN2;function BE(t){return t===0?32:31-(FE(t)/UE|0)|0}var jE=Xe.unstable_UserBlockingPriority,HE=Xe.unstable_runWithPriority,Ko=!0;function VE(t,e,n,i){In||Jc();var r=cd,a=In;In=!0;try{yg(r,t,e,n,i)}finally{(In=a)||ed()}}function WE(t,e,n,i){HE(jE,cd.bind(null,t,e,n,i))}function cd(t,e,n,i){if(Ko){var r;if((r=(e&4)==0)&&0<fr.length&&-1<kg.indexOf(t))t=ad(null,t,e,n,i),fr.push(t);else{var a=dd(t,e,n,i);if(a===null)r&&Pg(t,i);else{if(r){if(-1<kg.indexOf(t)){t=ad(a,t,e,n,i),fr.push(t);return}if(IE(a,t,e,n,i))return;Pg(t,i)}hv(t,e,i,null,n)}}}}function dd(t,e,n,i){var r=Xc(i);if(r=Ln(r),r!==null){var a=Dn(r);if(a===null)r=null;else{var s=a.tag;if(s===13){if(r=Tg(a),r!==null)return r;r=null}else if(s===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return hv(t,e,i,r,n),null}var en=null,fd=null,Xo=null;function Ug(){if(Xo)return Xo;var t,e=fd,n=e.length,i,r="value"in en?en.value:en.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return Xo=r.slice(t,1<i?1-i:void 0)}function Qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yo(){return!0}function Bg(){return!1}function Ft(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yo:Bg,this.isPropagationStopped=Bg,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),e}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hd=Ft(gi),Wa=Re({},gi,{view:0,detail:0}),zE=Ft(Wa),pd,md,za,Jo=Re({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(pd=t.screenX-za.screenX,md=t.screenY-za.screenY):md=pd=0,za=t),pd)},movementY:function(t){return"movementY"in t?t.movementY:md}}),jg=Ft(Jo),$E=Re({},Jo,{dataTransfer:0}),GE=Ft($E),qE=Re({},Wa,{relatedTarget:0}),gd=Ft(qE),KE=Re({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),XE=Ft(KE),QE=Re({},gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YE=Ft(QE),JE=Re({},gi,{data:0}),Hg=Ft(JE),ZE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tC[t])?!!e[t]:!1}function vd(){return rC}var nC=Re({},Wa,{key:function(t){if(t.key){var e=ZE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iC=Ft(nC),aC=Re({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vg=Ft(aC),sC=Re({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),oC=Ft(sC),uC=Re({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lC=Ft(uC),cC=Re({},Jo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dC=Ft(cC),fC=[9,13,27,32],yd=Pr&&"CompositionEvent"in window,$a=null;Pr&&"documentMode"in document&&($a=document.documentMode);var hC=Pr&&"TextEvent"in window&&!$a,Wg=Pr&&(!yd||$a&&8<$a&&11>=$a),zg=String.fromCharCode(32),$g=!1;function Gg(t,e){switch(t){case"keyup":return fC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function pC(t,e){switch(t){case"compositionend":return qg(e);case"keypress":return e.which!==32?null:($g=!0,zg);case"textInput":return t=e.data,t===zg&&$g?null:t;default:return null}}function mC(t,e){if(vi)return t==="compositionend"||!yd&&Gg(t,e)?(t=Ug(),Xo=fd=en=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wg&&e.locale!=="ko"?null:e.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gC[t.type]:e==="textarea"}function Xg(t,e,n,i){gg(i),e=eu(e,"onChange"),0<e.length&&(n=new hd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ga=null,qa=null;function vC(t){uv(t,0)}function Zo(t){var e=Si(t);if(ig(e))return t}function yC(t,e){if(t==="change")return e}var Qg=!1;if(Pr){var _d;if(Pr){var Td="oninput"in document;if(!Td){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Td=typeof Yg.oninput=="function"}_d=Td}else _d=!1;Qg=_d&&(!document.documentMode||9<document.documentMode)}function Jg(){Ga&&(Ga.detachEvent("onpropertychange",Zg),qa=Ga=null)}function Zg(t){if(t.propertyName==="value"&&Zo(qa)){var e=[];if(Xg(e,qa,t,Xc(t)),t=vC,In)t(e);else{In=!0;try{Yc(t,e)}finally{In=!1,ed()}}}}function _C(t,e,n){t==="focusin"?(Jg(),Ga=e,qa=n,Ga.attachEvent("onpropertychange",Zg)):t==="focusout"&&Jg()}function TC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(qa)}function xC(t,e){if(t==="click")return Zo(e)}function SC(t,e){if(t==="input"||t==="change")return Zo(e)}function bC(t,e){return t===e&&(t!==0||1/t==1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:bC,EC=Object.prototype.hasOwnProperty;function Ka(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!EC.call(e,n[i])||!Gt(t[n[i]],e[n[i]]))return!1;return!0}function ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tv(t,e){var n=ev(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ev(n)}}function rv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nv(){for(var t=window,e=Bo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bo(t.document)}return e}function xd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var CC=Pr&&"documentMode"in document&&11>=document.documentMode,yi=null,Sd=null,Xa=null,bd=!1;function iv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bd||yi==null||yi!==Bo(i)||(i=yi,"selectionStart"in i&&xd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xa&&Ka(Xa,i)||(Xa=i,i=eu(Sd,"onSelect"),0<i.length&&(e=new hd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=yi)))}ud("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);ud("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ud(OE,2);for(var av="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ed=0;Ed<av.length;Ed++)od.set(av[Ed],0);ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function ov(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,PE(i,e,void 0,t),t.currentTarget=null}function uv(t,e){e=(e&4)!=0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break e;ov(r,o,l),a=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,l=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break e;ov(r,o,l),a=u}}}if(Vo)throw t=rd,Vo=!1,rd=null,t}function Ie(t,e){var n=_v(e),i=t+"__bubble";n.has(i)||(fv(e,t,2,!1),n.add(i))}var lv="_reactListening"+Math.random().toString(36).slice(2);function cv(t){t[lv]||(t[lv]=!0,Ym.forEach(function(e){sv.has(e)||dv(e,!1,t,null),dv(e,!0,t,null)}))}function dv(t,e,n,i){var r=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=n;if(t==="selectionchange"&&n.nodeType!==9&&(a=n.ownerDocument),i!==null&&!e&&sv.has(t)){if(t!=="scroll")return;r|=2,a=i}var s=_v(a),o=t+"__"+(e?"capture":"bubble");s.has(o)||(e&&(r|=4),fv(a,t,r,e),s.add(o))}function fv(t,e,n,i){var r=od.get(e);switch(r===void 0?2:r){case 0:r=VE;break;case 1:r=WE;break;default:r=cd}n=r.bind(null,e,n,t),r=void 0,!td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function hv(t,e,n,i,r){var a=i;if((e&1)==0&&(e&2)==0&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;s=s.return}for(;o!==null;){if(s=Ln(o),s===null)return;if(u=s.tag,u===5||u===6){i=a=s;continue e}o=o.parentNode}}i=i.return}EE(function(){var l=a,c=Xc(n),h=[];e:{var f=Ng.get(t);if(f!==void 0){var y=hd,b=t;switch(t){case"keypress":if(Qo(n)===0)break e;case"keydown":case"keyup":y=iC;break;case"focusin":b="focus",y=gd;break;case"focusout":b="blur",y=gd;break;case"beforeblur":case"afterblur":y=gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=oC;break;case Lg:case Og:case Rg:y=XE;break;case Mg:y=lC;break;case"scroll":y=zE;break;case"wheel":y=dC;break;case"copy":case"cut":case"paste":y=YE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vg}var x=(e&4)!=0,v=!x&&t==="scroll",S=x?f!==null?f+"Capture":null:f;x=[];for(var E=l,k;E!==null;){k=E;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,S!==null&&(P=Ra(E,S),P!=null&&x.push(Ya(E,P,k)))),v)break;E=E.return}0<x.length&&(f=new y(f,b,null,n,c),h.push({event:f,listeners:x}))}}if((e&7)==0){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&(e&16)==0&&(b=n.relatedTarget||n.fromElement)&&(Ln(b)||b[xi]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=l,b=b?Ln(b):null,b!==null&&(v=Dn(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=l),y!==b)){if(x=jg,P="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(x=Vg,P="onPointerLeave",S="onPointerEnter",E="pointer"),v=y==null?f:Si(y),k=b==null?f:Si(b),f=new x(P,E+"leave",y,n,c),f.target=v,f.relatedTarget=k,P=null,Ln(c)===l&&(x=new x(S,E+"enter",b,n,c),x.target=k,x.relatedTarget=v,P=x),v=P,y&&b)t:{for(x=y,S=b,E=0,k=x;k;k=_i(k))E++;for(k=0,P=S;P;P=_i(P))k++;for(;0<E-k;)x=_i(x),E--;for(;0<k-E;)S=_i(S),k--;for(;E--;){if(x===S||S!==null&&x===S.alternate)break t;x=_i(x),S=_i(S)}x=null}else x=null;y!==null&&pv(h,f,y,x,!1),b!==null&&v!==null&&pv(h,v,b,x,!0)}}e:{if(f=l?Si(l):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var O=yC;else if(Kg(f))if(Qg)O=SC;else{O=TC;var M=_C}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=xC);if(O&&(O=O(t,l))){Xg(h,O,n,c);break e}M&&M(t,f,l),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Vc(f,"number",f.value)}switch(M=l?Si(l):window,t){case"focusin":(Kg(M)||M.contentEditable==="true")&&(yi=M,Sd=l,Xa=null);break;case"focusout":Xa=Sd=yi=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,iv(h,n,c);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":iv(h,n,c)}var B;if(yd)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else vi?Gg(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Wg&&n.locale!=="ko"&&(vi||F!=="onCompositionStart"?F==="onCompositionEnd"&&vi&&(B=Ug()):(en=c,fd="value"in en?en.value:en.textContent,vi=!0)),M=eu(l,F),0<M.length&&(F=new Hg(F,t,null,n,c),h.push({event:F,listeners:M}),B?F.data=B:(B=qg(n),B!==null&&(F.data=B)))),(B=hC?pC(t,n):mC(t,n))&&(l=eu(l,"onBeforeInput"),0<l.length&&(c=new Hg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=B))}uv(h,e)})}function Ya(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Ra(t,n),a!=null&&i.unshift(Ya(t,a,r)),a=Ra(t,e),a!=null&&i.push(Ya(t,a,r))),t=t.return}return i}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pv(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===i)break;o.tag===5&&l!==null&&(o=l,r?(u=Ra(n,a),u!=null&&s.unshift(Ya(n,u,o))):r||(u=Ra(n,a),u!=null&&s.push(Ya(n,u,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}function tu(){}var Cd=null,wd=null;function mv(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function kd(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0;function Pd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ad=0;function kC(t){return{$$typeof:Mc,toString:t,valueOf:t}}var ru=Math.random().toString(36).slice(2),tn="__reactFiber$"+ru,nu="__reactProps$"+ru,xi="__reactContainer$"+ru,yv="__reactEvents$"+ru;function Ln(t){var e=t[tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vv(t);t!==null;){if(n=t[tn])return n;t=vv(t)}return e}t=n,n=t.parentNode}return null}function Ja(t){return t=t[tn]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function iu(t){return t[nu]||null}function _v(t){var e=t[yv];return e===void 0&&(e=t[yv]=new Set),e}var Id=[],bi=-1;function rn(t){return{current:t}}function De(t){0>bi||(t.current=Id[bi],Id[bi]=null,bi--)}function Ue(t,e){bi++,Id[bi]=t.current,t.current=e}var nn={},lt=rn(nn),kt=rn(!1),On=nn;function Ei(t,e){var n=t.type.contextTypes;if(!n)return nn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pt(t){return t=t.childContextTypes,t!=null}function au(){De(kt),De(lt)}function Tv(t,e,n){if(lt.current!==nn)throw Error(K(168));Ue(lt,e),Ue(kt,n)}function xv(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(K(108,li(e)||"Unknown",r));return Re({},n,i)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nn,On=lt.current,Ue(lt,t),Ue(kt,kt.current),!0}function Sv(t,e,n){var i=t.stateNode;if(!i)throw Error(K(169));n?(t=xv(t,e,On),i.__reactInternalMemoizedMergedChildContext=t,De(kt),De(lt),Ue(lt,t)):De(kt),Ue(kt,n)}var Dd=null,Rn=null,PC=Xe.unstable_runWithPriority,Ld=Xe.unstable_scheduleCallback,Od=Xe.unstable_cancelCallback,AC=Xe.unstable_shouldYield,bv=Xe.unstable_requestPaint,Rd=Xe.unstable_now,IC=Xe.unstable_getCurrentPriorityLevel,ou=Xe.unstable_ImmediatePriority,Ev=Xe.unstable_UserBlockingPriority,Cv=Xe.unstable_NormalPriority,wv=Xe.unstable_LowPriority,kv=Xe.unstable_IdlePriority,Md={},DC=bv!==void 0?bv:function(){},Ar=null,uu=null,Nd=!1,Pv=Rd(),ct=1e4>Pv?Rd:function(){return Rd()-Pv};function Ci(){switch(IC()){case ou:return 99;case Ev:return 98;case Cv:return 97;case wv:return 96;case kv:return 95;default:throw Error(K(332))}}function Av(t){switch(t){case 99:return ou;case 98:return Ev;case 97:return Cv;case 96:return wv;case 95:return kv;default:throw Error(K(332))}}function Mn(t,e){return t=Av(t),PC(t,e)}function Za(t,e,n){return t=Av(t),Ld(t,e,n)}function hr(){if(uu!==null){var t=uu;uu=null,Od(t)}Iv()}function Iv(){if(!Nd&&Ar!==null){Nd=!0;var t=0;try{var e=Ar;Mn(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Ar=null}catch(n){throw Ar!==null&&(Ar=Ar.slice(t+1)),Ld(ou,hr),n}finally{Nd=!1}}}var LC=Pn.ReactCurrentBatchConfig;function nr(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lu=rn(null),cu=null,wi=null,du=null;function Fd(){du=wi=cu=null}function Ud(t){var e=lu.current;De(lu),t.type._context._currentValue=e}function Dv(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function ki(t,e){cu=t,du=wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!=0&&(ir=!0),t.firstContext=null)}function qt(t,e){if(du!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(du=t,e=1073741823),e={context:t,observedBits:e,next:null},wi===null){if(cu===null)throw Error(K(308));wi=e,cu.dependencies={lanes:0,firstContext:e,responders:null}}else wi=wi.next=e;return t._currentValue}var an=!1;function Bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Lv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function on(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Ov(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function es(t,e,n,i){var r=t.updateQueue;an=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,l=u.next;u.next=null,s===null?a=l:s.next=l,s=u;var c=t.alternate;if(c!==null){c=c.updateQueue;var h=c.lastBaseUpdate;h!==s&&(h===null?c.firstBaseUpdate=l:h.next=l,c.lastBaseUpdate=u)}}if(a!==null){h=r.baseState,s=0,c=l=u=null;do{o=a.lane;var f=a.eventTime;if((i&o)===o){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(o=e,f=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(f,h,o);break e}h=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=b.payload,o=typeof y=="function"?y.call(f,h,o):y,o==null)break e;h=Re({},h,o);break e;case 2:an=!0}}a.callback!==null&&(t.flags|=32,o=r.effects,o===null?r.effects=[a]:o.push(a))}else f={eventTime:f,lane:o,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=f,u=h):c=c.next=f,s|=o;if(a=a.next,a===null){if(o=r.shared.pending,o===null)break;a=o.next,o.next=null,r.lastBaseUpdate=o,r.shared.pending=null}}while(1);c===null&&(u=h),r.baseState=u,r.firstBaseUpdate=l,r.lastBaseUpdate=c,fs|=s,t.lanes=s,t.memoizedState=h}}function Rv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var Mv=new Oo.Component().refs;function fu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hu={isMounted:function(t){return(t=t._reactInternals)?Dn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ut(),r=cn(t),a=sn(i,r);a.payload=e,n!=null&&(a.callback=n),on(t,a),dn(t,r,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ut(),r=cn(t),a=sn(i,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),on(t,a),dn(t,r,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),i=cn(t),r=sn(n,i);r.tag=2,e!=null&&(r.callback=e),on(t,r),dn(t,i,n)}};function Nv(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ka(n,i)||!Ka(r,a):!0}function Fv(t,e,n){var i=!1,r=nn,a=e.contextType;return typeof a=="object"&&a!==null?a=qt(a):(r=Pt(e)?On:lt.current,i=e.contextTypes,a=(i=i!=null)?Ei(t,r):nn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function Uv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&hu.enqueueReplaceState(e,e.state,null)}function jd(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Mv,Bd(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=qt(a):(a=Pt(e)?On:lt.current,r.context=Ei(t,a)),es(t,n,r,i),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(fu(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&hu.enqueueReplaceState(r,r.state,null),es(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4)}var pu=Array.isArray;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,t));var r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var s=i.refs;s===Mv&&(s=i.refs={}),a===null?delete s[r]:s[r]=a},e._stringRef=r,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function mu(t,e){if(t.type!=="textarea")throw Error(K(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Bv(t){function e(v,S){if(t){var E=v.lastEffect;E!==null?(E.nextEffect=S,v.lastEffect=S):v.firstEffect=v.lastEffect=S,S.nextEffect=null,S.flags=8}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function i(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(v,S){return v=pn(v,S),v.index=0,v.sibling=null,v}function a(v,S,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<S?(v.flags=2,S):E):(v.flags=2,S)):S}function s(v){return t&&v.alternate===null&&(v.flags=2),v}function o(v,S,E,k){return S===null||S.tag!==6?(S=bf(E,v.mode,k),S.return=v,S):(S=r(S,E),S.return=v,S)}function u(v,S,E,k){return S!==null&&S.elementType===E.type?(k=r(S,E.props),k.ref=ts(v,S,E),k.return=v,k):(k=Ou(E.type,E.key,E.props,null,v.mode,k),k.ref=ts(v,S,E),k.return=v,k)}function l(v,S,E,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=Ef(E,v.mode,k),S.return=v,S):(S=r(S,E.children||[]),S.return=v,S)}function c(v,S,E,k,P){return S===null||S.tag!==7?(S=Mi(E,v.mode,k,P),S.return=v,S):(S=r(S,E),S.return=v,S)}function h(v,S,E){if(typeof S=="string"||typeof S=="number")return S=bf(""+S,v.mode,E),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ka:return E=Ou(S.type,S.key,S.props,null,v.mode,E),E.ref=ts(v,null,S),E.return=v,E;case An:return S=Ef(S,v.mode,E),S.return=v,S}if(pu(S)||Ia(S))return S=Mi(S,v.mode,E,null),S.return=v,S;mu(v,S)}return null}function f(v,S,E,k){var P=S!==null?S.key:null;if(typeof E=="string"||typeof E=="number")return P!==null?null:o(v,S,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ka:return E.key===P?E.type===Kr?c(v,S,E.props.children,k,P):u(v,S,E,k):null;case An:return E.key===P?l(v,S,E,k):null}if(pu(E)||Ia(E))return P!==null?null:c(v,S,E,k,null);mu(v,E)}return null}function y(v,S,E,k,P){if(typeof k=="string"||typeof k=="number")return v=v.get(E)||null,o(S,v,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ka:return v=v.get(k.key===null?E:k.key)||null,k.type===Kr?c(S,v,k.props.children,P,k.key):u(S,v,k,P);case An:return v=v.get(k.key===null?E:k.key)||null,l(S,v,k,P)}if(pu(k)||Ia(k))return v=v.get(E)||null,c(S,v,k,P,null);mu(S,k)}return null}function b(v,S,E,k){for(var P=null,O=null,M=S,B=S=0,F=null;M!==null&&B<E.length;B++){M.index>B?(F=M,M=null):F=M.sibling;var U=f(v,M,E[B],k);if(U===null){M===null&&(M=F);break}t&&M&&U.alternate===null&&e(v,M),S=a(U,S,B),O===null?P=U:O.sibling=U,O=U,M=F}if(B===E.length)return n(v,M),P;if(M===null){for(;B<E.length;B++)M=h(v,E[B],k),M!==null&&(S=a(M,S,B),O===null?P=M:O.sibling=M,O=M);return P}for(M=i(v,M);B<E.length;B++)F=y(M,v,B,E[B],k),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?B:F.key),S=a(F,S,B),O===null?P=F:O.sibling=F,O=F);return t&&M.forEach(function(j){return e(v,j)}),P}function x(v,S,E,k){var P=Ia(E);if(typeof P!="function")throw Error(K(150));if(E=P.call(E),E==null)throw Error(K(151));for(var O=P=null,M=S,B=S=0,F=null,U=E.next();M!==null&&!U.done;B++,U=E.next()){M.index>B?(F=M,M=null):F=M.sibling;var j=f(v,M,U.value,k);if(j===null){M===null&&(M=F);break}t&&M&&j.alternate===null&&e(v,M),S=a(j,S,B),O===null?P=j:O.sibling=j,O=j,M=F}if(U.done)return n(v,M),P;if(M===null){for(;!U.done;B++,U=E.next())U=h(v,U.value,k),U!==null&&(S=a(U,S,B),O===null?P=U:O.sibling=U,O=U);return P}for(M=i(v,M);!U.done;B++,U=E.next())U=y(M,v,B,U.value,k),U!==null&&(t&&U.alternate!==null&&M.delete(U.key===null?B:U.key),S=a(U,S,B),O===null?P=U:O.sibling=U,O=U);return t&&M.forEach(function(te){return e(v,te)}),P}return function(v,S,E,k){var P=typeof E=="object"&&E!==null&&E.type===Kr&&E.key===null;P&&(E=E.props.children);var O=typeof E=="object"&&E!==null;if(O)switch(E.$$typeof){case ka:e:{for(O=E.key,P=S;P!==null;){if(P.key===O){switch(P.tag){case 7:if(E.type===Kr){n(v,P.sibling),S=r(P,E.props.children),S.return=v,v=S;break e}break;default:if(P.elementType===E.type){n(v,P.sibling),S=r(P,E.props),S.ref=ts(v,P,E),S.return=v,v=S;break e}}n(v,P);break}else e(v,P);P=P.sibling}E.type===Kr?(S=Mi(E.props.children,v.mode,k,E.key),S.return=v,v=S):(k=Ou(E.type,E.key,E.props,null,v.mode,k),k.ref=ts(v,S,E),k.return=v,v=k)}return s(v);case An:e:{for(P=E.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(v,S.sibling),S=r(S,E.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=Ef(E,v.mode,k),S.return=v,v=S}return s(v)}if(typeof E=="string"||typeof E=="number")return E=""+E,S!==null&&S.tag===6?(n(v,S.sibling),S=r(S,E),S.return=v,v=S):(n(v,S),S=bf(E,v.mode,k),S.return=v,v=S),s(v);if(pu(E))return b(v,S,E,k);if(Ia(E))return x(v,S,E,k);if(O&&mu(v,E),typeof E=="undefined"&&!P)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(K(152,li(v.type)||"Component"))}return n(v,S)}}var gu=Bv(!0),jv=Bv(!1),rs={},pr=rn(rs),ns=rn(rs),is=rn(rs);function Nn(t){if(t===rs)throw Error(K(174));return t}function Hd(t,e){switch(Ue(is,e),Ue(ns,t),Ue(pr,rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gc(e,t)}De(pr),Ue(pr,e)}function Pi(){De(pr),De(ns),De(is)}function Hv(t){Nn(is.current);var e=Nn(pr.current),n=Gc(e,t.type);e!==n&&(Ue(ns,t),Ue(pr,n))}function Vd(t){ns.current===t&&(De(pr),De(ns))}var Be=rn(0);function vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ir=null,un=null,mr=!1;function Vv(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Wv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Wd(t){if(mr){var e=un;if(e){var n=e;if(!Wv(t,e)){if(e=Ti(n.nextSibling),!e||!Wv(t,e)){t.flags=t.flags&-1025|2,mr=!1,Ir=t;return}Vv(Ir,n)}Ir=t,un=Ti(e.firstChild)}else t.flags=t.flags&-1025|2,mr=!1,Ir=t}}function zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function yu(t){if(t!==Ir)return!1;if(!mr)return zv(t),mr=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!kd(e,t.memoizedProps))for(e=un;e;)Vv(t,e),e=Ti(e.nextSibling);if(zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=Ir?Ti(t.stateNode.nextSibling):null;return!0}function zd(){un=Ir=null,mr=!1}var Ai=[];function $d(){for(var t=0;t<Ai.length;t++)Ai[t]._workInProgressVersionPrimary=null;Ai.length=0}var as=Pn.ReactCurrentDispatcher,Kt=Pn.ReactCurrentBatchConfig,ss=0,We=null,dt=null,it=null,_u=!1,os=!1;function At(){throw Error(K(321))}function Gd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function qd(t,e,n,i,r,a){if(ss=a,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,as.current=t===null||t.memoizedState===null?RC:MC,t=n(i,r),os){a=0;do{if(os=!1,!(25>a))throw Error(K(301));a+=1,it=dt=null,e.updateQueue=null,as.current=NC,t=n(i,r)}while(os)}if(as.current=bu,e=dt!==null&&dt.next!==null,ss=0,it=dt=We=null,_u=!1,e)throw Error(K(300));return t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?We.memoizedState=it=t:it=it.next=t,it}function Un(){if(dt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=it===null?We.memoizedState:it.next;if(e!==null)it=e,dt=t;else{if(t===null)throw Error(K(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},it===null?We.memoizedState=it=t:it=it.next=t}return it}function gr(t,e){return typeof e=="function"?e(t):e}function us(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=dt,r=i.baseQueue,a=n.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(r!==null){r=r.next,i=i.baseState;var o=s=a=null,u=r;do{var l=u.lane;if((ss&l)===l)o!==null&&(o=o.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),i=u.eagerReducer===t?u.eagerState:t(i,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};o===null?(s=o=c,a=i):o=o.next=c,We.lanes|=l,fs|=l}u=u.next}while(u!==null&&u!==r);o===null?a=i:o.next=s,Gt(i,e.memoizedState)||(ir=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=o,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function ls(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);Gt(a,e.memoizedState)||(ir=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function $v(t,e,n){var i=e._getVersion;i=i(e._source);var r=e._workInProgressVersionPrimary;if(r!==null?t=r===i:(t=t.mutableReadLanes,(t=(ss&t)===t)&&(e._workInProgressVersionPrimary=i,Ai.push(e))),t)return n(e._source);throw Ai.push(e),Error(K(350))}function Gv(t,e,n,i){var r=Tt;if(r===null)throw Error(K(349));var a=e._getVersion,s=a(e._source),o=as.current,u=o.useState(function(){return $v(r,e,n)}),l=u[1],c=u[0];u=it;var h=t.memoizedState,f=h.refs,y=f.getSnapshot,b=h.source;h=h.subscribe;var x=We;return t.memoizedState={refs:f,source:e,subscribe:i},o.useEffect(function(){f.getSnapshot=n,f.setSnapshot=l;var v=a(e._source);if(!Gt(s,v)){v=n(e._source),Gt(c,v)||(l(v),v=cn(x),r.mutableReadLanes|=v&r.pendingLanes),v=r.mutableReadLanes,r.entangledLanes|=v;for(var S=r.entanglements,E=v;0<E;){var k=31-Zr(E),P=1<<k;S[k]|=v,E&=~P}}},[n,e,i]),o.useEffect(function(){return i(e._source,function(){var v=f.getSnapshot,S=f.setSnapshot;try{S(v(e._source));var E=cn(x);r.mutableReadLanes|=E&r.pendingLanes}catch(k){S(function(){throw k})}})},[e,i]),Gt(y,n)&&Gt(b,e)&&Gt(h,i)||(t={pending:null,dispatch:null,lastRenderedReducer:gr,lastRenderedState:c},t.dispatch=l=Yd.bind(null,We,t),u.queue=t,u.baseQueue=null,c=$v(r,e,n),u.memoizedState=u.baseState=c),c}function qv(t,e,n){var i=Un();return Gv(i,t,e,n)}function cs(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t},t=t.dispatch=Yd.bind(null,We,t),[e.memoizedState,t]}function Tu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=We.updateQueue,e===null?(e={lastEffect:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Kv(t){var e=Fn();return t={current:t},e.memoizedState=t}function xu(){return Un().memoizedState}function Kd(t,e,n,i){var r=Fn();We.flags|=t,r.memoizedState=Tu(1|e,n,void 0,i===void 0?null:i)}function Xd(t,e,n,i){var r=Un();i=i===void 0?null:i;var a=void 0;if(dt!==null){var s=dt.memoizedState;if(a=s.destroy,i!==null&&Gd(i,s.deps)){Tu(e,n,a,i);return}}We.flags|=t,r.memoizedState=Tu(1|e,n,a,i)}function Xv(t,e){return Kd(516,4,t,e)}function Su(t,e){return Xd(516,4,t,e)}function Qv(t,e){return Xd(4,2,t,e)}function Yv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jv(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4,2,Yv.bind(null,e,t),n)}function Qd(){}function Zv(t,e){var n=Un();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Gd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function e0(t,e){var n=Un();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Gd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function OC(t,e){var n=Ci();Mn(98>n?98:n,function(){t(!0)}),Mn(97<n?97:n,function(){var i=Kt.transition;Kt.transition=1;try{t(!1),e()}finally{Kt.transition=i}})}function Yd(t,e,n){var i=Ut(),r=cn(t),a={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a,s=t.alternate,t===We||s!==null&&s===We)os=_u=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(a.eagerReducer=s,a.eagerState=u,Gt(u,o))return}catch{}finally{}dn(t,r,i)}}var bu={readContext:qt,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useOpaqueIdentifier:At,unstable_isNewReconciler:!1},RC={readContext:qt,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:Xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4,2,Yv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kd(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Fn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Yd.bind(null,We,t),[i.memoizedState,t]},useRef:Kv,useState:cs,useDebugValue:Qd,useDeferredValue:function(t){var e=cs(t),n=e[0],i=e[1];return Xv(function(){var r=Kt.transition;Kt.transition=1;try{i(t)}finally{Kt.transition=r}},[t]),n},useTransition:function(){var t=cs(!1),e=t[0];return t=OC.bind(null,t[1]),Kv(t),[t,e]},useMutableSource:function(t,e,n){var i=Fn();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Gv(i,t,e,n)},useOpaqueIdentifier:function(){if(mr){var t=!1,e=kC(function(){throw t||(t=!0,n("r:"+(Ad++).toString(36))),Error(K(355))}),n=cs(e)[1];return(We.mode&2)==0&&(We.flags|=516,Tu(5,function(){n("r:"+(Ad++).toString(36))},void 0,null)),e}return e="r:"+(Ad++).toString(36),cs(e),e},unstable_isNewReconciler:!1},MC={readContext:qt,useCallback:Zv,useContext:qt,useEffect:Su,useImperativeHandle:Jv,useLayoutEffect:Qv,useMemo:e0,useReducer:us,useRef:xu,useState:function(){return us(gr)},useDebugValue:Qd,useDeferredValue:function(t){var e=us(gr),n=e[0],i=e[1];return Su(function(){var r=Kt.transition;Kt.transition=1;try{i(t)}finally{Kt.transition=r}},[t]),n},useTransition:function(){var t=us(gr)[0];return[xu().current,t]},useMutableSource:qv,useOpaqueIdentifier:function(){return us(gr)[0]},unstable_isNewReconciler:!1},NC={readContext:qt,useCallback:Zv,useContext:qt,useEffect:Su,useImperativeHandle:Jv,useLayoutEffect:Qv,useMemo:e0,useReducer:ls,useRef:xu,useState:function(){return ls(gr)},useDebugValue:Qd,useDeferredValue:function(t){var e=ls(gr),n=e[0],i=e[1];return Su(function(){var r=Kt.transition;Kt.transition=1;try{i(t)}finally{Kt.transition=r}},[t]),n},useTransition:function(){var t=ls(gr)[0];return[xu().current,t]},useMutableSource:qv,useOpaqueIdentifier:function(){return ls(gr)[0]},unstable_isNewReconciler:!1},FC=Pn.ReactCurrentOwner,ir=!1;function It(t,e,n,i){e.child=t===null?jv(e,null,n,i):gu(e,t.child,n,i)}function t0(t,e,n,i,r){n=n.render;var a=e.ref;return ki(e,r),i=qd(t,e,n,i,a,r),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~r,Dr(t,e,r)):(e.flags|=1,It(t,e,i,r),e.child)}function r0(t,e,n,i,r,a){if(t===null){var s=n.type;return typeof s=="function"&&!xf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,n0(t,e,s,i,r,a)):(t=Ou(n.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(r&a)==0&&(r=s.memoizedProps,n=n.compare,n=n!==null?n:Ka,n(r,i)&&t.ref===e.ref)?Dr(t,e,a):(e.flags|=1,t=pn(s,i),t.ref=e.ref,t.return=e,e.child=t)}function n0(t,e,n,i,r,a){if(t!==null&&Ka(t.memoizedProps,i)&&t.ref===e.ref)if(ir=!1,(a&r)!=0)(t.flags&16384)!=0&&(ir=!0);else return e.lanes=t.lanes,Dr(t,e,a);return Zd(t,e,n,i,a)}function Jd(t,e,n){var i=e.pendingProps,r=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden"||i.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},Lu(e,n);else if((n&1073741824)!=0)e.memoizedState={baseLanes:0},Lu(e,a!==null?a.baseLanes:n);else return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Lu(e,t),null;else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Lu(e,i);return It(t,e,r,n),e.child}function i0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Zd(t,e,n,i,r){var a=Pt(n)?On:lt.current;return a=Ei(e,a),ki(e,r),n=qd(t,e,n,i,a,r),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~r,Dr(t,e,r)):(e.flags|=1,It(t,e,n,r),e.child)}function a0(t,e,n,i,r){if(Pt(n)){var a=!0;su(e)}else a=!1;if(ki(e,r),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Fv(e,n,i),jd(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=qt(l):(l=Pt(n)?On:lt.current,l=Ei(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||u!==l)&&Uv(e,s,i,l),an=!1;var f=e.memoizedState;s.state=f,es(e,i,s,r),u=e.memoizedState,o!==i||f!==u||kt.current||an?(typeof c=="function"&&(fu(e,n,c,i),u=e.memoizedState),(o=an||Nv(e,n,o,i,f,u,l))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=l,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4),i=!1)}else{s=e.stateNode,Lv(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:nr(e.type,o),s.props=l,h=e.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=qt(u):(u=Pt(n)?On:lt.current,u=Ei(e,u));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==u)&&Uv(e,s,i,u),an=!1,f=e.memoizedState,s.state=f,es(e,i,s,r);var b=e.memoizedState;o!==h||f!==b||kt.current||an?(typeof y=="function"&&(fu(e,n,y,i),b=e.memoizedState),(l=an||Nv(e,n,l,i,f,b,u))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,b,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,b,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=b),s.props=i,s.state=b,s.context=u,i=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),i=!1)}return ef(t,e,n,i,a,r)}function ef(t,e,n,i,r,a){i0(t,e);var s=(e.flags&64)!=0;if(!i&&!s)return r&&Sv(e,n,!1),Dr(t,e,a);i=e.stateNode,FC.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=gu(e,t.child,null,a),e.child=gu(e,null,o,a)):It(t,e,o,a),e.memoizedState=i.state,r&&Sv(e,n,!0),e.child}function s0(t){var e=t.stateNode;e.pendingContext?Tv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tv(t,e.context,!1),Hd(t,e.containerInfo)}var Eu={dehydrated:null,retryLane:0};function o0(t,e,n){var i=e.pendingProps,r=Be.current,a=!1,s;return(s=(e.flags&64)!=0)||(s=t!==null&&t.memoizedState===null?!1:(r&2)!=0),s?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(r|=1),Ue(Be,r&1),t===null?(i.fallback!==void 0&&Wd(e),t=i.children,r=i.fallback,a?(t=u0(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Eu,t):typeof i.unstable_expectedLoadTime=="number"?(t=u0(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Eu,e.lanes=33554432,t):(n=Sf({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?a?(i=c0(t,e,i.children,i.fallback,n),a=e.child,r=t.child.memoizedState,a.memoizedState=r===null?{baseLanes:n}:{baseLanes:r.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Eu,i):(n=l0(t,e,i.children,n),e.memoizedState=null,n):a?(i=c0(t,e,i.children,i.fallback,n),a=e.child,r=t.child.memoizedState,a.memoizedState=r===null?{baseLanes:n}:{baseLanes:r.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Eu,i):(n=l0(t,e,i.children,n),e.memoizedState=null,n)}function u0(t,e,n,i){var r=t.mode,a=t.child;return e={mode:"hidden",children:e},(r&2)==0&&a!==null?(a.childLanes=0,a.pendingProps=e):a=Sf(e,r,0,null),n=Mi(n,r,i,null),a.return=t,n.return=t,a.sibling=n,t.child=a,n}function l0(t,e,n,i){var r=t.child;return t=r.sibling,n=pn(r,{mode:"visible",children:n}),(e.mode&2)==0&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function c0(t,e,n,i,r){var a=e.mode,s=t.child;t=s.sibling;var o={mode:"hidden",children:n};return(a&2)==0&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=o,s=n.lastEffect,s!==null?(e.firstEffect=n.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):n=pn(s,o),t!==null?i=pn(t,i):(i=Mi(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,i}function d0(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Dv(t.return,e)}function tf(t,e,n,i,r,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.lastEffect=a)}function f0(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(It(t,e,i.children,n),i=Be.current,(i&2)!=0)i=i&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!=0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d0(t,n);else if(t.tag===19)d0(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ue(Be,i),(e.mode&2)==0)e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&vu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),tf(e,!1,r,n,a,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&vu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}tf(e,!0,n,null,a,e.lastEffect);break;case"together":tf(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,(n&e.childLanes)!=0){if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=pn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var h0,rf,p0,m0;h0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rf=function(){};p0=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Nn(pr.current);var a=null;switch(n){case"input":r=jc(t,r),i=jc(t,i),a=[];break;case"option":r=Wc(t,r),i=Wc(t,i),a=[];break;case"select":r=Re({},r,{value:void 0}),i=Re({},i,{value:void 0}),a=[];break;case"textarea":r=zc(t,r),i=zc(t,i),a=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=tu)}qc(n,i);var s;n=null;for(l in r)if(!i.hasOwnProperty(l)&&r.hasOwnProperty(l)&&r[l]!=null)if(l==="style"){var o=r[l];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wa.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in i){var u=i[l];if(o=r!=null?r[l]:void 0,i.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(wa.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ie("scroll",t),a||o===u||(a=[])):typeof u=="object"&&u!==null&&u.$$typeof===Mc?u.toString():(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};m0=function(t,e,n,i){n!==i&&(e.flags|=4)};function ds(t,e){if(!mr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function UC(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Pt(e.type)&&au(),null;case 3:return Pi(),De(kt),De(lt),$d(),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(yu(e)?e.flags|=4:i.hydrate||(e.flags|=256)),rf(e),null;case 5:Vd(e);var r=Nn(is.current);if(n=e.type,t!==null&&e.stateNode!=null)p0(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(e.stateNode===null)throw Error(K(166));return null}if(t=Nn(pr.current),yu(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[tn]=e,i[nu]=a,n){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(t=0;t<Qa.length;t++)Ie(Qa[t],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":ag(i,a),Ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ie("invalid",i);break;case"textarea":ug(i,a),Ie("invalid",i)}qc(n,a),t=null;for(var s in a)a.hasOwnProperty(s)&&(r=a[s],s==="children"?typeof r=="string"?i.textContent!==r&&(t=["children",r]):typeof r=="number"&&i.textContent!==""+r&&(t=["children",""+r]):wa.hasOwnProperty(s)&&r!=null&&s==="onScroll"&&Ie("scroll",i));switch(n){case"input":Uo(i),og(i,a,!0);break;case"textarea":Uo(i),cg(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=tu)}i=t,e.updateQueue=i,i!==null&&(e.flags|=4)}else{switch(s=r.nodeType===9?r:r.ownerDocument,t===$c.html&&(t=dg(n)),t===$c.html?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[tn]=e,t[nu]=i,h0(t,e,!1,!1),e.stateNode=t,s=Kc(n,i),n){case"dialog":Ie("cancel",t),Ie("close",t),r=i;break;case"iframe":case"object":case"embed":Ie("load",t),r=i;break;case"video":case"audio":for(r=0;r<Qa.length;r++)Ie(Qa[r],t);r=i;break;case"source":Ie("error",t),r=i;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),r=i;break;case"details":Ie("toggle",t),r=i;break;case"input":ag(t,i),r=jc(t,i),Ie("invalid",t);break;case"option":r=Wc(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Re({},i,{value:void 0}),Ie("invalid",t);break;case"textarea":ug(t,i),r=zc(t,i),Ie("invalid",t);break;default:r=i}qc(n,r);var o=r;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?pg(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fg(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&La(t,u):typeof u=="number"&&La(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wa.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Ie("scroll",t):u!=null&&Ac(t,a,u,s))}switch(n){case"input":Uo(t),og(t,i,!1);break;case"textarea":Uo(t),cg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Xr(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?ci(t,!!i.multiple,a,!1):i.defaultValue!=null&&ci(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=tu)}mv(n,i)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)m0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));n=Nn(is.current),Nn(pr.current),yu(e)?(i=e.stateNode,n=e.memoizedProps,i[tn]=e,i.nodeValue!==n&&(e.flags|=4)):(i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[tn]=e,e.stateNode=i)}return null;case 13:return De(Be),i=e.memoizedState,(e.flags&64)!=0?(e.lanes=n,e):(i=i!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&yu(e):n=t.memoizedState!==null,i&&!n&&(e.mode&2)!=0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Be.current&1)!=0?at===0&&(at=3):((at===0||at===3)&&(at=4),Tt===null||(fs&134217727)==0&&(Di&134217727)==0||Oi(Tt,ft))),(i||n)&&(e.flags|=4),null);case 4:return Pi(),rf(e),t===null&&cv(e.stateNode.containerInfo),null;case 10:return Ud(e),null;case 17:return Pt(e.type)&&au(),null;case 19:if(De(Be),i=e.memoizedState,i===null)return null;if(a=(e.flags&64)!=0,s=i.rendering,s===null)if(a)ds(i,!1);else{if(at!==0||t!==null&&(t.flags&64)!=0)for(t=e.child;t!==null;){if(s=vu(t),s!==null){for(e.flags|=64,ds(i,!1),a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),i.lastEffect===null&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>pf&&(e.flags|=64,a=!0,ds(i,!1),e.lanes=33554432)}else{if(!a)if(t=vu(s),t!==null){if(e.flags|=64,a=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!mr)return e=e.lastEffect=i.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ct()-i.renderingStartTime>pf&&n!==1073741824&&(e.flags|=64,a=!0,ds(i,!1),e.lanes=33554432);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=ct(),n.sibling=null,e=Be.current,Ue(Be,a?e&1|2:e&1),n):null;case 23:case 24:return Tf(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&i.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(K(156,e.tag))}function BC(t){switch(t.tag){case 1:Pt(t.type)&&au();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Pi(),De(kt),De(lt),$d(),e=t.flags,(e&64)!=0)throw Error(K(285));return t.flags=e&-4097|64,t;case 5:return Vd(t),null;case 13:return De(Be),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return De(Be),null;case 4:return Pi(),null;case 10:return Ud(t),null;case 23:case 24:return Tf(),null;default:return null}}function nf(t,e){try{var n="",i=e;do n+=_E(i),i=i.return;while(i);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r}}function af(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function g0(t,e,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ku||(ku=!0,mf=i),af(t,e)},n}function v0(t,e,n){n=sn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return af(t,e),i(r)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){typeof i!="function"&&(vr===null?vr=new Set([this]):vr.add(this),af(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}var HC=typeof WeakSet=="function"?WeakSet:Set;function y0(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){hn(t,n)}else e.current=null}function VC(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:nr(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Pd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(K(163))}function WC(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)==3){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var r=t;i=r.next,r=r.tag,(r&4)!=0&&(r&1)!=0&&(O0(n,t),YC(n,t)),t=i}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:nr(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Rv(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Rv(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&mv(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Ig(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(K(163))}function _0(t,e){for(var n=t;;){if(n.tag===5){var i=n.stateNode;if(e)i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=r!=null&&r.hasOwnProperty("display")?r.display:null,i.style.display=hg("display",r)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function T0(t,e){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Dd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var i=n,r=i.destroy;if(i=i.tag,r!==void 0)if((i&4)!=0)O0(e,n);else{i=e;try{r()}catch(a){hn(i,a)}}n=n.next}while(n!==t)}break;case 1:if(y0(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){hn(e,a)}break;case 5:y0(e);break;case 4:E0(t,e)}}function x0(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function S0(t){return t.tag===5||t.tag===3||t.tag===4}function b0(t){e:{for(var e=t.return;e!==null;){if(S0(e))break e;e=e.return}throw Error(K(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:e=e.containerInfo,i=!0;break;case 4:e=e.containerInfo,i=!0;break;default:throw Error(K(161))}n.flags&16&&(La(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||S0(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}i?sf(t,n,e):of(t,n,e)}function sf(t,e,n){var i=t.tag,r=i===5||i===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tu));else if(i!==4&&(t=t.child,t!==null))for(sf(t,e,n),t=t.sibling;t!==null;)sf(t,e,n),t=t.sibling}function of(t,e,n){var i=t.tag,r=i===5||i===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(of(t,e,n),t=t.sibling;t!==null;)of(t,e,n),t=t.sibling}function E0(t,e){for(var n=e,i=!1,r,a;;){if(!i){i=n.return;e:for(;;){if(i===null)throw Error(K(160));switch(r=i.stateNode,i.tag){case 5:a=!1;break e;case 3:r=r.containerInfo,a=!0;break e;case 4:r=r.containerInfo,a=!0;break e}i=i.return}i=!0}if(n.tag===5||n.tag===6){e:for(var s=t,o=n,u=o;;)if(T0(s,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}a?(s=r,o=n.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):r.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){r=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(T0(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function uf(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do(i.tag&3)==3&&(t=i.destroy,i.destroy=void 0,t!==void 0&&t()),i=i.next;while(i!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){i=e.memoizedProps;var r=t!==null?t.memoizedProps:i;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(n[nu]=i,t==="input"&&i.type==="radio"&&i.name!=null&&sg(n,i),Kc(t,r),e=Kc(t,i),r=0;r<a.length;r+=2){var s=a[r],o=a[r+1];s==="style"?pg(n,o):s==="dangerouslySetInnerHTML"?fg(n,o):s==="children"?La(n,o):Ac(n,s,o,e)}switch(t){case"input":Hc(n,i);break;case"textarea":lg(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,a=i.value,a!=null?ci(n,!!i.multiple,a,!1):t!==!!i.multiple&&(i.defaultValue!=null?ci(n,!!i.multiple,i.defaultValue,!0):ci(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(K(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Ig(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(hf=ct(),_0(e.child,!0)),C0(e);return;case 19:C0(e);return;case 17:return;case 23:case 24:_0(e,e.memoizedState!==null);return}throw Error(K(163))}function C0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HC),e.forEach(function(i){var r=e1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function zC(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var $C=Math.ceil,Cu=Pn.ReactCurrentDispatcher,lf=Pn.ReactCurrentOwner,le=0,Tt=null,Ke=null,ft=0,Bn=0,cf=rn(0),at=0,wu=null,Ii=0,fs=0,Di=0,df=0,ff=null,hf=0,pf=1/0;function Li(){pf=ct()+500}var J=null,ku=!1,mf=null,vr=null,ln=!1,hs=null,ps=90,gf=[],vf=[],Lr=null,ms=0,yf=null,Pu=-1,Or=0,Au=0,gs=null,Iu=!1;function Ut(){return(le&48)!=0?ct():Pu!==-1?Pu:Pu=ct()}function cn(t){if(t=t.mode,(t&2)==0)return 1;if((t&4)==0)return Ci()===99?1:2;if(Or===0&&(Or=Ii),LC.transition!==0){Au!==0&&(Au=ff!==null?ff.pendingLanes:0),t=Or;var e=4186112&~Au;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ci(),(le&4)!=0&&t===98?t=Go(12,Or):(t=ME(t),t=Go(t,Or)),t}function dn(t,e,n){if(50<ms)throw ms=0,yf=null,Error(K(185));if(t=Du(t,e),t===null)return null;qo(t,e,n),t===Tt&&(Di|=e,at===4&&Oi(t,ft));var i=Ci();e===1?(le&8)!=0&&(le&48)==0?_f(t):(Xt(t,n),le===0&&(Li(),hr())):((le&4)==0||i!==98&&i!==99||(Lr===null?Lr=new Set([t]):Lr.add(t)),Xt(t,n)),ff=t}function Du(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Xt(t,e){for(var n=t.callbackNode,i=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zr(s),u=1<<o,l=a[o];if(l===-1){if((u&i)==0||(u&r)!=0){l=e,pi(u);var c=we;a[o]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=e&&(t.expiredLanes|=u);s&=~u}if(i=Va(t,t===Tt?ft:0),e=we,i===0)n!==null&&(n!==Md&&Od(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Md&&Od(n)}e===15?(n=_f.bind(null,t),Ar===null?(Ar=[n],uu=Ld(ou,Iv)):Ar.push(n),n=Md):e===14?n=Za(99,_f.bind(null,t)):(n=NE(e),n=Za(n,w0.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function w0(t){if(Pu=-1,Au=Or=0,(le&48)!=0)throw Error(K(327));var e=t.callbackNode;if(fn()&&t.callbackNode!==e)return null;var n=Va(t,t===Tt?ft:0);if(n===0)return null;var i=n,r=le;le|=16;var a=I0();(Tt!==t||ft!==i)&&(Li(),Ri(t,i));do try{KC();break}catch(o){A0(t,o)}while(1);if(Fd(),Cu.current=a,le=r,Ke!==null?i=0:(Tt=null,ft=0,i=at),(Ii&Di)!=0)Ri(t,0);else if(i!==0){if(i===2&&(le|=64,t.hydrate&&(t.hydrate=!1,Pd(t.containerInfo)),n=Fg(t),n!==0&&(i=vs(t,n))),i===1)throw e=wu,Ri(t,0),Oi(t,n),Xt(t,ct()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(K(345));case 2:jn(t);break;case 3:if(Oi(t,n),(n&62914560)===n&&(i=hf+500-ct(),10<i)){if(Va(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){Ut(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=gv(jn.bind(null,t),i);break}jn(t);break;case 4:if(Oi(t,n),(n&4186112)===n)break;for(i=t.eventTimes,r=-1;0<n;){var s=31-Zr(n);a=1<<s,s=i[s],s>r&&(r=s),n&=~a}if(n=r,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$C(n/1960))-n,10<n){t.timeoutHandle=gv(jn.bind(null,t),n);break}jn(t);break;case 5:jn(t);break;default:throw Error(K(329))}}return Xt(t,ct()),t.callbackNode===e?w0.bind(null,t):null}function Oi(t,e){for(e&=~df,e&=~Di,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zr(e),i=1<<n;t[n]=-1,e&=~i}}function _f(t){if((le&48)!=0)throw Error(K(327));if(fn(),t===Tt&&(t.expiredLanes&ft)!=0){var e=ft,n=vs(t,e);(Ii&Di)!=0&&(e=Va(t,e),n=vs(t,e))}else e=Va(t,0),n=vs(t,e);if(t.tag!==0&&n===2&&(le|=64,t.hydrate&&(t.hydrate=!1,Pd(t.containerInfo)),e=Fg(t),e!==0&&(n=vs(t,e))),n===1)throw n=wu,Ri(t,0),Oi(t,e),Xt(t,ct()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,jn(t),Xt(t,ct()),null}function GC(){if(Lr!==null){var t=Lr;Lr=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Xt(e,ct())})}hr()}function k0(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Li(),hr())}}function P0(t,e){var n=le;le&=-2,le|=8;try{return t(e)}finally{le=n,le===0&&(Li(),hr())}}function Lu(t,e){Ue(cf,Bn),Bn|=e,Ii|=e}function Tf(){Bn=cf.current,De(cf)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wC(n)),Ke!==null)for(n=Ke.return;n!==null;){var i=n;switch(i.tag){case 1:i=i.type.childContextTypes,i!=null&&au();break;case 3:Pi(),De(kt),De(lt),$d();break;case 5:Vd(i);break;case 4:Pi();break;case 13:De(Be);break;case 19:De(Be);break;case 10:Ud(i);break;case 23:case 24:Tf()}n=n.return}Tt=t,Ke=pn(t.current,null),ft=Bn=Ii=e,at=0,wu=null,df=Di=fs=0}function A0(t,e){do{var n=Ke;try{if(Fd(),as.current=bu,_u){for(var i=We.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_u=!1}if(ss=0,it=dt=We=null,os=!1,lf.current=null,n===null||n.return===null){at=1,wu=e,Ke=null;break}e:{var a=t,s=n.return,o=n,u=e;if(e=ft,o.flags|=2048,o.firstEffect=o.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if((o.mode&2)==0){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.lanes=c.lanes):(o.updateQueue=null,o.memoizedState=null)}var h=(Be.current&1)!=0,f=s;do{var y;if(y=f.tag===13){var b=f.memoizedState;if(b!==null)y=b.dehydrated!==null;else{var x=f.memoizedProps;y=x.fallback===void 0?!1:x.unstable_avoidThisFallback!==!0?!0:!h}}if(y){var v=f.updateQueue;if(v===null){var S=new Set;S.add(l),f.updateQueue=S}else v.add(l);if((f.mode&2)==0){if(f.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var E=sn(-1,1);E.tag=2,on(o,E)}o.lanes|=1;break e}u=void 0,o=e;var k=a.pingCache;if(k===null?(k=a.pingCache=new jC,u=new Set,k.set(l,u)):(u=k.get(l),u===void 0&&(u=new Set,k.set(l,u))),!u.has(o)){u.add(o);var P=ZC.bind(null,a,l,o);l.then(P,P)}f.flags|=4096,f.lanes=e;break e}f=f.return}while(f!==null);u=Error((li(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}at!==5&&(at=2),u=nf(u,o),f=s;do{switch(f.tag){case 3:a=u,f.flags|=4096,e&=-e,f.lanes|=e;var O=g0(f,a,e);Ov(f,O);break e;case 1:a=u;var M=f.type,B=f.stateNode;if((f.flags&64)==0&&(typeof M.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(vr===null||!vr.has(B)))){f.flags|=4096,e&=-e,f.lanes|=e;var F=v0(f,a,e);Ov(f,F);break e}}f=f.return}while(f!==null)}L0(n)}catch(U){e=U,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function I0(){var t=Cu.current;return Cu.current=bu,t===null?bu:t}function vs(t,e){var n=le;le|=16;var i=I0();Tt===t&&ft===e||Ri(t,e);do try{qC();break}catch(r){A0(t,r)}while(1);if(Fd(),le=n,Cu.current=i,Ke!==null)throw Error(K(261));return Tt=null,ft=0,at}function qC(){for(;Ke!==null;)D0(Ke)}function KC(){for(;Ke!==null&&!AC();)D0(Ke)}function D0(t){var e=M0(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?L0(t):Ke=e,lf.current=null}function L0(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)==0){if(n=UC(n,e,Bn),n!==null){Ke=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Bn&1073741824)!=0||(n.mode&4)==0){for(var i=0,r=n.child;r!==null;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}t!==null&&(t.flags&2048)==0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=BC(e),n!==null){n.flags&=2047,Ke=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);at===0&&(at=5)}function jn(t){var e=Ci();return Mn(99,XC.bind(null,t,e)),null}function XC(t,e){do fn();while(hs!==null);if((le&48)!=0)throw Error(K(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null;var i=n.lanes|n.childLanes,r=i,a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;for(var s=t.eventTimes,o=t.expirationTimes;0<a;){var u=31-Zr(a),l=1<<u;r[u]=0,s[u]=-1,o[u]=-1,a&=~l}if(Lr!==null&&(i&24)==0&&Lr.has(t)&&Lr.delete(t),t===Tt&&(Ke=Tt=null,ft=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){if(r=le,le|=32,lf.current=null,Cd=Ko,s=nv(),xd(s)){if("selectionStart"in s)o={start:s.selectionStart,end:s.selectionEnd};else e:if(o=(o=s.ownerDocument)&&o.defaultView||window,(l=o.getSelection&&o.getSelection())&&l.rangeCount!==0){o=l.anchorNode,a=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{o.nodeType,u.nodeType}catch{o=null;break e}var c=0,h=-1,f=-1,y=0,b=0,x=s,v=null;t:for(;;){for(var S;x!==o||a!==0&&x.nodeType!==3||(h=c+a),x!==u||l!==0&&x.nodeType!==3||(f=c+l),x.nodeType===3&&(c+=x.nodeValue.length),(S=x.firstChild)!==null;)v=x,x=S;for(;;){if(x===s)break t;if(v===o&&++y===a&&(h=c),v===u&&++b===l&&(f=c),(S=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=S}o=h===-1||f===-1?null:{start:h,end:f}}else o=null;o=o||{start:0,end:0}}else o=null;wd={focusedElem:s,selectionRange:o},Ko=!1,gs=null,Iu=!1,J=i;do try{QC()}catch(U){if(J===null)throw Error(K(330));hn(J,U),J=J.nextEffect}while(J!==null);gs=null,J=i;do try{for(s=t;J!==null;){var E=J.flags;if(E&16&&La(J.stateNode,""),E&128){var k=J.alternate;if(k!==null){var P=k.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(E&1038){case 2:b0(J),J.flags&=-3;break;case 6:b0(J),J.flags&=-3,uf(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,uf(J.alternate,J);break;case 4:uf(J.alternate,J);break;case 8:o=J,E0(s,o);var O=o.alternate;x0(o),O!==null&&x0(O)}J=J.nextEffect}}catch(U){if(J===null)throw Error(K(330));hn(J,U),J=J.nextEffect}while(J!==null);if(P=wd,k=nv(),E=P.focusedElem,s=P.selectionRange,k!==E&&E&&E.ownerDocument&&rv(E.ownerDocument.documentElement,E)){for(s!==null&&xd(E)&&(k=s.start,P=s.end,P===void 0&&(P=k),"selectionStart"in E?(E.selectionStart=k,E.selectionEnd=Math.min(P,E.value.length)):(P=(k=E.ownerDocument||document)&&k.defaultView||window,P.getSelection&&(P=P.getSelection(),o=E.textContent.length,O=Math.min(s.start,o),s=s.end===void 0?O:Math.min(s.end,o),!P.extend&&O>s&&(o=s,s=O,O=o),o=tv(E,O),a=tv(E,s),o&&a&&(P.rangeCount!==1||P.anchorNode!==o.node||P.anchorOffset!==o.offset||P.focusNode!==a.node||P.focusOffset!==a.offset)&&(k=k.createRange(),k.setStart(o.node,o.offset),P.removeAllRanges(),O>s?(P.addRange(k),P.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),P.addRange(k)))))),k=[],P=E;P=P.parentNode;)P.nodeType===1&&k.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<k.length;E++)P=k[E],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Ko=!!Cd,wd=Cd=null,t.current=n,J=i;do try{for(E=t;J!==null;){var M=J.flags;if(M&36&&WC(E,J.alternate,J),M&128){k=void 0;var B=J.ref;if(B!==null){var F=J.stateNode;switch(J.tag){case 5:k=F;break;default:k=F}typeof B=="function"?B(k):B.current=k}}J=J.nextEffect}}catch(U){if(J===null)throw Error(K(330));hn(J,U),J=J.nextEffect}while(J!==null);J=null,DC(),le=r}else t.current=n;if(ln)ln=!1,hs=t,ps=e;else for(J=i;J!==null;)e=J.nextEffect,J.nextEffect=null,J.flags&8&&(M=J,M.sibling=null,M.stateNode=null),J=e;if(i=t.pendingLanes,i===0&&(vr=null),i===1?t===yf?ms++:(ms=0,yf=t):ms=0,n=n.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Dd,n,void 0,(n.current.flags&64)==64)}catch{}if(Xt(t,ct()),ku)throw ku=!1,t=mf,mf=null,t;return(le&8)!=0||hr(),null}function QC(){for(;J!==null;){var t=J.alternate;Iu||gs===null||((J.flags&8)!=0?bg(J,gs)&&(Iu=!0):J.tag===13&&zC(t,J)&&bg(J,gs)&&(Iu=!0));var e=J.flags;(e&256)!=0&&VC(t,J),(e&512)==0||ln||(ln=!0,Za(97,function(){return fn(),null})),J=J.nextEffect}}function fn(){if(ps!==90){var t=97<ps?97:ps;return ps=90,Mn(t,JC)}return!1}function YC(t,e){gf.push(e,t),ln||(ln=!0,Za(97,function(){return fn(),null}))}function O0(t,e){vf.push(e,t),ln||(ln=!0,Za(97,function(){return fn(),null}))}function JC(){if(hs===null)return!1;var t=hs;if(hs=null,(le&48)!=0)throw Error(K(331));var e=le;le|=32;var n=vf;vf=[];for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1],s=r.destroy;if(r.destroy=void 0,typeof s=="function")try{s()}catch(u){if(a===null)throw Error(K(330));hn(a,u)}}for(n=gf,gf=[],i=0;i<n.length;i+=2){r=n[i],a=n[i+1];try{var o=r.create;r.destroy=o()}catch(u){if(a===null)throw Error(K(330));hn(a,u)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return le=e,hr(),!0}function R0(t,e,n){e=nf(n,e),e=g0(t,e,1),on(t,e),e=Ut(),t=Du(t,1),t!==null&&(qo(t,1,e),Xt(t,e))}function hn(t,e){if(t.tag===3)R0(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){R0(n,t,e);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(vr===null||!vr.has(i))){t=nf(e,t);var r=v0(n,t,1);if(on(n,r),r=Ut(),n=Du(n,1),n!==null)qo(n,1,r),Xt(n,r);else if(typeof i.componentDidCatch=="function"&&(vr===null||!vr.has(i)))try{i.componentDidCatch(e,t)}catch{}break}}n=n.return}}function ZC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(ft&n)===n&&(at===4||at===3&&(ft&62914560)===ft&&500>ct()-hf?Ri(t,0):df|=n),Xt(t,e)}function e1(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)==0?e=1:(e&4)==0?e=Ci()===99?1:2:(Or===0&&(Or=Ii),e=mi(62914560&~Or),e===0&&(e=4194304))),n=Ut(),t=Du(t,e),t!==null&&(qo(t,e,n),Xt(t,n))}var M0;M0=function(t,e,n){var i=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)ir=!0;else if((n&i)!=0)ir=(t.flags&16384)!=0;else{switch(ir=!1,e.tag){case 3:s0(e),zd();break;case 5:Hv(e);break;case 1:Pt(e.type)&&su(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var r=e.type._context;Ue(lu,r._currentValue),r._currentValue=i;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!=0?o0(t,e,n):(Ue(Be,Be.current&1),e=Dr(t,e,n),e!==null?e.sibling:null);Ue(Be,Be.current&1);break;case 19:if(i=(n&e.childLanes)!=0,(t.flags&64)!=0){if(i)return f0(t,e,n);e.flags|=64}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ue(Be,Be.current),i)break;return null;case 23:case 24:return e.lanes=0,Jd(t,e,n)}return Dr(t,e,n)}else ir=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,r=Ei(e,lt.current),ki(e,n),r=qd(null,e,i,t,r,n),e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(i)){var a=!0;su(e)}else a=!1;e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Bd(e);var s=i.getDerivedStateFromProps;typeof s=="function"&&fu(e,i,s,t),r.updater=hu,e.stateNode=r,r._reactInternals=e,jd(e,i,t,n),e=ef(null,e,i,!0,a,n)}else e.tag=0,It(null,e,r,n),e=e.child;return e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=r1(r),t=nr(r,t),a){case 0:e=Zd(null,e,r,t,n);break e;case 1:e=a0(null,e,r,t,n);break e;case 11:e=t0(null,e,r,t,n);break e;case 14:e=r0(null,e,r,nr(r.type,t),i,n);break e}throw Error(K(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:nr(i,r),Zd(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:nr(i,r),a0(t,e,i,r,n);case 3:if(s0(e),i=e.updateQueue,t===null||i===null)throw Error(K(282));if(i=e.pendingProps,r=e.memoizedState,r=r!==null?r.element:null,Lv(t,e),es(e,i,null,n),i=e.memoizedState.element,i===r)zd(),e=Dr(t,e,n);else{if(r=e.stateNode,(a=r.hydrate)&&(un=Ti(e.stateNode.containerInfo.firstChild),Ir=e,a=mr=!0),a){if(t=r.mutableSourceEagerHydrationData,t!=null)for(r=0;r<t.length;r+=2)a=t[r],a._workInProgressVersionPrimary=t[r+1],Ai.push(a);for(n=jv(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else It(t,e,i,n),zd();e=e.child}return e;case 5:return Hv(e),t===null&&Wd(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,kd(i,r)?s=null:a!==null&&kd(i,a)&&(e.flags|=16),i0(t,e),It(t,e,s,n),e.child;case 6:return t===null&&Wd(e),null;case 13:return o0(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=gu(e,null,i,n):It(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:nr(i,r),t0(t,e,i,r,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value;var o=e.type._context;if(Ue(lu,o._currentValue),o._currentValue=a,s!==null)if(o=s.value,a=Gt(o,a)?0:(typeof i._calculateChangedBits=="function"?i._calculateChangedBits(o,a):1073741823)|0,a===0){if(s.children===r.children&&!kt.current){e=Dr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var l=u.firstContext;l!==null;){if(l.context===i&&(l.observedBits&a)!=0){o.tag===1&&(l=sn(-1,n&-n),l.tag=2,on(o,l)),o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dv(o.return,n),u.lanes|=n;break}l=l.next}}else s=o.tag===10&&o.type===e.type?null:o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}It(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,a=e.pendingProps,i=a.children,ki(e,n),r=qt(r,a.unstable_observedBits),i=i(r),e.flags|=1,It(t,e,i,n),e.child;case 14:return r=e.type,a=nr(r,e.pendingProps),a=nr(r.type,a),r0(t,e,r,a,i,n);case 15:return n0(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:nr(i,r),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Pt(i)?(t=!0,su(e)):t=!1,ki(e,n),Fv(e,i,r),jd(e,i,r,n),ef(null,e,i,!0,t,n);case 19:return f0(t,e,n);case 23:return Jd(t,e,n);case 24:return Jd(t,e,n)}throw Error(K(156,e.tag))};function t1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,i){return new t1(t,e,n,i)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r1(t){if(typeof t=="function")return xf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ro)return 11;if(t===No)return 14}return 2}function pn(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ou(t,e,n,i,r,a){var s=2;if(i=t,typeof t=="function")xf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Kr:return Mi(n.children,r,a,e);case tg:s=8,r|=16;break;case Ic:s=8,r|=1;break;case Pa:return t=Qt(12,n,e,r|8),t.elementType=Pa,t.type=Pa,t.lanes=a,t;case Aa:return t=Qt(13,n,e,r),t.type=Aa,t.elementType=Aa,t.lanes=a,t;case Mo:return t=Qt(19,n,e,r),t.elementType=Mo,t.lanes=a,t;case Nc:return Sf(n,r,a,e);case Fc:return t=Qt(24,n,e,r),t.elementType=Fc,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dc:s=10;break e;case Lc:s=9;break e;case Ro:s=11;break e;case No:s=14;break e;case Oc:s=16,i=null;break e;case Rc:s=22;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Qt(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function Mi(t,e,n,i){return t=Qt(7,t,i,e),t.lanes=n,t}function Sf(t,e,n,i){return t=Qt(23,t,i,e),t.elementType=Nc,t.lanes=n,t}function bf(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function Ef(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n1(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ld(0),this.expirationTimes=ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.mutableSourceEagerHydrationData=null}function i1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Ru(t,e,n,i){var r=e.current,a=Ut(),s=cn(r);e:if(n){n=n._reactInternals;t:{if(Dn(n)!==n||n.tag!==1)throw Error(K(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Pt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(K(171))}if(n.tag===1){var u=n.type;if(Pt(u)){n=xv(n,u,o);break e}}n=o}else n=nn;return e.context===null?e.context=n:e.pendingContext=n,e=sn(a,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),on(r,e),dn(r,s,a),s}function Cf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wf(t,e){N0(t,e),(t=t.alternate)&&N0(t,e)}function a1(){return null}function kf(t,e,n){var i=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new n1(t,e,n!=null&&n.hydrate===!0),e=Qt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Bd(e),t[xi]=n.current,cv(t.nodeType===8?t.parentNode:t),i)for(t=0;t<i.length;t++){e=i[t];var r=e._getVersion;r=r(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,r]:n.mutableSourceEagerHydrationData.push(e,r)}this._internalRoot=n}kf.prototype.render=function(t){Ru(t,this._internalRoot,null,null)};kf.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ru(null,t,null,function(){e[xi]=null})};function ys(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s1(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new kf(t,0,e?{hydrate:!0}:void 0)}function Mu(t,e,n,i,r){var a=n._reactRootContainer;if(a){var s=a._internalRoot;if(typeof r=="function"){var o=r;r=function(){var l=Cf(s);o.call(l)}}Ru(e,s,t,r)}else{if(a=n._reactRootContainer=s1(n,i),s=a._internalRoot,typeof r=="function"){var u=r;r=function(){var l=Cf(s);u.call(l)}}P0(function(){Ru(e,s,t,r)})}return Cf(s)}Eg=function(t){if(t.tag===13){var e=Ut();dn(t,4,e),wf(t,4)}};nd=function(t){if(t.tag===13){var e=Ut();dn(t,67108864,e),wf(t,67108864)}};Cg=function(t){if(t.tag===13){var e=Ut(),n=cn(t);dn(t,n,e),wf(t,n)}};wg=function(t,e){return e()};Qc=function(t,e,n){switch(e){case"input":if(Hc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=iu(i);if(!r)throw Error(K(90));ig(i),Hc(i,r)}}}break;case"textarea":lg(t,n);break;case"select":e=n.value,e!=null&&ci(t,!!n.multiple,e,!1)}};Yc=k0;yg=function(t,e,n,i,r){var a=le;le|=4;try{return Mn(98,t.bind(null,e,n,i,r))}finally{le=a,le===0&&(Li(),hr())}};Jc=function(){(le&49)==0&&(GC(),fn())};_g=function(t,e){var n=le;le|=2;try{return t(e)}finally{le=n,le===0&&(Li(),hr())}};function F0(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ys(e))throw Error(K(200));return i1(t,e,null,n)}var o1={Events:[Ja,Si,iu,gg,vg,fn,{current:!1}]},_s={findFiberByHostInstance:Ln,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},u1={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sg(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||a1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Dd=Nu.inject(u1),Rn=Nu}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;$t.createPortal=F0;$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):Error(K(268,Object.keys(t)));return t=Sg(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t,e){var n=le;if((n&48)!=0)return t(e);le|=1;try{if(t)return Mn(99,t.bind(null,e))}finally{le=n,hr()}};$t.hydrate=function(t,e,n){if(!ys(e))throw Error(K(200));return Mu(null,t,e,!0,n)};$t.render=function(t,e,n){if(!ys(e))throw Error(K(200));return Mu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!ys(t))throw Error(K(40));return t._reactRootContainer?(P0(function(){Mu(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};$t.unstable_batchedUpdates=k0;$t.unstable_createPortal=function(t,e){return F0(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};$t.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ys(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Mu(t,e,n,!1,i)};$t.version="17.0.2";function U0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U0)}catch(t){console.error(t)}}U0(),Km.exports=$t;var KL=Km.exports,Ts;typeof window!="undefined"?Ts=window:typeof Io!="undefined"?Ts=Io:typeof self!="undefined"?Ts=self:Ts={};var D=Ts,l1={},c1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l1}),d1=Im(c1),B0=typeof Io!="undefined"?Io:typeof window!="undefined"?window:{},f1=d1,xs;typeof document!="undefined"?xs=document:(xs=B0["__GLOBAL_DOCUMENT_CACHE@4"],xs||(xs=B0["__GLOBAL_DOCUMENT_CACHE@4"]=f1));var q=xs;function Le(){return Le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Le.apply(this,arguments)}var h1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Le});function ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ss(t,e){return Ss=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ss(t,e)}function z(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ss(t,e)}var p1=m1;function m1(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}var Pf={exports:{}};(function(t,e){function n(u){if(u&&typeof u=="object"){var l=u.which||u.keyCode||u.charCode;l&&(u=l)}if(typeof u=="number")return s[u];var c=String(u),h=i[c.toLowerCase()];if(h)return h;var h=r[c.toLowerCase()];if(h)return h;if(c.length===1)return c.charCodeAt(0)}n.isEventKey=function(l,c){if(l&&typeof l=="object"){var h=l.which||l.keyCode||l.charCode;if(h==null)return!1;if(typeof c=="string"){var f=i[c.toLowerCase()];if(f)return f===h;var f=r[c.toLowerCase()];if(f)return f===h}else if(typeof c=="number")return c===h;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var o in r)i[o]=r[o]})(Pf,Pf.exports);var de=Pf.exports,Af={exports:{}},g1=Im(h1),v1=_1,y1=Object.prototype.toString;function _1(t){if(!t)return!1;var e=y1.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var T1=D,x1=function(e,n){return n===void 0&&(n=!1),function(i,r,a){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var s=a;if(n)if(T1.TextDecoder){var o=S1(r.headers&&r.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function S1(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],a=i[1];return r.trim()==="charset"?a.trim():e},"utf-8")}var b1=x1,j0=D,E1=g1,C1=v1;yr.httpHandler=b1;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var w1=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(i){var r=i.indexOf(":"),a=i.slice(0,r).trim().toLowerCase(),s=i.slice(r+1).trim();typeof n[a]=="undefined"?n[a]=s:Array.isArray(n[a])?n[a].push(s):n[a]=[n[a],s]}),n};Af.exports=yr;Af.exports.default=yr;yr.XMLHttpRequest=j0.XMLHttpRequest||I1;yr.XDomainRequest="withCredentials"in new yr.XMLHttpRequest?yr.XMLHttpRequest:j0.XDomainRequest;k1(["get","put","post","patch","head","delete"],function(t){yr[t==="delete"?"del":t]=function(e,n,i){return n=H0(e,n,i),n.method=t.toUpperCase(),V0(n)}});function k1(t,e){for(var n=0;n<t.length;n++)e(t[n])}function P1(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function H0(t,e,n){var i=t;return C1(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=E1({},e,{uri:t}),i.callback=n,i}function yr(t,e,n){return e=H0(t,e,n),V0(e)}function V0(t){if(typeof t.callback=="undefined")throw new Error("callback argument missing");var e=!1,n=function(k,P,O){e||(e=!0,t.callback(k,P,O))};function i(){o.readyState===4&&setTimeout(s,0)}function r(){var E=void 0;if(o.response?E=o.response:E=o.responseText||A1(o),x)try{E=JSON.parse(E)}catch{}return E}function a(E){return clearTimeout(v),E instanceof Error||(E=new Error(""+(E||"Unknown XMLHttpRequest Error"))),E.statusCode=0,n(E,S)}function s(){if(!l){var E;clearTimeout(v),t.useXDR&&o.status===void 0?E=200:E=o.status===1223?204:o.status;var k=S,P=null;return E!==0?(k={body:r(),statusCode:E,method:h,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(k.headers=w1(o.getAllResponseHeaders()))):P=new Error("Internal XMLHttpRequest Error"),n(P,k,k.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new yr.XDomainRequest:o=new yr.XMLHttpRequest);var u,l,c=o.url=t.uri||t.url,h=o.method=t.method||"GET",f=t.body||t.data,y=o.headers=t.headers||{},b=!!t.sync,x=!1,v,S={body:void 0,headers:{},statusCode:0,method:h,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(x=!0,y.accept||y.Accept||(y.Accept="application/json"),h!=="GET"&&h!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),f=JSON.stringify(t.json===!0?f:t.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){l=!0},o.ontimeout=a,o.open(h,c,!b,t.username,t.password),b||(o.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(v=setTimeout(function(){if(!l){l=!0,o.abort("timeout");var E=new Error("XMLHttpRequest timeout");E.code="ETIMEDOUT",a(E)}},t.timeout)),o.setRequestHeader)for(u in y)y.hasOwnProperty(u)&&o.setRequestHeader(u,y[u]);else if(t.headers&&!P1(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(f||null),o}function A1(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function I1(){}var W0=Af.exports,z0={exports:{}},$0=q,If=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Bt(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Bt.prototype=If(Error.prototype);Bt.prototype.constructor=Bt;Bt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Df(t){function e(i,r,a,s){return(i|0)*3600+(r|0)*60+(a|0)+(s|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function bs(){this.values=If(null)}bs.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Es(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if(typeof r[a]=="string"){var s=r[a].split(n);if(s.length===2){var o=s[0],u=s[1];e(o,u)}}}function D1(t,e,n){var i=t;function r(){var o=Df(t);if(o===null)throw new Bt(Bt.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,u){var l=new bs;Es(o,function(c,h){switch(c){case"region":for(var f=n.length-1;f>=0;f--)if(n[f].id===h){l.set(c,n[f].region);break}break;case"vertical":l.alt(c,h,["rl","lr"]);break;case"line":var y=h.split(","),b=y[0];l.integer(c,b),l.percent(c,b)&&l.set("snapToLines",!1),l.alt(c,b,["auto"]),y.length===2&&l.alt("lineAlign",y[1],["start","center","end"]);break;case"position":y=h.split(","),l.percent(c,y[0]),y.length===2&&l.alt("positionAlign",y[1],["start","center","end"]);break;case"size":l.percent(c,h);break;case"align":l.alt(c,h,["start","center","end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");try{u.line=l.get("line","auto")}catch{}u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100);try{u.align=l.get("align","center")}catch{u.align=l.get("align","middle")}try{u.position=l.get("position","auto")}catch{u.position=l.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=l.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=r(),s(),t.substr(0,3)!=="-->")throw new Bt(Bt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),s(),e.endTime=r(),s(),a(t,e)}var Lf=$0.createElement&&$0.createElement("textarea"),L1={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},G0={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},O1={v:"title",lang:"lang"},q0={rt:"ruby"};function K0(t,e){function n(){if(!e)return null;function b(v){return e=e.substr(v.length),v}var x=e.match(/^([^<]*)(<[^>]*>?)?/);return b(x[1]?x[1]:x[2])}function i(b){return Lf.innerHTML=b,b=Lf.textContent,Lf.textContent="",b}function r(b,x){return!q0[x.localName]||q0[x.localName]===b.localName}function a(b,x){var v=L1[b];if(!v)return null;var S=t.document.createElement(v),E=O1[b];return E&&x&&(S[E]=x.trim()),S}for(var s=t.document.createElement("div"),o=s,u,l=[];(u=n())!==null;){if(u[0]==="<"){if(u[1]==="/"){l.length&&l[l.length-1]===u.substr(2).replace(">","")&&(l.pop(),o=o.parentNode);continue}var c=Df(u.substr(1,u.length-2)),h;if(c){h=t.document.createProcessingInstruction("timestamp",c),o.appendChild(h);continue}var f=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(h=a(f[1],f[3]),!h)||!r(o,h))continue;if(f[2]){var y=f[2].split(".");y.forEach(function(b){var x=/^bg_/.test(b),v=x?b.slice(3):b;if(G0.hasOwnProperty(v)){var S=x?"background-color":"color",E=G0[v];h.style[S]=E}}),h.className=y.join(" ")}l.push(f[1]),o.appendChild(h),o=h;continue}o.appendChild(t.document.createTextNode(i(u)))}return s}var X0=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function R1(t){for(var e=0;e<X0.length;e++){var n=X0[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function M1(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(o,u){for(var l=u.childNodes.length-1;l>=0;l--)o.push(u.childNodes[l])}function a(o){if(!o||!o.length)return null;var u=o.pop(),l=u.textContent||u.innerText;if(l){var c=l.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):l}if(u.tagName==="ruby")return a(o);if(u.childNodes)return r(o,u),a(o)}for(r(e,t);n=a(e);)for(var s=0;s<n.length;s++)if(i=n.charCodeAt(s),R1(i))return"rtl";return"ltr"}function N1(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function Fu(){}Fu.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};Fu.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Uu(t,e,n){Fu.call(this),this.cue=e,this.cueDiv=K0(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:M1(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}Uu.prototype=If(Fu.prototype);Uu.prototype.constructor=Uu;function xt(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}xt.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};xt.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};xt.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};xt.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};xt.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};xt.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};xt.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};xt.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function F1(t,e,n,i){function r(v,S){for(var E,k=new xt(v),P=1,O=0;O<S.length;O++){for(;v.overlapsOppositeAxis(n,S[O])||v.within(n)&&v.overlapsAny(i);)v.move(S[O]);if(v.within(n))return v;var M=v.intersectPercentage(n);P>M&&(E=new xt(v),P=M),v=new xt(k)}return E||k}var a=new xt(e),s=e.cue,o=N1(s),u=[];if(s.snapToLines){var l;switch(s.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var c=a.lineHeight,h=c*Math.round(o),f=n[l]+c,y=u[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/c)*c),o<0&&(h+=s.vertical===""?n.height:n.width,u=u.reverse()),a.move(y,h)}else{var b=a.lineHeight/n.height*100;switch(s.lineAlign){case"center":o-=b/2;break;case"end":o-=b;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"],a=new xt(e)}var x=r(a,u);e.move(x.toCSSCompatValues(n))}function Ni(){}Ni.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Ni.convertCueToDOMTree=function(t,e){return!t||!e?null:K0(t,e)};var U1=.05,B1="sans-serif",j1="1.5%";Ni.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=j1,n.appendChild(i);function r(c){for(var h=0;h<c.length;h++)if(c[h].hasBeenReset||!c[h].displayState)return!0;return!1}if(!r(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],o=xt.getSimpleBoxPosition(i),u=Math.round(o.height*U1*100)/100,l={font:u+"px "+B1};(function(){for(var c,h,f=0;f<e.length;f++)h=e[f],c=new Uu(t,h,l),i.appendChild(c.div),F1(t,c,o,s),h.displayState=c.div,s.push(xt.getSimpleBoxPosition(c))})()};Ni.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Ni.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Bt)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var c=e.buffer,h=0;h<c.length&&c[h]!=="\r"&&c[h]!==`
`;)++h;var f=c.substr(0,h);return c[h]==="\r"&&++h,c[h]===`
`&&++h,e.buffer=c.substr(h),f}function i(c){var h=new bs;if(Es(c,function(y,b){switch(y){case"id":h.set(y,b);break;case"width":h.percent(y,b);break;case"lines":h.integer(y,b);break;case"regionanchor":case"viewportanchor":var x=b.split(",");if(x.length!==2)break;var v=new bs;if(v.percent("x",x[0]),v.percent("y",x[1]),!v.has("x")||!v.has("y"))break;h.set(y+"X",v.get("x")),h.set(y+"Y",v.get("y"));break;case"scroll":h.alt(y,b,["up"]);break}},/=/,/\s/),h.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=h.get("width",100),f.lines=h.get("lines",3),f.regionAnchorX=h.get("regionanchorX",0),f.regionAnchorY=h.get("regionanchorY",100),f.viewportAnchorX=h.get("viewportanchorX",0),f.viewportAnchorY=h.get("viewportanchorY",100),f.scroll=h.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:h.get("id"),region:f})}}function r(c){var h=new bs;Es(c,function(f,y){switch(f){case"MPEGT":h.integer(f+"S",y);break;case"LOCA":h.set(f+"L",Df(y));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:h.get("MPEGTS"),LOCAL:h.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?Es(c,function(h,f){switch(h){case"X-TIMESTAMP-MAP":r(f);break}},/=/):Es(c,function(h,f){switch(h){case"Region":i(f);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=n();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Bt(Bt.Errors.BadSignature);e.state="HEADER"}for(var u=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(u?u=!1:s=n(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{D1(s,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("-->")!==-1;if(!s||l&&(u=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Bt(Bt.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var H1=Ni,V1="auto",W1={"":1,lr:1,rl:1},z1={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function $1(t){if(typeof t!="string")return!1;var e=W1[t.toLowerCase()];return e?t.toLowerCase():!1}function Of(t){if(typeof t!="string")return!1;var e=z1[t.toLowerCase()];return e?t.toLowerCase():!1}function Q0(t,e,n){this.hasBeenReset=!1;var i="",r=!1,a=t,s=e,o=n,u=null,l="",c=!0,h="auto",f="start",y="auto",b="auto",x=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(S){i=""+S}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(S){r=!!S}},startTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");a=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");s=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(S){u=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(S){var E=$1(S);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(S){c=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(S){if(typeof S!="number"&&S!==V1)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(S){var E=Of(S);E?(f=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return y},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");y=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return b},set:function(S){var E=Of(S);E?(b=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return x},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");x=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(S){var E=Of(S);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=E,this.hasBeenReset=!0}}}),this.displayState=void 0}Q0.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var G1=Q0,q1={"":!0,up:!0};function K1(t){if(typeof t!="string")return!1;var e=q1[t.toLowerCase()];return e?t.toLowerCase():!1}function Cs(t){return typeof t=="number"&&t>=0&&t<=100}function X1(){var t=100,e=3,n=0,i=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Cs(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Cs(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Cs(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!Cs(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Cs(o))throw new Error("ViewportAnchorX must be between 0 and 100.");r=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var u=K1(o);u===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=u}}})}var Q1=X1,Rr=D,Hn=z0.exports={WebVTT:H1,VTTCue:G1,VTTRegion:Q1};Rr.vttjs=Hn;Rr.WebVTT=Hn.WebVTT;var Y1=Hn.VTTCue,J1=Hn.VTTRegion,Z1=Rr.VTTCue,ew=Rr.VTTRegion;Hn.shim=function(){Rr.VTTCue=Y1,Rr.VTTRegion=J1};Hn.restore=function(){Rr.VTTCue=Z1,Rr.VTTRegion=ew};Rr.VTTCue||Hn.shim();var Y0=z0.exports;function tw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bu(t,e,n){return tw()?Bu=Reflect.construct:Bu=function(r,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(r,o),l=new u;return s&&Ss(l,s.prototype),l},Bu.apply(null,arguments)}function rw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ss(t,e)}var J0={exports:{}};(function(t,e){(function(n){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(u,l,c){if(c=c||{},u=u.trim(),l=l.trim(),!l){if(!c.alwaysNormalize)return u;var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse base URL.");return h.path=o.normalizePath(h.path),o.buildURLFromParts(h)}var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):l;var y=o.parseURL(u);if(!y)throw new Error("Error trying to parse base URL.");if(!y.netLoc&&y.path&&y.path[0]!=="/"){var b=r.exec(y.path);y.netLoc=b[1],y.path=b[2]}y.netLoc&&!y.path&&(y.path="/");var x={scheme:y.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(x.netLoc=y.netLoc,f.path[0]!=="/"))if(!f.path)x.path=y.path,f.params||(x.params=y.params,f.query||(x.query=y.query));else{var v=y.path,S=v.substring(0,v.lastIndexOf("/")+1)+f.path;x.path=o.normalizePath(S)}return x.path===null&&(x.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(x)},parseURL:function(u){var l=i.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(a,"");u.length!==(u=u.replace(s,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=o})()})(J0);var Z0=J0.exports,ey="http://example.com",ju=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=D.location&&D.location.href||"");var i=typeof D.URL=="function",r=/^\/\//.test(e),a=!D.location&&!/\/\//i.test(e);if(i?e=new D.URL(e,D.location||ey):/\/\//i.test(e)||(e=Z0.buildAbsoluteURL(D.location&&D.location.href||"",e)),i){var s=new URL(n,e);return a?s.href.slice(ey.length):r?s.href.slice(s.protocol.length):s.href}return Z0.buildAbsoluteURL(e,n)},Rf=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var r=this.listeners[i];if(!!r)if(arguments.length===2)for(var a=r.length,s=0;s<a;++s)r[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=r.length,l=0;l<u;++l)r[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),nw=function(e){return D.atob?D.atob(e):Buffer.from(e,"base64").toString("binary")};function ty(t){for(var e=nw(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var iw=function(t){z(e,t);function e(){var i;return i=t.call(this)||this,i.buffer="",i}var n=e.prototype;return n.push=function(r){var a;for(this.buffer+=r,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(Rf),aw=String.fromCharCode(9),Mf=function(e){var n=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return n[1]&&(i.length=parseInt(n[1],10)),n[2]&&(i.offset=parseInt(n[2],10)),i},sw=function(){var e="[^=]*",n='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+n+")";return new RegExp("(?:^|,)("+i+")")},ar=function(e){for(var n=e.split(sw()),i={},r=n.length,a;r--;)n[r]!==""&&(a=/([^=]*)=(.*)/.exec(n[r]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},ow=function(t){z(e,t);function e(){var i;return i=t.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var n=e.prototype;return n.push=function(r){var a=this,s,o;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var u=this.tagMappers.reduce(function(l,c){var h=c(r);return h===r?l:l.concat([h])},[r]);u.forEach(function(l){for(var c=0;c<a.customParsers.length;c++)if(a.customParsers[c].call(a,l))return;if(l.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:l.slice(1)});return}if(l=l.replace("\r",""),s=/^#EXTM3U/.exec(l),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(l),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(l),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(l),s){o=Le(Mf(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(l),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"map"},s[1]){var h=ar(s[1]);h.URI&&(o.uri=h.URI),h.BYTERANGE&&(o.byterange=Mf(h.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(l),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=ar(s[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),y={};f[0]&&(y.width=parseInt(f[0],10)),f[1]&&(y.height=parseInt(f[1],10)),o.attributes.RESOLUTION=y}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(l),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=ar(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(l),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(l),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(l),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(l),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=ar(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(l),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=ar(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(l),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=ar(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(aw)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=ar(s[1]),["DURATION"].forEach(function(b){o.attributes.hasOwnProperty(b)&&(o.attributes[b]=parseFloat(o.attributes[b]))}),["INDEPENDENT","GAP"].forEach(function(b){o.attributes.hasOwnProperty(b)&&(o.attributes[b]=/YES/.test(o.attributes[b]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Mf(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=ar(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(b){o.attributes.hasOwnProperty(b)&&(o.attributes[b]=parseFloat(o.attributes[b]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(b){o.attributes.hasOwnProperty(b)&&(o.attributes[b]=/YES/.test(o.attributes[b]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=ar(s[1]),["PART-TARGET"].forEach(function(b){o.attributes.hasOwnProperty(b)&&(o.attributes[b]=parseFloat(o.attributes[b]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=ar(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(b){if(o.attributes.hasOwnProperty(b)){o.attributes[b]=parseInt(o.attributes[b],10);var x=b==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[x]=o.attributes[b],delete o.attributes[b]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(l),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=ar(s[1]),["LAST-MSN","LAST-PART"].forEach(function(b){o.attributes.hasOwnProperty(b)&&(o.attributes[b]=parseInt(o.attributes[b],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:l.slice(4)})})}},n.addParser=function(r){var a=this,s=r.expression,o=r.customType,u=r.dataParser,l=r.segment;typeof u!="function"&&(u=function(h){return h}),this.customParsers.push(function(c){var h=s.exec(c);if(h)return a.trigger("data",{type:"custom",data:u(c),customType:o,segment:l}),!0})},n.addTagMapper=function(r){var a=r.expression,s=r.map,o=function(l){return a.test(l)?s(l):l};this.tagMappers.push(o)},e}(Rf),uw=function(e){return e.toLowerCase().replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},Fi=function(e){var n={};return Object.keys(e).forEach(function(i){n[uw(i)]=e[i]}),n},Nf=function(e){var n=e.serverControl,i=e.targetDuration,r=e.partTargetDuration;if(!!n){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",u=i&&i*3,l=r&&r*2;i&&!n.hasOwnProperty(s)&&(n[s]=u,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+u+")."})),u&&n[s]<u&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+n[s]+") to targetDuration * 3 ("+u+")"}),n[s]=u),r&&!n.hasOwnProperty(o)&&(n[o]=r*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+n[o]+")."})),r&&n[o]<l&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+n[o]+") to partTargetDuration * 2 ("+l+")."}),n[o]=l)}},lw=function(t){z(e,t);function e(){var i;i=t.call(this)||this,i.lineStream=new iw,i.parseStream=new ow,i.lineStream.pipe(i.parseStream);var r=ue(i),a=[],s={},o,u,l=!1,c=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",y=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var b=0,x=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&u&&(s.key=u),!s.timeline&&typeof y=="number"&&(s.timeline=y),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(v){var S,E;({tag:function(){({version:function(){v.version&&(this.manifest.version=v.version)},"allow-cache":function(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var O={};"length"in v&&(s.byterange=O,O.length=v.length,"offset"in v||(v.offset=b)),"offset"in v&&(s.byterange=O,O.offset=v.offset),b=O.offset+O.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),v.duration>0&&(s.duration=v.duration),v.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!v.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(v.attributes.METHOD==="NONE"){u=null;return}if(!v.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(v.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:v.attributes};return}if(v.attributes.KEYFORMAT===f){var O=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(O.indexOf(v.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(v.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),v.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(v.attributes.KEYID&&v.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:v.attributes.KEYFORMAT,keyId:v.attributes.KEYID.substring(2)},pssh:ty(v.attributes.URI.split(",")[1])};return}v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},typeof v.attributes.IV!="undefined"&&(u.iv=v.attributes.IV)},"media-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number});return}this.manifest.mediaSequence=v.number},"discontinuity-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number});return}this.manifest.discontinuitySequence=v.number,y=v.number},"playlist-type":function(){if(!/VOD|EVENT/.test(v.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist});return}this.manifest.playlistType=v.playlistType},map:function(){o={},v.uri&&(o.uri=v.uri),v.byterange&&(o.byterange=v.byterange),u&&(o.key=u)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!v.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Le(s.attributes,v.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var O=this.manifest.mediaGroups[v.attributes.TYPE];O[v.attributes["GROUP-ID"]]=O[v.attributes["GROUP-ID"]]||{},S=O[v.attributes["GROUP-ID"]],E={default:/yes/i.test(v.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(E.language=v.attributes.LANGUAGE),v.attributes.URI&&(E.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(E.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(E.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(E.forced=/yes/i.test(v.attributes.FORCED)),S[v.attributes.NAME]=E},discontinuity:function(){y+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),s.dateTimeString=v.dateTimeString,s.dateTimeObject=v.dateTimeObject},targetduration:function(){if(!isFinite(v.duration)||v.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration});return}this.manifest.targetDuration=v.duration,Nf.call(this,this.manifest)},start:function(){if(!v.attributes||isNaN(v.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:v.attributes["TIME-OFFSET"],precise:v.attributes.PRECISE}},"cue-out":function(){s.cueOut=v.data},"cue-out-cont":function(){s.cueOutCont=v.data},"cue-in":function(){s.cueIn=v.data},skip:function(){this.manifest.skip=Fi(v.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",v.attributes,["SKIPPED-SEGMENTS"])},part:function(){var O=this;l=!0;var M=this.manifest.segments.length,B=Fi(v.attributes);s.parts=s.parts||[],s.parts.push(B),B.byterange&&(B.byterange.hasOwnProperty("offset")||(B.byterange.offset=x),x=B.byterange.offset+B.byterange.length);var F=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+F+" for segment #"+M,v.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(U,j){U.hasOwnProperty("lastPart")||O.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+j+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var O=this.manifest.serverControl=Fi(v.attributes);O.hasOwnProperty("canBlockReload")||(O.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Nf.call(this,this.manifest),O.canSkipDateranges&&!O.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var O=this.manifest.segments.length,M=Fi(v.attributes),B=M.type&&M.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(M),M.byterange&&(M.byterange.hasOwnProperty("offset")||(M.byterange.offset=B?x:0,B&&(x=M.byterange.offset+M.byterange.length)));var F=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+F+" for segment #"+O,v.attributes,["TYPE","URI"]),!!M.type)for(var U=0;U<s.preloadHints.length-1;U++){var j=s.preloadHints[U];!j.type||j.type===M.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+F+" for segment #"+O+" has the same TYPE "+M.type+" as preload hint #"+U})}},"rendition-report":function(){var O=Fi(v.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(O);var M=this.manifest.renditionReports.length-1,B=["LAST-MSN","URI"];l&&B.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+M,v.attributes,B)},"part-inf":function(){this.manifest.partInf=Fi(v.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",v.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Nf.call(this,this.manifest)}}[v.tagType]||c).call(r)},uri:function(){s.uri=v.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=y,o&&(s.map=o),x=0,s={}},comment:function(){},custom:function(){v.segment?(s.custom=s.custom||{},s.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(r)}),i}var n=e.prototype;return n.warnOnMissingAttributes_=function(r,a,s){var o=[];s.forEach(function(u){a.hasOwnProperty(u)||o.push(u)}),o.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+o.join(", ")})},n.push=function(r){this.lineStream.push(r)},n.end=function(){this.lineStream.push(`
`),this.trigger("end")},n.addParser=function(r){this.parseStream.addParser(r)},n.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(Rf),Vn={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},cw=["video","audio","text"],ry=["Video","Audio","Text"],ny=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(r).toString(16)).slice(-2);return"avc1."+a+"00"+s})},_r=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var a;cw.forEach(function(s){var o=Vn[s].exec(r.toLowerCase());if(!(!o||o.length<=1)){a=s;var u=r.substring(0,o[1].length),l=r.replace(u,"");i.push({type:u,details:l,mediaType:s})}}),a||i.push({type:r,details:"",mediaType:"unknown"})}),i},dw=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var a=i[r];if(a.default&&a.playlists)return _r(a.playlists[0].attributes.CODECS)}return null},iy=function(e){return e===void 0&&(e=""),Vn.audio.test(e.trim().toLowerCase())},fw=function(e){return e===void 0&&(e=""),Vn.text.test(e.trim().toLowerCase())},ws=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return ny(a.trim())}),i="video";n.length===1&&iy(n[0])?i="audio":n.length===1&&fw(n[0])&&(i="application");var r="mp4";return n.every(function(a){return Vn.mp4.test(a)})?r="mp4":n.every(function(a){return Vn.webm.test(a)})?r="webm":n.every(function(a){return Vn.ogg.test(a)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},Hu=function(e){return e===void 0&&(e=""),D.MediaSource&&D.MediaSource.isTypeSupported&&D.MediaSource.isTypeSupported(ws(e))||!1},Ff=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<ry.length;i++){var r=ry[i];if(Vn["muxer"+r].test(n))return!0}return!1})},ay="mp4a.40.2",hw="avc1.4d400d",pw=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,mw=/^application\/dash\+xml/i,sy=function(e){return pw.test(e)?"hls":mw.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},mn={},Wn={};function Uf(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var oy=Uf({HTML:"text/html",isHTML:function(t){return t===oy.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),uy=Uf({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===uy.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Wn.freeze=Uf;Wn.MIME_TYPE=oy;Wn.NAMESPACE=uy;var gw=Wn,ks=gw.NAMESPACE;function vw(t){return t!==""}function yw(t){return t?t.split(/[\t\n\f\r ]+/).filter(vw):[]}function _w(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function ly(t){if(!t)return[];var e=yw(t);return Object.keys(e.reduce(_w,{}))}function Tw(t){return function(e){return t&&t.indexOf(e)!==-1}}function Ps(t,e){for(var n in t)e[n]=t[n]}function Dt(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Ps(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Lt={},sr=Lt.ELEMENT_NODE=1,Ui=Lt.ATTRIBUTE_NODE=2,Vu=Lt.TEXT_NODE=3,cy=Lt.CDATA_SECTION_NODE=4,dy=Lt.ENTITY_REFERENCE_NODE=5,xw=Lt.ENTITY_NODE=6,fy=Lt.PROCESSING_INSTRUCTION_NODE=7,hy=Lt.COMMENT_NODE=8,py=Lt.DOCUMENT_NODE=9,my=Lt.DOCUMENT_TYPE_NODE=10,Mr=Lt.DOCUMENT_FRAGMENT_NODE=11,Sw=Lt.NOTATION_NODE=12,ht={},Ye={};ht.INDEX_SIZE_ERR=(Ye[1]="Index size error",1);ht.DOMSTRING_SIZE_ERR=(Ye[2]="DOMString size error",2);var bw=ht.HIERARCHY_REQUEST_ERR=(Ye[3]="Hierarchy request error",3);ht.WRONG_DOCUMENT_ERR=(Ye[4]="Wrong document",4);ht.INVALID_CHARACTER_ERR=(Ye[5]="Invalid character",5);ht.NO_DATA_ALLOWED_ERR=(Ye[6]="No data allowed",6);ht.NO_MODIFICATION_ALLOWED_ERR=(Ye[7]="No modification allowed",7);var Ew=ht.NOT_FOUND_ERR=(Ye[8]="Not found",8);ht.NOT_SUPPORTED_ERR=(Ye[9]="Not supported",9);var gy=ht.INUSE_ATTRIBUTE_ERR=(Ye[10]="Attribute in use",10);ht.INVALID_STATE_ERR=(Ye[11]="Invalid state",11);ht.SYNTAX_ERR=(Ye[12]="Syntax error",12);ht.INVALID_MODIFICATION_ERR=(Ye[13]="Invalid modification",13);ht.NAMESPACE_ERR=(Ye[14]="Invalid namespace",14);ht.INVALID_ACCESS_ERR=(Ye[15]="Invalid access",15);function zn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Ye[t]),this.message=Ye[t],Error.captureStackTrace&&Error.captureStackTrace(this,zn);return n.code=t,e&&(this.message=this.message+": "+e),n}zn.prototype=Error.prototype;Ps(ht,zn);function Nr(){}Nr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)ji(this[i],n,t,e);return n.join("")}};function Bi(t,e){this._node=t,this._refresh=e,Bf(this)}function Bf(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);Dy(t,"length",n.length),Ps(n,t),t._inc=e}}Bi.prototype.item=function(t){return Bf(this),this[t]};Dt(Bi,Nr);function Wu(){}function vy(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function yy(t,e,n,i){if(i?e[vy(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&Sy(r,t,i),Cw(r,t,n))}}function _y(t,e,n){var i=vy(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var a=t.ownerDocument;a&&(Sy(a,t,n),n.ownerElement=null)}}else throw zn(Ew,new Error(t.tagName+"@"+n))}Wu.prototype={length:0,item:Nr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new zn(gy);var n=this.getNamedItem(t.nodeName);return yy(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new zn(gy);return n=this.getNamedItemNS(t.namespaceURI,t.localName),yy(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return _y(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return _y(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function Ty(){}Ty.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new Is;if(i.implementation=this,i.childNodes=new Nr,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new $u;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function pt(){}pt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Ey(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return by(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return qf(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Vu&&t.nodeType==Vu?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(n[i]==t)return i}e=e.nodeType==Ui?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Ui?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function xy(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Ps(Lt,pt);Ps(Lt,pt.prototype);function As(t,e){if(e(t))return!0;if(t=t.firstChild)do if(As(t,e))return!0;while(t=t.nextSibling)}function Is(){}function Cw(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===ks.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function Sy(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===ks.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function jf(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a}}}function by(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,jf(t.ownerDocument,t),e}function Ey(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Mr){var r=e.firstChild;if(r==null)return e;var a=e.lastChild}else r=a=e;var s=n?n.previousSibling:t.lastChild;r.previousSibling=s,a.nextSibling=n,s?s.nextSibling=r:t.firstChild=r,n==null?t.lastChild=a:n.previousSibling=a;do r.parentNode=t;while(r!==a&&(r=r.nextSibling));return jf(t.ownerDocument||t,t),e.nodeType==Mr&&(e.firstChild=e.lastChild=null),e}function ww(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e);var i=t.lastChild}var i=t.lastChild;return e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,jf(t.ownerDocument,t,e),e}Is.prototype={nodeName:"#document",nodeType:py,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Mr){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return this.documentElement==null&&t.nodeType==sr&&(this.documentElement=t),Ey(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),by(this,t)},importNode:function(t,e){return Iy(this,t,e)},getElementById:function(t){var e=null;return As(this.documentElement,function(n){if(n.nodeType==sr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=ly(t);return new Bi(this,function(n){var i=[];return e.length>0&&As(n.documentElement,function(r){if(r!==n&&r.nodeType===sr){var a=r.getAttribute("class");if(a){var s=t===a;if(!s){var o=ly(a);s=e.every(Tw(o))}s&&i.push(r)}}}),i})},createElement:function(t){var e=new $n;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Nr;var n=e.attributes=new Wu;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Gu;return t.ownerDocument=this,t.childNodes=new Nr,t},createTextNode:function(t){var e=new Hf;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Vf;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Wf;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new $f;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new zu;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new zf;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new $n,i=e.split(":"),r=n.attributes=new Wu;return n.childNodes=new Nr,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new zu,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};Dt(Is,pt);function $n(){this._nsMap={}}$n.prototype={nodeType:sr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Mr?this.insertBefore(t,null):ww(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Bi(this,function(e){var n=[];return As(e,function(i){i!==e&&i.nodeType==sr&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new Bi(this,function(n){var i=[];return As(n,function(r){r!==n&&r.nodeType===sr&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Is.prototype.getElementsByTagName=$n.prototype.getElementsByTagName;Is.prototype.getElementsByTagNameNS=$n.prototype.getElementsByTagNameNS;Dt($n,pt);function zu(){}zu.prototype.nodeType=Ui;Dt(zu,pt);function Ds(){}Ds.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Ye[bw])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};Dt(Ds,pt);function Hf(){}Hf.prototype={nodeName:"#text",nodeType:Vu,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Dt(Hf,Ds);function Vf(){}Vf.prototype={nodeName:"#comment",nodeType:hy};Dt(Vf,Ds);function Wf(){}Wf.prototype={nodeName:"#cdata-section",nodeType:cy};Dt(Wf,Ds);function $u(){}$u.prototype.nodeType=my;Dt($u,pt);function Cy(){}Cy.prototype.nodeType=Sw;Dt(Cy,pt);function wy(){}wy.prototype.nodeType=xw;Dt(wy,pt);function zf(){}zf.prototype.nodeType=dy;Dt(zf,pt);function Gu(){}Gu.prototype.nodeName="#document-fragment";Gu.prototype.nodeType=Mr;Dt(Gu,pt);function $f(){}$f.prototype.nodeType=fy;Dt($f,pt);function ky(){}ky.prototype.serializeToString=function(t,e,n){return Py.call(t,e,n)};pt.prototype.toString=Py;function Py(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&r==null){var r=i.lookupPrefix(a);if(r==null)var s=[{namespace:a,prefix:null}]}return ji(this,n,t,e,s),n.join("")}function Ay(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===ks.XML||r===ks.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==r}return!0}function Gf(t,e,n){t.push(" ",e,'="',n.replace(/[<&"]/g,xy),'"')}function ji(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case sr:var a=t.attributes,s=a.length,o=t.firstChild,u=t.tagName;n=ks.isHTML(t.namespaceURI)||n;var l=u;if(!n&&!t.prefix&&t.namespaceURI){for(var c,h=0;h<a.length;h++)if(a.item(h).name==="xmlns"){c=a.item(h).value;break}if(!c)for(var f=r.length-1;f>=0;f--){var y=r[f];if(y.prefix===""&&y.namespace===t.namespaceURI){c=y.namespace;break}}if(c!==t.namespaceURI)for(var f=r.length-1;f>=0;f--){var y=r[f];if(y.namespace===t.namespaceURI){y.prefix&&(l=y.prefix+":"+u);break}}}e.push("<",l);for(var b=0;b<s;b++){var x=a.item(b);x.prefix=="xmlns"?r.push({prefix:x.localName,namespace:x.value}):x.nodeName=="xmlns"&&r.push({prefix:"",namespace:x.value})}for(var b=0;b<s;b++){var x=a.item(b);if(Ay(x,n,r)){var v=x.prefix||"",S=x.namespaceURI;Gf(e,v?"xmlns:"+v:"xmlns",S),r.push({prefix:v,namespace:S})}ji(x,e,n,i,r)}if(u===l&&Ay(t,n,r)){var v=t.prefix||"",S=t.namespaceURI;Gf(e,v?"xmlns:"+v:"xmlns",S),r.push({prefix:v,namespace:S})}if(o||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;o;)o.data?e.push(o.data):ji(o,e,n,i,r.slice()),o=o.nextSibling;else for(;o;)ji(o,e,n,i,r.slice()),o=o.nextSibling;e.push("</",l,">")}else e.push("/>");return;case py:case Mr:for(var o=t.firstChild;o;)ji(o,e,n,i,r.slice()),o=o.nextSibling;return;case Ui:return Gf(e,t.name,t.value);case Vu:return e.push(t.data.replace(/[<&]/g,xy).replace(/]]>/g,"]]&gt;"));case cy:return e.push("<![CDATA[",t.data,"]]>");case hy:return e.push("<!--",t.data,"-->");case my:var E=t.publicId,k=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),k&&k!="."&&e.push(" ",k),e.push(">");else if(k&&k!=".")e.push(" SYSTEM ",k,">");else{var P=t.internalSubset;P&&e.push(" [",P,"]"),e.push(">")}return;case fy:return e.push("<?",t.target," ",t.data,"?>");case dy:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Iy(t,e,n){var i;switch(e.nodeType){case sr:i=e.cloneNode(!1),i.ownerDocument=t;case Mr:break;case Ui:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(Iy(t,r,n)),r=r.nextSibling;return i}function qf(t,e,n){var i=new e.constructor;for(var r in e){var a=e[r];typeof a!="object"&&a!=i[r]&&(i[r]=a)}switch(e.childNodes&&(i.childNodes=new Nr),i.ownerDocument=t,i.nodeType){case sr:var s=e.attributes,o=i.attributes=new Wu,u=s.length;o._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(qf(t,s.item(l),!0));break;case Ui:n=!0}if(n)for(var c=e.firstChild;c;)i.appendChild(qf(t,c,n)),c=c.nextSibling;return i}function Dy(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case sr:case Mr:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(Bi.prototype,"length",{get:function(){return Bf(this),this.$$length}}),Object.defineProperty(pt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case sr:case Mr:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Dy=function(e,n,i){e["$$"+n]=i}}}catch{}mn.DocumentType=$u;mn.DOMException=zn;mn.DOMImplementation=Ty;mn.Element=$n;mn.Node=pt;mn.NodeList=Nr;mn.XMLSerializer=ky;var Ls={},Ly={};(function(t){var e=Wn.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(Ly);var Kf={},Os=Wn.NAMESPACE,Xf=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Oy=new RegExp("[\\-\\.0-9"+Xf.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ry=new RegExp("^"+Xf.source+Oy.source+"*(?::"+Xf.source+Oy.source+"*)?$"),Rs=0,gn=1,Hi=2,Ms=3,Vi=4,Wi=5,Ns=6,qu=7;function zi(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,zi)}zi.prototype=new Error;zi.prototype.name=zi.name;function My(){}My.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),Uy(e,e={}),kw(t,e,n,i,this.errorHandler),i.endDocument()}};function kw(t,e,n,i,r){function a(fe){if(fe>65535){fe-=65536;var me=55296+(fe>>10),_e=56320+(fe&1023);return String.fromCharCode(me,_e)}else return String.fromCharCode(fe)}function s(fe){var me=fe.slice(1,-1);return me in n?n[me]:me.charAt(0)==="#"?a(parseInt(me.substr(1).replace("x","0x"))):(r.error("entity not found:"+fe),fe)}function o(fe){if(fe>x){var me=t.substring(x,fe).replace(/&#?\w+;/g,s);f&&u(x),i.characters(me,0,fe-x),x=fe}}function u(fe,me){for(;fe>=c&&(me=h.exec(t));)l=me.index,c=l+me[0].length,f.lineNumber++;f.columnNumber=fe-l+1}for(var l=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,y=[{currentNSMap:e}],b={},x=0;;){try{var v=t.indexOf("<",x);if(v<0){if(!t.substr(x).match(/^\s*$/)){var S=i.doc,E=S.createTextNode(t.substr(x));S.appendChild(E),i.currentElement=E}return}switch(v>x&&o(v),t.charAt(v+1)){case"/":var k=t.indexOf(">",v+3),P=t.substring(v+2,k).replace(/[ \t\n\r]+$/g,""),O=y.pop();k<0?(P=t.substring(v+2).replace(/[\s<].*/,""),r.error("end tag name: "+P+" is not complete:"+O.tagName),k=v+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),r.error("end tag name: "+P+" maybe not complete"),k=v+1+P.length);var M=O.localNSMap,B=O.tagName==P,F=B||O.tagName&&O.tagName.toLowerCase()==P.toLowerCase();if(F){if(i.endElement(O.uri,O.localName,P),M)for(var U in M)i.endPrefixMapping(U);B||r.fatalError("end tag name: "+P+" is not match the current start tagName:"+O.tagName)}else y.push(O);k++;break;case"?":f&&u(v),k=Lw(t,v,i);break;case"!":f&&u(v),k=Dw(t,v,i,r);break;default:f&&u(v);var j=new By,te=y[y.length-1].currentNSMap,k=Pw(t,v,j,te,s,r),oe=j.length;if(!j.closed&&Iw(t,k,j.tagName,b)&&(j.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),f&&oe){for(var ae=Ny(f,{}),he=0;he<oe;he++){var ne=j[he];u(ne.offset),ne.locator=Ny(f,{})}i.locator=ae,Fy(j,i,te)&&y.push(j),i.locator=f}else Fy(j,i,te)&&y.push(j);Os.isHTML(j.uri)&&!j.closed?k=Aw(t,k,j.tagName,s,i):k++}}catch(fe){if(fe instanceof zi)throw fe;r.error("element parse error: "+fe),k=-1}k>x?x=k:o(Math.max(v,x)+1)}}function Ny(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function Pw(t,e,n,i,r,a){function s(f,y,b){n.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),n.addValue(f,y,b)}for(var o,u,l=++e,c=Rs;;){var h=t.charAt(l);switch(h){case"=":if(c===gn)o=t.slice(e,l),c=Ms;else if(c===Hi)c=Ms;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Ms||c===gn)if(c===gn&&(a.warning('attribute value must after "="'),o=t.slice(e,l)),e=l+1,l=t.indexOf(h,e),l>0)u=t.slice(e,l).replace(/&#?\w+;/g,r),s(o,u,e-1),c=Wi;else throw new Error("attribute value no end '"+h+"' match");else if(c==Vi)u=t.slice(e,l).replace(/&#?\w+;/g,r),s(o,u,e),a.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=l+1,c=Wi;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Rs:n.setTagName(t.slice(e,l));case Wi:case Ns:case qu:c=qu,n.closed=!0;case Vi:case gn:case Hi:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==Rs&&n.setTagName(t.slice(e,l)),l;case">":switch(c){case Rs:n.setTagName(t.slice(e,l));case Wi:case Ns:case qu:break;case Vi:case gn:u=t.slice(e,l),u.slice(-1)==="/"&&(n.closed=!0,u=u.slice(0,-1));case Hi:c===Hi&&(u=o),c==Vi?(a.warning('attribute "'+u+'" missed quot(")!'),s(o,u.replace(/&#?\w+;/g,r),e)):((!Os.isHTML(i[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,e));break;case Ms:throw new Error("attribute value missed!!")}return l;case"\x80":h=" ";default:if(h<=" ")switch(c){case Rs:n.setTagName(t.slice(e,l)),c=Ns;break;case gn:o=t.slice(e,l),c=Hi;break;case Vi:var u=t.slice(e,l).replace(/&#?\w+;/g,r);a.warning('attribute "'+u+'" missed quot(")!!'),s(o,u,e);case Wi:c=Ns;break}else switch(c){case Hi:n.tagName,(!Os.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=l,c=gn;break;case Wi:a.warning('attribute space is required"'+o+'"!!');case Ns:c=gn,e=l;break;case Ms:c=Vi,e=l;break;case qu:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function Fy(t,e,n){for(var i=t.tagName,r=null,a=t.length;a--;){var s=t[a],o=s.qName,u=s.value,f=o.indexOf(":");if(f>0)var l=s.prefix=o.slice(0,f),c=o.slice(f+1),h=l==="xmlns"&&c;else c=o,l=null,h=o==="xmlns"&&"";s.localName=c,h!==!1&&(r==null&&(r={},Uy(n,n={})),n[h]=r[h]=u,s.uri=Os.XMLNS,e.startPrefixMapping(h,u))}for(var a=t.length;a--;){s=t[a];var l=s.prefix;l&&(l==="xml"&&(s.uri=Os.XML),l!=="xmlns"&&(s.uri=n[l||""]))}var f=i.indexOf(":");f>0?(l=t.prefix=i.slice(0,f),c=t.localName=i.slice(f+1)):(l=null,c=t.localName=i);var y=t.uri=n[l||""];if(e.startElement(y,c,i,t),t.closed){if(e.endElement(y,c,i),r)for(l in r)e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=r,!0}function Aw(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return e+1}function Iw(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function Uy(t,e){for(var n in t)e[n]=t[n]}function Dw(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(n.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var s=Ow(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],l=!1,c=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],c=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var h=s[o-1];return n.startDTD(u,l,c),n.endDTD(),h.index+h[0].length}}return-1}function Lw(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function By(){this.attributeNames={}}By.prototype={setTagName:function(t){if(!Ry.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!Ry.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Ow(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}Kf.XMLReader=My;Kf.ParseError=zi;var Rw=Wn,Qf=mn,jy=Ly,Hy=Kf,Mw=Qf.DOMImplementation,Vy=Rw.NAMESPACE,Nw=Hy.ParseError,Fw=Hy.XMLReader;function Wy(t){this.options=t||{locator:{}}}Wy.prototype.parseFromString=function(t,e){var n=this.options,i=new Fw,r=n.domBuilder||new Fs,a=n.errorHandler,s=n.locator,o=n.xmlns||{},u=/\/x?html?$/.test(e),l=u?jy.HTML_ENTITIES:jy.XML_ENTITIES;return s&&r.setDocumentLocator(s),i.errorHandler=Uw(a,r,s),i.domBuilder=n.domBuilder||r,u&&(o[""]=Vy.HTML),o.xml=o.xml||Vy.XML,t&&typeof t=="string"?i.parse(t,o,l):i.errorHandler.error("invalid doc source"),r.doc};function Uw(t,e,n){if(!t){if(e instanceof Fs)return e;t=e}var i={},r=t instanceof Function;n=n||{};function a(s){var o=t[s];!o&&r&&(o=t.length==2?function(u){t(s,u)}:t),i[s]=o&&function(u){o("[xmldom "+s+"]	"+u+Yf(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function Fs(){this.cdata=!1}function $i(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Fs.prototype={startDocument:function(){this.doc=new Mw().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,a=r.createElementNS(t,n||e),s=i.length;Ku(this,a),this.currentElement=a,this.locator&&$i(this.locator,a);for(var o=0;o<s;o++){var t=i.getURI(o),u=i.getValue(o),n=i.getQName(o),l=r.createAttributeNS(t,n);this.locator&&$i(i.getLocator(o),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&$i(this.locator,n),Ku(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=zy.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&$i(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=zy.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&$i(this.locator,i),Ku(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&$i(this.locator,r),Ku(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,Yf(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Yf(this.locator))},fatalError:function(t){throw new Nw(t,this.locator)}};function Yf(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function zy(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Fs.prototype[t]=function(){return null}});function Ku(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Ls.__DOMHandler=Fs;Ls.DOMParser=Wy;Ls.DOMImplementation=Qf.DOMImplementation;Ls.XMLSerializer=Qf.XMLSerializer;var Bw=Ls.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var $y=function(e){return!!e&&typeof e=="object"},St=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(r,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(r[s])&&Array.isArray(a[s])?r[s]=r[s].concat(a[s]):$y(r[s])&&$y(a[s])?r[s]=t(r[s],a[s]):r[s]=a[s]}),r},{})},jw=function(e){return Object.keys(e).map(function(n){return e[n]})},Hw=function(e,n){for(var i=[],r=e;r<n;r++)i.push(r);return i},Xu=function(e){return e.reduce(function(n,i){return n.concat(i)},[])},Gy=function(e){if(!e.length)return[];for(var n=[],i=0;i<e.length;i++)n.push(e[i]);return n},Vw=function(e,n){return e.reduce(function(i,r,a){return r[n]&&i.push(a),i},[])},Gi={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Us=function(e){var n=e.baseUrl,i=n===void 0?"":n,r=e.source,a=r===void 0?"":r,s=e.range,o=s===void 0?"":s,u=e.indexRange,l=u===void 0?"":u,c={uri:a,resolvedUri:ju(i||"",a)};if(o||l){var h=o||l,f=h.split("-"),y=parseInt(f[0],10),b=parseInt(f[1],10);c.byterange={length:b-y+1,offset:y}}return c},Ww=function(e){var n=e.offset+e.length-1;return e.offset+"-"+n},qy=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},zw={static:function(e){var n=e.duration,i=e.timescale,r=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,o=qy(e.endNumber),u=n/r;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/u}:{start:0,end:a/u}},dynamic:function(e){var n=e.NOW,i=e.clientOffset,r=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,u=e.start,l=u===void 0?0:u,c=e.minimumUpdatePeriod,h=c===void 0?0:c,f=e.timeShiftBufferDepth,y=f===void 0?1/0:f,b=qy(e.endNumber),x=(n+i)/1e3,v=r+l,S=x+h,E=S-v,k=Math.ceil(E*s/o),P=Math.floor((x-v-y)*s/o),O=Math.floor((x-v)*s/o);return{start:Math.max(0,P),end:typeof b=="number"?b:Math.min(k,O)}}},$w=function(e){return function(n,i){var r=e.duration,a=e.timescale,s=a===void 0?1:a,o=e.periodIndex,u=e.startNumber,l=u===void 0?1:u;return{number:l+n,duration:r/s,timeline:o,time:i*r}}},Jf=function(e){var n=e.type,i=e.duration,r=e.timescale,a=r===void 0?1:r,s=e.periodDuration,o=e.sourceDuration,u=zw[n](e),l=u.start,c=u.end,h=Hw(l,c).map($w(e));if(n==="static"){var f=h.length-1,y=typeof s=="number"?s:o;h[f].duration=y-i/a*f}return h},Ky=function(e){var n=e.baseUrl,i=e.initialization,r=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,u=e.duration;if(!n)throw new Error(Gi.NO_BASE_URL);var l=Us({baseUrl:n,source:r.sourceURL,range:r.range}),c=Us({baseUrl:n,source:n,indexRange:o});if(c.map=l,u){var h=Jf(e);h.length&&(c.duration=h[0].duration,c.timeline=h[0].timeline)}else a&&(c.duration=a,c.timeline=0);return c.number=0,[c]},Zf=function(e,n,i){for(var r=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,u=o.offset+o.length,l=n.timescale,c=n.references.filter(function(M){return M.referenceType!==1}),h=[],f=e.endList?"static":"dynamic",y=u+n.firstOffset,b=0;b<c.length;b++){var x=n.references[b],v=x.referencedSize,S=x.subsegmentDuration,E=y+v-1,k=y+"-"+E,P={baseUrl:i,timescale:l,timeline:s,periodIndex:s,duration:S,sourceDuration:a,indexRange:k,type:f},O=Ky(P)[0];r&&(O.map=r),h.push(O),y+=v}return e.segments=h,e},Qu=function(e){return e&&e.uri+"-"+Ww(e.byterange)},Xy=function(e){var n=jw(e.reduce(function(i,r){var a=r.attributes.id+(r.attributes.lang||"");if(i[a]){var s;r.segments[0]&&(r.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,r.segments),r.attributes.contentProtection&&(i[a].attributes.contentProtection=r.attributes.contentProtection)}else i[a]=r;return i},{}));return n.map(function(i){return i.discontinuityStarts=Vw(i.segments,"discontinuity"),i})},eh=function(e,n){var i=Qu(e.sidx),r=i&&n[i]&&n[i].sidx;return r&&Zf(e,r,e.sidx.resolvedUri),e},Gw=function(e,n){if(n===void 0&&(n={}),!Object.keys(n).length)return e;for(var i in e)e[i]=eh(e[i],n);return e},qw=function(e,n){var i,r=e.attributes,a=e.segments,s=e.sidx,o={attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:r.type==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:a,mediaSequence:a.length?a[0].number:1};return r.contentProtection&&(o.contentProtection=r.contentProtection),s&&(o.sidx=s),n&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},Kw=function(e){var n,i=e.attributes,r=e.segments;typeof r=="undefined"&&(r=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var a=(n={NAME:i.id,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n);return i.codecs&&(a.CODECS=i.codecs),{attributes:a,uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1}},Xw=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var r,a=e.reduce(function(o,u){var l=u.attributes.role&&u.attributes.role.value||"",c=u.attributes.lang||"",h=u.attributes.label||"main";if(c&&!u.attributes.label){var f=l?" ("+l+")":"";h=""+u.attributes.lang+f}o[h]||(o[h]={language:c,autoselect:!0,default:l==="main",playlists:[],uri:""});var y=eh(qw(u,i),n);return o[h].playlists.push(y),typeof r=="undefined"&&l==="main"&&(r=u,r.default=!0),o},{});if(!r){var s=Object.keys(a)[0];a[s].default=!0}return a},Qw=function(e,n){return n===void 0&&(n={}),e.reduce(function(i,r){var a=r.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(eh(Kw(r),n)),i},{})},Yw=function(e){return e.reduce(function(n,i){return i&&i.forEach(function(r){var a=r.channel,s=r.language;n[s]={autoselect:!1,default:!1,instreamId:a,language:s},r.hasOwnProperty("aspectRatio")&&(n[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(n[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(n[s]["3D"]=r["3D"])}),n},{})},Jw=function(e){var n,i=e.attributes,r=e.segments,a=e.sidx,s={attributes:(n={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),a&&(s.sidx=a),s},Zw=function(e){var n=e.attributes;return n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video"},ek=function(e){var n=e.attributes;return n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio"},tk=function(e){var n=e.attributes;return n.mimeType==="text/vtt"||n.contentType==="text"},rk=function(e,n,i){var r;if(i===void 0&&(i={}),!e.length)return{};var a=e[0].attributes,s=a.sourceDuration,o=a.type,u=a.suggestedPresentationDelay,l=a.minimumUpdatePeriod,c=Xy(e.filter(Zw)).map(Jw),h=Xy(e.filter(ek)),f=e.filter(tk),y=e.map(function(v){return v.attributes.captionServices}).filter(Boolean),b={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:s,playlists:Gw(c,i)};l>=0&&(b.minimumUpdatePeriod=l*1e3),n&&(b.locations=n),o==="dynamic"&&(b.suggestedPresentationDelay=u);var x=b.playlists.length===0;return h.length&&(b.mediaGroups.AUDIO.audio=Xw(h,i,x)),f.length&&(b.mediaGroups.SUBTITLES.subs=Qw(f,i)),y.length&&(b.mediaGroups["CLOSED-CAPTIONS"].cc=Yw(y)),b},nk=function(e,n,i){var r=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,u=o===void 0?1:o,l=e.start,c=l===void 0?0:l,h=e.minimumUpdatePeriod,f=h===void 0?0:h,y=(r+a)/1e3,b=s+c,x=y+f,v=x-b;return Math.ceil((v*u-n)/i)},Qy=function(e,n){for(var i=e.type,r=e.minimumUpdatePeriod,a=r===void 0?0:r,s=e.media,o=s===void 0?"":s,u=e.sourceDuration,l=e.timescale,c=l===void 0?1:l,h=e.startNumber,f=h===void 0?1:h,y=e.periodIndex,b=[],x=-1,v=0;v<n.length;v++){var S=n[v],E=S.d,k=S.r||0,P=S.t||0;x<0&&(x=P),P&&P>x&&(x=P);var O=void 0;if(k<0){var M=v+1;M===n.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?O=nk(e,x,E):O=(u*c-x)/E:O=(n[M].t-x)/E}else O=k+1;for(var B=f+b.length+O,F=f+b.length;F<B;)b.push({number:F,duration:E/c,time:x,timeline:y}),x+=E,F++}return b},ik=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ak=function(e){return function(n,i,r,a){if(n==="$$")return"$";if(typeof e[i]=="undefined")return n;var s=""+e[i];return i==="RepresentationID"||(r?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},Yy=function(e,n){return e.replace(ik,ak(n))},sk=function(e,n){return!e.duration&&!n?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]:e.duration?Jf(e):Qy(e,n)},ok=function(e,n){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,a=r===void 0?{sourceURL:"",range:""}:r,s=Us({baseUrl:e.baseUrl,source:Yy(a.sourceURL,i),range:a.range}),o=sk(e,n);return o.map(function(u){i.Number=u.number,i.Time=u.time;var l=Yy(e.media||"",i),c=e.timescale||1,h=e.presentationTimeOffset||0,f=e.periodStart+(u.time-h)/c,y={uri:l,timeline:u.timeline,duration:u.duration,resolvedUri:ju(e.baseUrl||"",l),map:s,number:u.number,presentationTime:f};return y})},uk=function(e,n){var i=e.baseUrl,r=e.initialization,a=r===void 0?{}:r,s=Us({baseUrl:i,source:a.sourceURL,range:a.range}),o=Us({baseUrl:i,source:n.media,range:n.mediaRange});return o.map=s,o},lk=function(e,n){var i=e.duration,r=e.segmentUrls,a=r===void 0?[]:r,s=e.periodStart;if(!i&&!n||i&&n)throw new Error(Gi.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(c){return uk(e,c)}),u;i&&(u=Jf(e)),n&&(u=Qy(e,n));var l=u.map(function(c,h){if(o[h]){var f=o[h],y=e.timescale||1,b=e.presentationTimeOffset||0;return f.timeline=c.timeline,f.duration=c.duration,f.number=c.number,f.presentationTime=s+(c.time-b)/y,f}}).filter(function(c){return c});return l},ck=function(e){var n=e.attributes,i=e.segmentInfo,r,a;i.template?(a=ok,r=St(n,i.template)):i.base?(a=Ky,r=St(n,i.base)):i.list&&(a=lk,r=St(n,i.list));var s={attributes:n};if(!a)return s;var o=a(r,i.segmentTimeline);if(r.duration){var u=r,l=u.duration,c=u.timescale,h=c===void 0?1:c;r.duration=l/h}else o.length?r.duration=o.reduce(function(f,y){return Math.max(f,Math.ceil(y.duration))},0):r.duration=0;return s.attributes=r,s.segments=o,i.base&&r.indexRange&&(s.sidx=o[0],s.segments=[]),s},dk=function(e){return e.map(ck)},ze=function(e,n){return Gy(e.childNodes).filter(function(i){var r=i.tagName;return r===n})},th=function(e){return e.textContent.trim()},qi=function(e){var n=365*24*60*60,i=30*24*60*60,r=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,u=o.exec(e);if(!u)return 0;var l=u.slice(1),c=l[0],h=l[1],f=l[2],y=l[3],b=l[4],x=l[5];return parseFloat(c||0)*n+parseFloat(h||0)*i+parseFloat(f||0)*r+parseFloat(y||0)*a+parseFloat(b||0)*s+parseFloat(x||0)},fk=function(e){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(e)&&(e+="Z"),Date.parse(e)},Jy={mediaPresentationDuration:function(e){return qi(e)},availabilityStartTime:function(e){return fk(e)/1e3},minimumUpdatePeriod:function(e){return qi(e)},suggestedPresentationDelay:function(e){return qi(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return qi(e)},start:function(e){return qi(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var n=parseInt(e,10);return isNaN(n)?qi(e):n},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},mt=function(e){return e&&e.attributes?Gy(e.attributes).reduce(function(n,i){var r=Jy[i.name]||Jy.DEFAULT;return n[i.name]=r(i.value),n},{}):{}},hk={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Yu=function(e,n){return n.length?Xu(e.map(function(i){return n.map(function(r){return ju(i,th(r))})})):e},rh=function(e){var n=ze(e,"SegmentTemplate")[0],i=ze(e,"SegmentList")[0],r=i&&ze(i,"SegmentURL").map(function(f){return St({tag:"SegmentURL"},mt(f))}),a=ze(e,"SegmentBase")[0],s=i||n,o=s&&ze(s,"SegmentTimeline")[0],u=i||a||n,l=u&&ze(u,"Initialization")[0],c=n&&mt(n);c&&l?c.initialization=l&&mt(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var h={template:c,segmentTimeline:o&&ze(o,"S").map(function(f){return mt(f)}),list:i&&St(mt(i),{segmentUrls:r,initialization:mt(l)}),base:a&&St(mt(a),{initialization:mt(l)})};return Object.keys(h).forEach(function(f){h[f]||delete h[f]}),h},pk=function(e,n,i){return function(r){var a=ze(r,"BaseURL"),s=Yu(n,a),o=St(e,mt(r)),u=rh(r);return s.map(function(l){return{segmentInfo:St(i,u),attributes:St(o,{baseUrl:l})}})}},mk=function(e){return e.reduce(function(n,i){var r=mt(i),a=hk[r.schemeIdUri];if(a){n[a]={attributes:r};var s=ze(i,"cenc:pssh")[0];if(s){var o=th(s),u=o&&ty(o);n[a].pssh=u}}return n},{})},gk=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var a,s;if(s=r,/^CC\d=/.test(r)){var o=r.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(r)&&(a=r);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var s=r.split("="),o=s[0],u=s[1],l=u===void 0?"":u;a.channel=o,a.language=r,l.split(",").forEach(function(c){var h=c.split(":"),f=h[0],y=h[1];f==="lang"?a.language=y:f==="er"?a.easyReader=Number(y):f==="war"?a.aspectRatio=Number(y):f==="3D"&&(a["3D"]=Number(y))})}else a.language=r;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},vk=function(e,n,i){return function(r){var a=mt(r),s=Yu(n,ze(r,"BaseURL")),o=ze(r,"Role")[0],u={role:mt(o)},l=St(e,a,u),c=ze(r,"Accessibility")[0],h=gk(mt(c));h&&(l=St(l,{captionServices:h}));var f=ze(r,"Label")[0];if(f&&f.childNodes.length){var y=f.childNodes[0].nodeValue.trim();l=St(l,{label:y})}var b=mk(ze(r,"ContentProtection"));Object.keys(b).length&&(l=St(l,{contentProtection:b}));var x=rh(r),v=ze(r,"Representation"),S=St(i,x);return Xu(v.map(pk(l,s,S)))}},yk=function(e,n){return function(i,r){var a=Yu(n,ze(i.node,"BaseURL")),s=parseInt(i.attributes.id,10),o=D.isNaN(s)?r:s,u=St(e,{periodIndex:o,periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(u.periodDuration=i.attributes.duration);var l=ze(i.node,"AdaptationSet"),c=rh(i.node);return Xu(l.map(vk(u,a,c)))}},_k=function(e){var n=e.attributes,i=e.priorPeriodAttributes,r=e.mpdType;return typeof n.start=="number"?n.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&r==="static"?0:null},Tk=function(e,n){n===void 0&&(n={});var i=n,r=i.manifestUri,a=r===void 0?"":r,s=i.NOW,o=s===void 0?Date.now():s,u=i.clientOffset,l=u===void 0?0:u,c=ze(e,"Period");if(!c.length)throw new Error(Gi.INVALID_NUMBER_OF_PERIOD);var h=ze(e,"Location"),f=mt(e),y=Yu([a],ze(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=l,h.length&&(f.locations=h.map(th));var b=[];return c.forEach(function(x,v){var S=mt(x),E=b[v-1];S.start=_k({attributes:S,priorPeriodAttributes:E?E.attributes:null,mpdType:f.type}),b.push({node:x,attributes:S})}),{locations:f.locations,representationInfo:Xu(b.map(yk(f,y)))}},Zy=function(e){if(e==="")throw new Error(Gi.DASH_EMPTY_MANIFEST);var n=new Bw,i,r;try{i=n.parseFromString(e,"application/xml"),r=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Gi.DASH_INVALID_XML);return r},xk=function(e){var n=ze(e,"UTCTiming")[0];if(!n)return null;var i=mt(n);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Gi.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},Sk=function(e,n){n===void 0&&(n={});var i=Tk(Zy(e),n),r=dk(i.representationInfo);return rk(r,i.locations,n.sidxMapping)},bk=function(e){return xk(Zy(e))},e_=Math.pow(2,32),Ek=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=e.getUint32(i)*e_+e.getUint32(i+4),n.firstOffset=e.getUint32(i+8)*e_+e.getUint32(i+12),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},Ck=Ek,wk=function(e){return e.toString(2).length},kk=function(e){return Math.ceil(wk(e)/8)},Pk=function(e){return ArrayBuffer.isView(e)},ie=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!Pk(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},st=D.BigInt||Number,nh=[st("0x1"),st("0x100"),st("0x10000"),st("0x1000000"),st("0x100000000"),st("0x10000000000"),st("0x1000000000000"),st("0x100000000000000"),st("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var Ak=function(e,n){var i=n===void 0?{}:n,r=i.signed,a=r===void 0?!1:r,s=i.le,o=s===void 0?!1:s;e=ie(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],c=l.call(e,function(f,y,b){var x=o?b:Math.abs(b+1-e.length);return f+st(y)*nh[x]},st(0));if(a){var h=nh[e.length]/st(2)-st(1);c=st(c),c>h&&(c-=h,c-=h,c-=st(2))}return Number(c)},Ik=function(e,n){var i=n===void 0?{}:n,r=i.le,a=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=st(e);for(var s=kk(e),o=new Uint8Array(new ArrayBuffer(s)),u=0;u<s;u++){var l=a?u:Math.abs(u+1-o.length);o[l]=Number(e/nh[u]&st(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},t_=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},Dk=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return ie(n[0]);var r=n.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),a=new Uint8Array(r),s=0;return n.forEach(function(o){o=ie(o),a.set(o,s),s+=o.byteLength}),a},Me=function(e,n,i){var r=i===void 0?{}:i,a=r.offset,s=a===void 0?0:a,o=r.mask,u=o===void 0?[]:o;e=ie(e),n=ie(n);var l=n.every?n.every:Array.prototype.every;return n.length&&e.length-s>=n.length&&l.call(n,function(c,h){var f=u[h]?u[h]&e[s+h]:e[s+h];return c===f})},Lk=ie([73,68,51]),Ok=function(e,n){n===void 0&&(n=0),e=ie(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(i&16)>>4;return a?r+20:r+10},Bs=function t(e,n){return n===void 0&&(n=0),e=ie(e),e.length-n<10||!Me(e,Lk,{offset:n})?n:(n+=Ok(e,n),t(e,n))},r_=function(e){return typeof e=="string"?t_(e):e},Rk=function(e){return Array.isArray(e)?e.map(function(n){return r_(n)}):[r_(e)]},Mk=function t(e,n,i){i===void 0&&(i=!1),n=Rk(n),e=ie(e);var r=[];if(!n.length)return r;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var u=a+s;if(u>e.length){if(i)break;u=e.length}var l=e.subarray(a+8,u);Me(o,n[0])&&(n.length===1?r.push(l):r.push.apply(r,t(l,n.slice(1),i))),a=u}return r},Ju={EBML:ie([26,69,223,163]),DocType:ie([66,130]),Segment:ie([24,83,128,103]),SegmentInfo:ie([21,73,169,102]),Tracks:ie([22,84,174,107]),Track:ie([174]),TrackNumber:ie([215]),DefaultDuration:ie([35,227,131]),TrackEntry:ie([174]),TrackType:ie([131]),FlagDefault:ie([136]),CodecID:ie([134]),CodecPrivate:ie([99,162]),VideoTrack:ie([224]),AudioTrack:ie([225]),Cluster:ie([31,67,182,117]),Timestamp:ie([231]),TimestampScale:ie([42,215,177]),BlockGroup:ie([160]),BlockDuration:ie([155]),Block:ie([161]),SimpleBlock:ie([163])},ih=[128,64,32,16,8,4,2,1],Nk=function(e){for(var n=1,i=0;i<ih.length&&!(e&ih[i]);i++)n++;return n},Zu=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var a=Nk(e[n]),s=e.subarray(n,n+a);return i&&(s=Array.prototype.slice.call(e,n,n+a),s[0]^=ih[a-1]),{length:a,value:Ak(s,{signed:r}),bytes:s}},n_=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?Ik(e):e},Fk=function(e){return Array.isArray(e)?e.map(function(n){return n_(n)}):[n_(e)]},Uk=function t(e,n,i){if(i>=n.length)return n.length;var r=Zu(n,i,!1);if(Me(e.bytes,r.bytes))return i;var a=Zu(n,i+r.length);return t(e,n,i+a.length+a.value+r.length)},i_=function t(e,n){n=Fk(n),e=ie(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var a=Zu(e,r,!1),s=Zu(e,r+a.length),o=r+a.length+s.length;s.value===127&&(s.value=Uk(a,e,o),s.value!==e.length&&(s.value-=o));var u=o+s.value>e.length?e.length:o+s.value,l=e.subarray(o,u);Me(n[0],a.bytes)&&(n.length===1?i.push(l):i=i.concat(t(l,n.slice(1))));var c=a.length+s.length+l.length;r+=c}return i},Bk=ie([0,0,0,1]),jk=ie([0,0,1]),Hk=ie([0,0,3]),Vk=function(e){for(var n=[],i=1;i<e.length-2;)Me(e.subarray(i,i+3),Hk)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,a=new Uint8Array(r),s=0;for(i=0;i<r;s++,i++)s===n[0]&&(s++,n.shift()),a[i]=e[s];return a},a_=function(e,n,i,r){r===void 0&&(r=1/0),e=ie(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<r||s);){var u=void 0;if(Me(e.subarray(a),Bk)?u=4:Me(e.subarray(a),jk)&&(u=3),!u){a++;continue}if(o++,s)return Vk(e.subarray(s,a));var l=void 0;n==="h264"?l=e[a+u]&31:n==="h265"&&(l=e[a+u]>>1&63),i.indexOf(l)!==-1&&(s=a+u),a+=u+(n==="h264"?1:2)}return e.subarray(0,0)},Wk=function(e,n,i){return a_(e,"h264",n,i)},zk=function(e,n,i){return a_(e,"h265",n,i)},bt={webm:ie([119,101,98,109]),matroska:ie([109,97,116,114,111,115,107,97]),flac:ie([102,76,97,67]),ogg:ie([79,103,103,83]),ac3:ie([11,119]),riff:ie([82,73,70,70]),avi:ie([65,86,73]),wav:ie([87,65,86,69]),"3gp":ie([102,116,121,112,51,103]),mp4:ie([102,116,121,112]),fmp4:ie([115,116,121,112]),mov:ie([102,116,121,112,113,116]),moov:ie([109,111,111,118]),moof:ie([109,111,111,102])},Ki={aac:function(e){var n=Bs(e);return Me(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=Bs(e);return Me(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=i_(e,[Ju.EBML,Ju.DocType])[0];return Me(n,bt.webm)},mkv:function(e){var n=i_(e,[Ju.EBML,Ju.DocType])[0];return Me(n,bt.matroska)},mp4:function(e){if(Ki["3gp"](e)||Ki.mov(e))return!1;if(Me(e,bt.mp4,{offset:4})||Me(e,bt.fmp4,{offset:4})||Me(e,bt.moof,{offset:4})||Me(e,bt.moov,{offset:4}))return!0},mov:function(e){return Me(e,bt.mov,{offset:4})},"3gp":function(e){return Me(e,bt["3gp"],{offset:4})},ac3:function(e){var n=Bs(e);return Me(e,bt.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=Bs(e);return Me(e,bt.flac,{offset:n})},ogg:function(e){return Me(e,bt.ogg)},avi:function(e){return Me(e,bt.riff)&&Me(e,bt.avi,{offset:8})},wav:function(e){return Me(e,bt.riff)&&Me(e,bt.wav,{offset:8})},h264:function(e){return Wk(e,7,3).length},h265:function(e){return zk(e,[32,33],3).length}},ah=Object.keys(Ki).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);ah.forEach(function(t){var e=Ki[t];Ki[t]=function(n){return e(ie(n))}});var $k=Ki,sh=function(e){e=ie(e);for(var n=0;n<ah.length;n++){var i=ah[n];if($k[i](e))return i}return""},Gk=function(e){return Mk(e,["moof"]).length>0},oh=9e4,uh,lh,el,ch,s_,o_,u_;uh=function(t){return t*oh};lh=function(t,e){return t*e};el=function(t){return t/oh};ch=function(t,e){return t/e};s_=function(t,e){return uh(ch(t,e))};o_=function(t,e){return lh(el(t),e)};u_=function(t,e,n){return el(n?t:t-e)};var tl={ONE_SECOND_IN_TS:oh,secondsToVideoTs:uh,secondsToAudioTs:lh,videoTsToSeconds:el,audioTsToSeconds:ch,audioTsToVideoTs:s_,videoTsToAudioTs:o_,metadataTsToSeconds:u_};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var l_="7.17.0",Fr={},vn=function(e,n){return Fr[e]=Fr[e]||[],n&&(Fr[e]=Fr[e].concat(n)),Fr[e]},qk=function(e,n){vn(e,n)},c_=function(e,n){var i=vn(e).indexOf(n);return i<=-1?!1:(Fr[e]=Fr[e].slice(),Fr[e].splice(i,1),!0)},Kk=function(e,n){vn(e,[].concat(n).map(function(i){var r=function a(){return c_(e,a),i.apply(void 0,arguments)};return r}))},rl={prefixed:!0},nl=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],d_=nl[0],js;for(var il=0;il<nl.length;il++)if(nl[il][1]in q){js=nl[il];break}if(js){for(var al=0;al<js.length;al++)rl[d_[al]]=js[al];rl.prefixed=js[0]!==d_[0]}var Ot=[],Xk=function(e,n){return function(i,r,a){var s=n.levels[r],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),Ot){Ot.push([].concat(a));var u=Ot.length-1e3;Ot.splice(0,u>0?u:0)}if(!!D.console){var l=D.console[i];!l&&i==="debug"&&(l=D.console.info||D.console.log),!(!l||!s||!o.test(i))&&l[Array.isArray(a)?"apply":"call"](D.console,a)}}};function f_(t){var e="info",n,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n("log",e,s)};return n=Xk(t,i),i.createLogger=function(r){return f_(t+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(r){if(typeof r=="string"){if(!i.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},i.history=function(){return Ot?[].concat(Ot):[]},i.history.filter=function(r){return(Ot||[]).filter(function(a){return new RegExp(".*"+r+".*").test(a[0])})},i.history.clear=function(){Ot&&(Ot.length=0)},i.history.disable=function(){Ot!==null&&(Ot.length=0,Ot=null)},i.history.enable=function(){Ot===null&&(Ot=[])},i.error=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("error",e,a)},i.warn=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("warn",e,a)},i.debug=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n("debug",e,a)},i}var pe=f_("VIDEOJS"),h_=pe.createLogger,Qk=Object.prototype.toString,p_=function(e){return Ur(e)?Object.keys(e):[]};function Xi(t,e){p_(t).forEach(function(n){return e(t[n],n)})}function Yk(t,e,n){return n===void 0&&(n=0),p_(t).reduce(function(i,r){return e(i,t[r],r)},n)}function je(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Le.apply(void 0,[t].concat(n)):(n.forEach(function(r){!r||Xi(r,function(a,s){t[s]=a})}),t)}function Ur(t){return!!t&&typeof t=="object"}function Hs(t){return Ur(t)&&Qk.call(t)==="[object Object]"&&t.constructor===Object}function Vs(t,e){if(!t||!e)return"";if(typeof D.getComputedStyle=="function"){var n;try{n=D.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}var Je=D.navigator&&D.navigator.userAgent||"",m_=/AppleWebKit\/([\d.]+)/i.exec(Je),Jk=m_?parseFloat(m_.pop()):null,g_=/iPod/i.test(Je),Zk=function(){var t=Je.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Br=/Android/i.test(Je),dh=function(){var t=Je.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),v_=Br&&dh<5&&Jk<537,y_=/Firefox/i.test(Je),Ws=/Edg/i.test(Je),jr=!Ws&&(/Chrome/i.test(Je)||/CriOS/i.test(Je)),__=function(){var t=Je.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),zs=function(){var t=/MSIE\s(\d+)\.\d/.exec(Je),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Je)&&/rv:11.0/.test(Je)&&(e=11),e}(),fh=/Safari/i.test(Je)&&!jr&&!Br&&!Ws,T_=/Windows/i.test(Je),Qi=Boolean(Yi()&&("ontouchstart"in D||D.navigator.maxTouchPoints||D.DocumentTouch&&D.document instanceof D.DocumentTouch)),hh=/iPad/i.test(Je)||fh&&Qi&&!/iPhone/i.test(Je),ph=/iPhone/i.test(Je)&&!hh,Rt=ph||hh||g_,sl=(fh||Rt)&&!jr,eP=Object.freeze({__proto__:null,IS_IPOD:g_,IOS_VERSION:Zk,IS_ANDROID:Br,ANDROID_VERSION:dh,IS_NATIVE_ANDROID:v_,IS_FIREFOX:y_,IS_EDGE:Ws,IS_CHROME:jr,CHROME_VERSION:__,IE_VERSION:zs,IS_SAFARI:fh,IS_WINDOWS:T_,TOUCH_ENABLED:Qi,IS_IPAD:hh,IS_IPHONE:ph,IS_IOS:Rt,IS_ANY_SAFARI:sl});function x_(t){return typeof t=="string"&&Boolean(t.trim())}function S_(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function tP(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function Yi(){return q===D.document}function Ji(t){return Ur(t)&&t.nodeType===1}function b_(){try{return D.parent!==D.self}catch{return!0}}function E_(t){return function(e,n){if(!x_(e))return q[t](null);x_(n)&&(n=q.querySelector(n));var i=Ji(n)?n:q;return i[t]&&i[t](e)}}function ye(t,e,n,i){t===void 0&&(t="div"),e===void 0&&(e={}),n===void 0&&(n={});var r=q.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(pe.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),r.setAttribute(a,s)):a==="textContent"?Gn(r,s):(r[a]!==s||a==="tabIndex")&&(r[a]=s)}),Object.getOwnPropertyNames(n).forEach(function(a){r.setAttribute(a,n[a])}),i&&vh(r,i),r}function Gn(t,e){return typeof t.textContent=="undefined"?t.innerText=e:t.textContent=e,t}function mh(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function qn(t,e){return S_(e),t.classList?t.classList.contains(e):tP(e).test(t.className)}function Hr(t,e){return t.classList?t.classList.add(e):qn(t,e)||(t.className=(t.className+" "+e).trim()),t}function $s(t,e){return t?(t.classList?t.classList.remove(e):(S_(e),t.className=t.className.split(/\s+/).filter(function(n){return n!==e}).join(" ")),t):(pe.warn("removeClass was called with an element that doesn't exist"),null)}function C_(t,e,n){var i=qn(t,e);if(typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=!i),n!==i)return n?Hr(t,e):$s(t,e),t}function w_(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];i===null||typeof i=="undefined"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Vr(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var a=i[r].name,s=i[r].value;(typeof t[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function k_(t,e){return t.getAttribute(e)}function Zi(t,e,n){t.setAttribute(e,n)}function ol(t,e){t.removeAttribute(e)}function P_(){q.body.focus(),q.onselectstart=function(){return!1}}function A_(){q.onselectstart=function(){return!0}}function ea(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Vs(t,"height"))),n.width||(n.width=parseFloat(Vs(t,"width"))),n}}function Gs(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;t.offsetParent&&t!==q[rl.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function ul(t,e){var n={x:0,y:0};if(Rt)for(var i=t;i&&i.nodeName.toLowerCase()!=="html";){var r=Vs(i,"transform");if(/^matrix/.test(r)){var a=r.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(r)){var s=r.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}i=i.parentNode}var o={},u=Gs(e.target),l=Gs(t),c=l.width,h=l.height,f=e.offsetY-(l.top-u.top),y=e.offsetX-(l.left-u.left);return e.changedTouches&&(y=e.changedTouches[0].pageX-l.left,f=e.changedTouches[0].pageY+l.top,Rt&&(y-=n.x,f-=n.y)),o.y=1-Math.max(0,Math.min(1,f/h)),o.x=Math.max(0,Math.min(1,y/c)),o}function I_(t){return Ur(t)&&t.nodeType===3}function gh(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function D_(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Ji(e)||I_(e))return e;if(typeof e=="string"&&/\S/.test(e))return q.createTextNode(e)}).filter(function(e){return e})}function vh(t,e){return D_(e).forEach(function(n){return t.appendChild(n)}),t}function L_(t,e){return vh(gh(t),e)}function qs(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var yn=E_("querySelector"),O_=E_("querySelectorAll"),R_=Object.freeze({__proto__:null,isReal:Yi,isEl:Ji,isInFrame:b_,createEl:ye,textContent:Gn,prependTo:mh,hasClass:qn,addClass:Hr,removeClass:$s,toggleClass:C_,setAttributes:w_,getAttributes:Vr,getAttribute:k_,setAttribute:Zi,removeAttribute:ol,blockTextSelection:P_,unblockTextSelection:A_,getBoundingClientRect:ea,findPosition:Gs,getPointerPosition:ul,isTextNode:I_,emptyEl:gh,normalizeContent:D_,appendContent:vh,insertContent:L_,isSingleLeftClick:qs,$:yn,$$:O_}),M_=!1,yh,rP=function(){if(yh.options.autoSetup!==!1){var e=Array.prototype.slice.call(q.getElementsByTagName("video")),n=Array.prototype.slice.call(q.getElementsByTagName("audio")),i=Array.prototype.slice.call(q.getElementsByTagName("video-js")),r=e.concat(n,i);if(r&&r.length>0)for(var a=0,s=r.length;a<s;a++){var o=r[a];if(o&&o.getAttribute){if(o.player===void 0){var u=o.getAttribute("data-setup");u!==null&&yh(o)}}else{_h(1);break}}else M_||_h(1)}};function _h(t,e){!Yi()||(e&&(yh=e),D.setTimeout(rP,t))}function Th(){M_=!0,D.removeEventListener("load",Th)}Yi()&&(q.readyState==="complete"?Th():D.addEventListener("load",Th));var N_=function(e){var n=q.createElement("style");return n.className=e,n},F_=function(e,n){e.styleSheet?e.styleSheet.cssText=n:e.textContent=n},nP=3,iP=nP;function _n(){return iP++}var U_;D.WeakMap||(U_=function(){function t(){this.vdata="vdata"+Math.floor(D.performance&&D.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(i,r){var a=i[this.vdata]||_n();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=r,this},e.get=function(i){var r=i[this.vdata];if(r)return this.data[r];pe("We have no data for this element",i)},e.has=function(i){var r=i[this.vdata];return r in this.data},e.delete=function(i){var r=i[this.vdata];r&&(delete this.data[r],delete i[this.vdata])},t}());var Et=D.WeakMap?new WeakMap:new U_;function B_(t,e){if(!!Et.has(t)){var n=Et.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Et.delete(t)}}function xh(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function ll(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var i=t||D.event;t={};for(var r in i)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r==="returnValue"&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||q),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){var a=q.documentElement,s=q.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var cl,aP=function(){if(typeof cl!="boolean"){cl=!1;try{var e=Object.defineProperty({},"passive",{get:function(){cl=!0}});D.addEventListener("test",null,e),D.removeEventListener("test",null,e)}catch{}}return cl},sP=["touchstart","touchmove"];function jt(t,e,n){if(Array.isArray(e))return xh(jt,t,e,n);Et.has(t)||Et.set(t,{});var i=Et.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=_n()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=ll(a);var o=i.handlers[a.type];if(o)for(var u=o.slice(0),l=0,c=u.length;l<c&&!a.isImmediatePropagationStopped();l++)try{u[l].call(t,a,s)}catch(h){pe.error(h)}}}),i.handlers[e].length===1)if(t.addEventListener){var r=!1;aP()&&sP.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function gt(t,e,n){if(!!Et.has(t)){var i=Et.get(t);if(!!i.handlers){if(Array.isArray(e))return xh(gt,t,e,n);var r=function(l,c){i.handlers[c]=[],B_(l,c)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);return}var s=i.handlers[e];if(!!s){if(!n){r(t,e);return}if(n.guid)for(var o=0;o<s.length;o++)s[o].guid===n.guid&&s.splice(o--,1);B_(t,e)}}}}function ta(t,e,n){var i=Et.has(t)?Et.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=ll(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)ta.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Et.has(e.target)||Et.set(e.target,{});var a=Et.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function dl(t,e,n){if(Array.isArray(e))return xh(dl,t,e,n);var i=function r(){gt(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||_n(),jt(t,e,i)}function j_(t,e,n){var i=function r(){gt(t,e,r),n.apply(this,arguments)};i.guid=n.guid=n.guid||_n(),jt(t,e,i)}var oP=Object.freeze({__proto__:null,fixEvent:ll,on:jt,off:gt,trigger:ta,one:dl,any:j_}),or=30,ke=function(e,n,i){n.guid||(n.guid=_n());var r=n.bind(e);return r.guid=i?i+"_"+n.guid:n.guid,r},Wr=function(e,n){var i=D.performance.now(),r=function(){var s=D.performance.now();s-i>=n&&(e.apply(void 0,arguments),i=s)};return r},uP=function(e,n,i,r){r===void 0&&(r=D);var a,s=function(){r.clearTimeout(a),a=null},o=function(){var l=this,c=arguments,h=function(){a=null,h=null,i||e.apply(l,c)};!a&&i&&e.apply(l,c),r.clearTimeout(a),a=r.setTimeout(h,n)};return o.cancel=s,o},Ze=function(){};Ze.prototype.allowedEvents_={};Ze.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},jt(this,t,e),this.addEventListener=n};Ze.prototype.addEventListener=Ze.prototype.on;Ze.prototype.off=function(t,e){gt(this,t,e)};Ze.prototype.removeEventListener=Ze.prototype.off;Ze.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},dl(this,t,e),this.addEventListener=n};Ze.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},j_(this,t,e),this.addEventListener=n};Ze.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=ll(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ta(this,t)};Ze.prototype.dispatchEvent=Ze.prototype.trigger;var Ks;Ze.prototype.queueTrigger=function(t){var e=this;Ks||(Ks=new Map);var n=t.type||t,i=Ks.get(this);i||(i=new Map,Ks.set(this,i));var r=i.get(n);i.delete(n),D.clearTimeout(r);var a=D.setTimeout(function(){i.size===0&&(i=null,Ks.delete(e)),e.trigger(t)},0);i.set(n,a)};var fl=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},zr=function(e){return e instanceof Ze||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof e[n]=="function"})},lP=function(e,n){zr(e)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))},Sh=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},hl=function(e,n,i){if(!e||!e.nodeName&&!zr(e))throw new Error("Invalid target for "+fl(n)+"#"+i+"; must be a DOM node or evented object.")},H_=function(e,n,i){if(!Sh(e))throw new Error("Invalid event type for "+fl(n)+"#"+i+"; must be a non-empty string or array.")},V_=function(e,n,i){if(typeof e!="function")throw new Error("Invalid listener for "+fl(n)+"#"+i+"; must be a function.")},bh=function(e,n,i){var r=n.length<3||n[0]===e||n[0]===e.eventBusEl_,a,s,o;return r?(a=e.eventBusEl_,n.length>=3&&n.shift(),s=n[0],o=n[1]):(a=n[0],s=n[1],o=n[2]),hl(a,e,i),H_(s,e,i),V_(o,e,i),o=ke(e,o),{isTargetingSelf:r,target:a,type:s,listener:o}},Kn=function(e,n,i,r){hl(e,e,n),e.nodeName?oP[n](e,i,r):e[n](i,r)},cP={on:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=bh(this,i,"on"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(Kn(o,"on",u,l),!s){var c=function(){return e.off(o,u,l)};c.guid=l.guid;var h=function(){return e.off("dispose",c)};h.guid=l.guid,Kn(this,"on","dispose",c),Kn(o,"on","dispose",h)}},one:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=bh(this,i,"one"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)Kn(o,"one",u,l);else{var c=function h(){e.off(o,u,h);for(var f=arguments.length,y=new Array(f),b=0;b<f;b++)y[b]=arguments[b];l.apply(null,y)};c.guid=l.guid,Kn(o,"one",u,c)}},any:function(){for(var e=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=bh(this,i,"any"),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;if(s)Kn(o,"any",u,l);else{var c=function h(){e.off(o,u,h);for(var f=arguments.length,y=new Array(f),b=0;b<f;b++)y[b]=arguments[b];l.apply(null,y)};c.guid=l.guid,Kn(o,"any",u,c)}},off:function(e,n,i){if(!e||Sh(e))gt(this.eventBusEl_,e,n);else{var r=e,a=n;hl(r,this,"off"),H_(a,this,"off"),V_(i,this,"off"),i=ke(this,i),this.off("dispose",i),r.nodeName?(gt(r,a,i),gt(r,"dispose",i)):zr(r)&&(r.off(a,i),r.off("dispose",i))}},trigger:function(e,n){hl(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!Sh(i)){var r="Invalid event type for "+fl(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||pe).error(r);else throw new Error(r)}return ta(this.eventBusEl_,e,n)}};function Eh(t,e){e===void 0&&(e={});var n=e,i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=ye("span",{className:"vjs-event-bus"});return je(t,cP),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Et.has(r)&&Et.delete(r)}),D.setTimeout(function(){t.eventBusEl_=null},0)}),t}var dP={state:{},setState:function(e){var n=this;typeof e=="function"&&(e=e());var i;return Xi(e,function(r,a){n.state[a]!==r&&(i=i||{},i[a]={from:n.state[a],to:r}),n.state[a]=r}),i&&zr(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function W_(t,e){return je(t,dP),t.state=je({},t.state,e),typeof t.handleStateChanged=="function"&&zr(t)&&t.on("statechanged",t.handleStateChanged),t}var pl=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toLowerCase()})},$e=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},fP=function(e,n){return $e(e)===$e(n)};function Oe(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(r){!r||Xi(r,function(a,s){if(!Hs(a)){t[s]=a;return}Hs(t[s])||(t[s]={}),t[s]=Oe(t[s],a)})}),t}var hP=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var r=this.has(i);return delete this.map_[i],r},e.set=function(i,r){return this.map_[i]=r,this},e.forEach=function(i,r){for(var a in this.map_)i.call(r,this.map_[a],a,this)},t}(),pP=D.Map?D.Map:hP,mP=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var r=this.has(i);return delete this.set_[i],r},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,r){for(var a in this.set_)i.call(r,a,a,this)},t}(),Ch=D.Set?D.Set:mP,W=function(){function t(n,i,r){if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Oe({},this.options_),i=this.options_=Oe(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var a=n&&n.id&&n.id()||"no_player";this.id_=a+"_component_"+_n()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.evented!==!1&&(Eh(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),W_(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ch,this.setIntervalIds_=new Ch,this.rafIds_=new Ch,this.namedRafs_=new pP,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(r),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Oe(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,r,a){return ye(i,r,a)},e.localize=function(i,r,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),u=o&&o[s],l=s&&s.split("-")[0],c=o&&o[l],h=a;return u&&u[i]?h=u[i]:c&&c[i]&&(h=c[i]),r&&(h=h.replace(/\{(\d+)\}/g,function(f,y){var b=r[y-1],x=b;return typeof b=="undefined"&&(x=f),x})),h},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];r=r.reduce(function(u,l){return u.concat(l)},[]);for(var s=this,o=0;o<r.length;o++)if(s=s.getChild(r[o]),!s||!s.getChild)return;return s},e.addChild=function(i,r,a){r===void 0&&(r={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=$e(i);var u=r.componentClass||o;r.name=o;var l=t.getComponent(u);if(!l)throw new Error("Component "+u+" does not exist");if(typeof l!="function")return null;s=new l(this.player_||this,r)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&$e(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[pl(o)]=s),typeof s.el=="function"&&s.el()){var c=null;this.children_[a+1]&&(this.children_[a+1].el_?c=this.children_[a+1].el_:Ji(this.children_[a+1])&&(c=this.children_[a+1])),this.contentEl().insertBefore(s.el(),c)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var r=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){r=!0,this.children_.splice(a,1);break}if(!!r){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[$e(i.name())]=null,this.childNameIndex_[pl(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,r=this.options_.children;if(r){var a=this.options_,s=function(c){var h=c.name,f=c.opts;if(a[h]!==void 0&&(f=a[h]),f!==!1){f===!0&&(f={}),f.playerOptions=i.options_.playerOptions;var y=i.addChild(h,f);y&&(i[h]=y)}},o,u=t.getComponent("Tech");Array.isArray(r)?o=r:o=Object.keys(r),o.concat(Object.keys(this.options_).filter(function(l){return!o.some(function(c){return typeof c=="string"?l===c:l===c.name})})).map(function(l){var c,h;return typeof l=="string"?(c=l,h=r[c]||i.options_[c]||{}):(c=l.name,h=l),{name:c,opts:h}}).filter(function(l){var c=t.getComponent(l.opts.componentClass||$e(l.name));return c&&!u.isTech(c)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,r){if(r===void 0&&(r=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}r?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(i,r){return yn(i,r||this.contentEl())},e.$$=function(i,r){return O_(i,r||this.contentEl())},e.hasClass=function(i){return qn(this.el_,i)},e.addClass=function(i){Hr(this.el_,i)},e.removeClass=function(i){$s(this.el_,i)},e.toggleClass=function(i,r){C_(this.el_,i,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return k_(this.el_,i)},e.setAttribute=function(i,r){Zi(this.el_,i,r)},e.removeAttribute=function(i){ol(this.el_,i)},e.width=function(i,r){return this.dimension("width",i,r)},e.height=function(i,r){return this.dimension("height",i,r)},e.dimensions=function(i,r){this.width(i,!0),this.height(r)},e.dimension=function(i,r,a){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[i]=r:r==="auto"?this.el_.style[i]="":this.el_.style[i]=r+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+$e(i)],10)},e.currentDimension=function(i){var r=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Vs(this.el_,i),r=parseFloat(r),r===0||isNaN(r)){var a="offset"+$e(i);r=this.el_[a]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,r=null,a=10,s=200,o;this.on("touchstart",function(l){l.touches.length===1&&(r={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},i=D.performance.now(),o=!0)}),this.on("touchmove",function(l){if(l.touches.length>1)o=!1;else if(r){var c=l.touches[0].pageX-r.pageX,h=l.touches[0].pageY-r.pageY,f=Math.sqrt(c*c+h*h);f>a&&(o=!1)}});var u=function(){o=!1};this.on("touchleave",u),this.on("touchcancel",u),this.on("touchend",function(l){if(r=null,o===!0){var c=D.performance.now()-i;c<s&&(l.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=ke(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){i(),this.clearInterval(r),r=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(r)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,r){var a=this,s;return i=ke(this,i),this.clearTimersOnDispose_(),s=D.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},r),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),D.clearTimeout(i)),i},e.setInterval=function(i,r){i=ke(this,i),this.clearTimersOnDispose_();var a=D.setInterval(i,r);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),D.clearInterval(i)),i},e.requestAnimationFrame=function(i){var r=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=ke(this,i),a=D.requestAnimationFrame(function(){r.rafIds_.has(a)&&r.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,r){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),r=ke(this,r);var s=this.requestAnimationFrame(function(){r(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),D.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var a=r[0],s=r[1];i[a].forEach(function(o,u){return i[s](u)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,r){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=t.getComponent("Tech"),s=a&&a.isTech(r),o=t===r||t.prototype.isPrototypeOf(r.prototype);if(s||!o){var u;throw s?u="techs must be registered using Tech.registerTech()":u="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+u+".")}i=$e(i),t.components_||(t.components_={});var l=t.getComponent("Player");if(i==="Player"&&l&&l.players){var c=l.players,h=Object.keys(c);if(c&&h.length>0&&h.map(function(f){return c[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=r,t.components_[pl(i)]=r,r},t.getComponent=function(i){if(!(!i||!t.components_))return t.components_[i]},t}();W.prototype.supportsRaf_=typeof D.requestAnimationFrame=="function"&&typeof D.cancelAnimationFrame=="function";W.registerComponent("Component",W);function gP(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function z_(t,e,n,i){return gP(t,i,n.length-1),n[i][e]}function wh(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:z_.bind(null,"start",0,t),end:z_.bind(null,"end",1,t)},D.Symbol&&D.Symbol.iterator&&(e[D.Symbol.iterator]=function(){return(t||[]).values()}),e}function Xn(t,e){return Array.isArray(t)?wh(t):t===void 0||e===void 0?wh():wh([[t,e]])}function $_(t,e){var n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=Xn(0,0));for(var a=0;a<t.length;a++)i=t.start(a),r=t.end(a),r>e&&(r=e),n+=r-i;return n/e}function Ct(t){if(t instanceof Ct)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Ur(t)&&(typeof t.code=="number"&&(this.code=t.code),je(this,t)),this.message||(this.message=Ct.defaultMessages[this.code]||"")}Ct.prototype.code=0;Ct.prototype.message="";Ct.prototype.status=null;Ct.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Ct.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ra=0;ra<Ct.errorTypes.length;ra++)Ct[Ct.errorTypes[ra]]=ra,Ct.prototype[Ct.errorTypes[ra]]=ra;function Xs(t){return t!=null&&typeof t.then=="function"}function Tr(t){Xs(t)&&t.then(null,function(e){})}var kh=function(e){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,r,a){return e[r]&&(i[r]=e[r]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return n},vP=function(e){var n=e.$$("track"),i=Array.prototype.map.call(n,function(a){return a.track}),r=Array.prototype.map.call(n,function(a){var s=kh(a.track);return a.src&&(s.src=a.src),s});return r.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(kh))},yP=function(e,n){return e.forEach(function(i){var r=n.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return r.addCue(a)})}),n.textTracks()},G_={textTracksToJson:vP,jsonToTextTracks:yP,trackToJson_:kh},Ph="vjs-modal-dialog",na=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ye("div",{className:Ph+"-content"},{role:"document"}),a.descEl_=ye("p",{className:Ph+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),Gn(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return Ph+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},n.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},n.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(r){if(typeof r=="boolean"){var a=this.closeable_=!!r,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(r){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),L_(a,r),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var u=this.getChild("closeButton");u&&s.appendChild(u.el_)},n.empty=function(){this.trigger("beforemodalempty"),gh(this.contentEl()),this.trigger("modalempty")},n.content=function(r){return typeof r!="undefined"&&(this.content_=r),this.content_},n.conditionalFocus_=function(){var r=q.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(r)||a===r)&&(this.previouslyActiveEl_=r,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(r){if(r.stopPropagation(),de.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!de.isEventKey(r,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,u=0;u<a.length;u++)if(s===a[u]){o=u;break}q.activeElement===this.el_&&(o=0),r.shiftKey&&o===0?(a[a.length-1].focus(),r.preventDefault()):!r.shiftKey&&o===a.length-1&&(a[0].focus(),r.preventDefault())}},n.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(a){return(a instanceof D.HTMLAnchorElement||a instanceof D.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof D.HTMLInputElement||a instanceof D.HTMLSelectElement||a instanceof D.HTMLTextAreaElement||a instanceof D.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof D.HTMLIFrameElement||a instanceof D.HTMLObjectElement||a instanceof D.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(W);na.prototype.options_={pauseOnOpen:!0,temporary:!0};W.registerComponent("ModalDialog",na);var ia=function(t){z(e,t);function e(i){var r;i===void 0&&(i=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(ue(r),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)r.addTrack(i[a]);return r}var n=e.prototype;return n.addTrack=function(r){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){a.trigger({track:r,type:"labelchange",target:a})},zr(r)&&r.addEventListener("labelchange",r.labelchange_)},n.removeTrack=function(r){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===r){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(r){for(var a=null,s=0,o=this.length;s<o;s++){var u=this[s];if(u.id===r){a=u;break}}return a},e}(Ze);ia.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var _P in ia.prototype.allowedEvents_)ia.prototype["on"+_P]=null;var Ah=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].enabled=!1)},TP=function(t){z(e,t);function e(i){var r;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){Ah(i,i[a]);break}return r=t.call(this,i)||this,r.changing_=!1,r}var n=e.prototype;return n.addTrack=function(r){var a=this;r.enabled&&Ah(this,r),t.prototype.addTrack.call(this,r),!!r.addEventListener&&(r.enabledChange_=function(){a.changing_||(a.changing_=!0,Ah(a,r),a.changing_=!1,a.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(ia),Ih=function(e,n){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||n.id===e[i].id||(e[i].selected=!1)},xP=function(t){z(e,t);function e(i){var r;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){Ih(i,i[a]);break}return r=t.call(this,i)||this,r.changing_=!1,Object.defineProperty(ue(r),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),r}var n=e.prototype;return n.addTrack=function(r){var a=this;r.selected&&Ih(this,r),t.prototype.addTrack.call(this,r),!!r.addEventListener&&(r.selectedChange_=function(){a.changing_||(a.changing_=!0,Ih(a,r),a.changing_=!1,a.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(ia),q_=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.addTrack=function(r){var a=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(ia),SP=function(){function t(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,r=n.length;i<r;i++)this.addTrackElement_(n[i])}var e=t.prototype;return e.addTrackElement_=function(i){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var r,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){r=this.trackElements_[a];break}return r},e.removeTrackElement_=function(i){for(var r=0,a=this.trackElements_.length;r<a;r++)if(i===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),K_=function(){function t(n){t.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(i){var r=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(l){""+l in this||Object.defineProperty(this,""+l,{get:function(){return this.cues_[l]}})};if(r<s)for(a=r;a<s;a++)o.call(this,a)},e.getCueById=function(i){for(var r=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){r=o;break}}return r},t}(),bP={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},EP={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},CP={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},X_={disabled:"disabled",hidden:"hidden",showing:"showing"},Dh=function(t){z(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r={id:n.id||"vjs_track_"+_n(),kind:n.kind||"",language:n.language||""},a=n.label||"",s=function(l){Object.defineProperty(ue(i),l,{get:function(){return r[l]},set:function(){}})};for(var o in r)s(o);return Object.defineProperty(ue(i),"label",{get:function(){return a},set:function(l){l!==a&&(a=l,this.trigger("labelchange"))}}),i}return e}(Ze),Lh=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=q.createElement("a");i.href=e;for(var r={},a=0;a<n.length;a++)r[n[a]]=i[n[a]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=D.location.protocol),r.host||(r.host=D.location.host),r},Q_=function(e){if(!e.match(/^https?:\/\//)){var n=q.createElement("a");n.href=e,e=n.href}return e},Oh=function(e){if(typeof e=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=n.exec(e);if(i)return i.pop().toLowerCase()}return""},ml=function(e,n){n===void 0&&(n=D.location);var i=Lh(e),r=i.protocol===":"?n.protocol:i.protocol,a=r+i.host!==n.protocol+n.host;return a},wP=Object.freeze({__proto__:null,parseUrl:Lh,getAbsoluteURL:Q_,getFileExtension:Oh,isCrossOrigin:ml}),Y_=function(e,n){var i=new D.WebVTT.Parser(D,D.vttjs,D.WebVTT.StringDecoder()),r=[];i.oncue=function(a){n.addCue(a)},i.onparsingerror=function(a){r.push(a)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),r.length>0&&(D.console&&D.console.groupCollapsed&&D.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach(function(a){return pe.error(a)}),D.console&&D.console.groupEnd&&D.console.groupEnd()),i.flush()},J_=function(e,n){var i={uri:e},r=ml(e);r&&(i.cors=r);var a=n.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),W0(i,ke(this,function(s,o,u){if(s)return pe.error(s,o);n.loaded_=!0,typeof D.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(l){if(l.type==="vttjserror"){pe.error("vttjs failed to load, stopping trying to process "+n.src);return}return Y_(u,n)}):Y_(u,n)}))},Qs=function(t){z(e,t);function e(i){var r;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Oe(i,{kind:CP[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=X_[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),r=t.call(this,a)||this,r.tech_=a.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var u=new K_(r.cues_),l=new K_(r.activeCues_),c=!1,h=ke(ue(r),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1))}),f=function(){r.tech_.off("timeupdate",h)};return r.tech_.one("dispose",f),s!=="disabled"&&r.tech_.on("timeupdate",h),Object.defineProperties(ue(r),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(b){!X_[b]||s!==b&&(s=b,!this.preload_&&s!=="disabled"&&this.cues.length===0&&J_(this.src,this),this.tech_.off("timeupdate",h),s!=="disabled"&&this.tech_.on("timeupdate",h),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?u:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return l;for(var b=this.tech_.currentTime(),x=[],v=0,S=this.cues.length;v<S;v++){var E=this.cues[v];(E.startTime<=b&&E.endTime>=b||E.startTime===E.endTime&&E.startTime<=b&&E.startTime+.5>=b)&&x.push(E)}if(c=!1,x.length!==this.activeCues_.length)c=!0;else for(var k=0;k<x.length;k++)this.activeCues_.indexOf(x[k])===-1&&(c=!0);return this.activeCues_=x,l.setCues_(this.activeCues_),l},set:function(){}}}),a.src?(r.src=a.src,r.preload_||(r.loaded_=!0),(r.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&J_(r.src,ue(r))):r.loaded_=!0,r}var n=e.prototype;return n.addCue=function(r){var a=r;if(D.vttjs&&!(r instanceof D.vttjs.VTTCue)){a=new D.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var s in r)s in a||(a[s]=r[s]);a.id=r.id,a.originalCue_=r}for(var o=this.tech_.textTracks(),u=0;u<o.length;u++)o[u]!==this&&o[u].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(r){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===r||s.originalCue_&&s.originalCue_===r){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(Dh);Qs.prototype.allowedEvents_={cuechange:"cuechange"};var Z_=function(t){z(e,t);function e(n){var i;n===void 0&&(n={});var r=Oe(n,{kind:EP[n.kind]||""});i=t.call(this,r)||this;var a=!1;return Object.defineProperty(ue(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return e}(Dh),eT=function(t){z(e,t);function e(n){var i;n===void 0&&(n={});var r=Oe(n,{kind:bP[n.kind]||""});i=t.call(this,r)||this;var a=!1;return Object.defineProperty(ue(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return e}(Dh),tT=0,kP=1,rT=2,PP=3,aa=function(t){z(e,t);function e(n){var i;n===void 0&&(n={}),i=t.call(this)||this;var r,a=new Qs(n);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(ue(i),{readyState:{get:function(){return r}},track:{get:function(){return a}}}),r=tT,a.addEventListener("loadeddata",function(){r=rT,i.trigger({type:"load",target:ue(i)})}),i}return e}(Ze);aa.prototype.allowedEvents_={load:"load"};aa.NONE=tT;aa.LOADING=kP;aa.LOADED=rT;aa.ERROR=PP;var Yt={audio:{ListClass:TP,TrackClass:Z_,capitalName:"Audio"},video:{ListClass:xP,TrackClass:eT,capitalName:"Video"},text:{ListClass:q_,TrackClass:Qs,capitalName:"Text"}};Object.keys(Yt).forEach(function(t){Yt[t].getterName=t+"Tracks",Yt[t].privateName=t+"Tracks_"});var sa={remoteText:{ListClass:q_,TrackClass:Qs,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:SP,TrackClass:aa,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},wt=Le({},Yt,sa);sa.names=Object.keys(sa);Yt.names=Object.keys(Yt);wt.names=[].concat(sa.names).concat(Yt.names);function AP(t,e,n,i,r){r===void 0&&(r={});var a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var s=new wt.text.TrackClass(r);return a.addTrack(s),s}var Pe=function(t){z(e,t);function e(i,r){var a;return i===void 0&&(i={}),r===void 0&&(r=function(){}),i.reportTouchActivity=!1,a=t.call(this,null,i,r)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),wt.names.forEach(function(s){var o=wt[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new wt.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=e.prototype;return n.triggerSourceset=function(r){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ke(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(r){this.duration_=this.duration()},n.buffered=function(){return Xn(0,0)},n.bufferedPercent=function(){return $_(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Yt.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(r){var a=this;r=[].concat(r),r.forEach(function(s){for(var o=a[s+"Tracks"]()||[],u=o.length;u--;){var l=o[u];s==="text"&&a.removeRemoteTextTrack(l),o.removeTrack(l)}})},n.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],a=r.length;a--;){var s=r[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(r){return r!==void 0&&(this.error_=new Ct(r),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Xn(0,0):Xn()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var r=this;Yt.names.forEach(function(a){var s=Yt[a],o=function(){r.trigger(a+"trackchange")},u=r[s.getterName]();u.addEventListener("removetrack",o),u.addEventListener("addtrack",o),r.on("dispose",function(){u.removeEventListener("removetrack",o),u.removeEventListener("addtrack",o)})})},n.addWebVttScript_=function(){var r=this;if(!D.WebVTT)if(q.body.contains(this.el())){if(!this.options_["vtt.js"]&&Hs(Y0)&&Object.keys(Y0).length>0){this.trigger("vttjsloaded");return}var a=q.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){r.trigger("vttjsloaded")},a.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),D.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var r=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(f){return a.addTrack(f.track)},u=function(f){return a.removeTrack(f.track)};s.on("addtrack",o),s.on("removetrack",u),this.addWebVttScript_();var l=function(){return r.trigger("texttrackchange")},c=function(){l();for(var f=0;f<a.length;f++){var y=a[f];y.removeEventListener("cuechange",l),y.mode==="showing"&&y.addEventListener("cuechange",l)}};c(),a.addEventListener("change",c),a.addEventListener("addtrack",c),a.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",u),a.removeEventListener("change",c),a.removeEventListener("addtrack",c),a.removeEventListener("removetrack",c);for(var h=0;h<a.length;h++){var f=a[h];f.removeEventListener("cuechange",l)}})},n.addTextTrack=function(r,a,s){if(!r)throw new Error("TextTrack kind is required but was not provided");return AP(this,r,a,s)},n.createRemoteTextTrack=function(r){var a=Oe(r,{tech:this});return new sa.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(r,a){var s=this;r===void 0&&(r={});var o=this.createRemoteTextTrack(r);return a!==!0&&a!==!1&&(pe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},n.removeRemoteTextTrack=function(r){var a=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var r=this.options_.Promise||D.Promise;if(r)return r.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,a){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=$e(r),e.techs_[r]=a,e.techs_[pl(r)]=a,r!=="Tech"&&e.defaultTechOrder_.push(r),a},e.getTech=function(r){if(!!r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=$e(r),D&&D.videojs&&D.videojs[r])return pe.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.videojs[r]}},e}(W);wt.names.forEach(function(t){var e=wt[t];Pe.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Pe.prototype.featuresVolumeControl=!0;Pe.prototype.featuresMuteControl=!0;Pe.prototype.featuresFullscreenResize=!1;Pe.prototype.featuresPlaybackRate=!1;Pe.prototype.featuresProgressEvents=!1;Pe.prototype.featuresSourceset=!1;Pe.prototype.featuresTimeupdateEvents=!1;Pe.prototype.featuresNativeTextTracks=!1;Pe.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],r,a=0;a<i.length;a++)if(r=i[a].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],a,s=0;s<r.length;s++)if(a=r[s].canHandleSource(n,i),a)return r[s];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};var e=["seekable","seeking","duration"];e.forEach(function(n){var i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:pe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};W.registerComponent("Tech",Pe);Pe.registerTech("Tech",Pe);Pe.defaultTechOrder_=[];var Qn={},Rh={},gl={};function IP(t,e){Qn[t]=Qn[t]||[],Qn[t].push(e)}function DP(t,e,n){t.setTimeout(function(){return Yn(e,Qn[e.type],n,t)},1)}function LP(t,e){t.forEach(function(n){return n.setTech&&n.setTech(e)})}function OP(t,e,n){return t.reduceRight(Mh(n),e[n]())}function RP(t,e,n,i){return e[n](t.reduce(Mh(n),i))}function nT(t,e,n,i){i===void 0&&(i=null);var r="call"+$e(n),a=t.reduce(Mh(r),i),s=a===gl,o=s?null:e[n](a);return FP(t,n,o,s),o}var MP={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},NP={setCurrentTime:1,setMuted:1,setVolume:1},iT={play:1,pause:1};function Mh(t){return function(e,n){return e===gl?gl:n[t]?n[t](e):e}}function FP(t,e,n,i){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](i,n)}}function UP(t){Rh[t.id()]=null}function BP(t,e){var n=Rh[t.id()],i=null;if(n==null)return i=e(t),Rh[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],s=a[0],o=a[1];s===e&&(i=o)}return i===null&&(i=e(t),n.push([e,i])),i}function Yn(t,e,n,i,r,a){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),a===void 0&&(a=!1);var s=e,o=s[0],u=s.slice(1);if(typeof o=="string")Yn(t,Qn[o],n,i,r,a);else if(o){var l=BP(i,o);if(!l.setSource)return r.push(l),Yn(t,u,n,i,r,a);l.setSource(je({},t),function(c,h){if(c)return Yn(t,u,n,i,r,a);r.push(l),Yn(h,t.type===h.type?u:Qn[h.type],n,i,r,a)})}else u.length?Yn(t,u,n,i,r,a):a?n(t,r):Yn(t,Qn["*"],n,i,r,!0)}var jP={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},vl=function(e){e===void 0&&(e="");var n=Oh(e),i=jP[n.toLowerCase()];return i||""},HP=function(e,n){if(!n)return"";if(e.cache_.source.src===n&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===n});if(i.length)return i[0].type;for(var r=e.$$("source"),a=0;a<r.length;a++){var s=r[a];if(s.type&&s.src&&s.src===n)return s.type}return vl(n)},VP=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(i){i=t(i),Array.isArray(i)?n=n.concat(i):Ur(i)&&n.push(i)}),e=n}else typeof e=="string"&&e.trim()?e=[aT({src:e})]:Ur(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[aT(e)]:e=[];return e};function aT(t){if(!t.type){var e=vl(t.src);e&&(t.type=e)}return t}var WP=function(t){z(e,t);function e(n,i,r){var a,s=Oe({createEl:!1},i);if(a=t.call(this,n,s,r)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,u=i.playerOptions.techOrder;o<u.length;o++){var l=$e(u[o]),c=Pe.getTech(l);if(l||(c=W.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}else n.src(i.playerOptions.sources);return a}return e}(W);W.registerComponent("MediaLoader",WP);var yl=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var n=e.prototype;return n.createEl=function(r,a,s){r===void 0&&(r="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=je({className:this.buildCSSClass(),tabIndex:0},a),r==="button"&&pe.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),s=je({role:"button"},s),this.tabIndex_=a.tabIndex;var o=ye(r,a,s);return o.appendChild(ye("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(r){return this.controlTextEl_=ye("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},n.controlText=function(r,a){if(a===void 0&&(a=this.el()),r===void 0)return this.controlText_||"Need Text";var s=this.localize(r);this.controlText_=r,Gn(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(r){de.isEventKey(r,"Space")||de.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(W);W.registerComponent("ClickableComponent",yl);var zP=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},n.createEl=function(){var r=ye("div",{className:"vjs-poster",tabIndex:-1});return r},n.update=function(r){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(r){var a="";r&&(a='url("'+r+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(r){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((zs||Ws)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?Tr(this.player_.play()):this.player_.pause()}},e}(yl);W.registerComponent("PosterImage",zP);var Jt="#222",sT="#ccc",$P={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Nh(t,e){var n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Fh(t,e,n){try{t.style[e]=n}catch{return}}var GP=function(t){z(e,t);function e(i,r,a){var s;s=t.call(this,i,r,a)||this;var o=function(l){return s.updateDisplay(l)};return i.on("loadstart",function(u){return s.toggleDisplay(u)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(u){return s.preselectTrack(u)}),i.ready(ke(ue(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),D.addEventListener("orientationchange",o),i.on("dispose",function(){return D.removeEventListener("orientationchange",o)});for(var u=this.options_.playerOptions.tracks||[],l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()})),s}var n=e.prototype;return n.preselectTrack=function(){for(var r={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,u,l,c=0;c<a.length;c++){var h=a[c];s&&s.enabled&&s.language&&s.language===h.language&&h.kind in r?h.kind===s.kind?l=h:l||(l=h):s&&!s.enabled?(l=null,o=null,u=null):h.default&&(h.kind==="descriptions"&&!o?o=h:h.kind in r&&!u&&(u=h))}l?l.mode="showing":u?u.mode="showing":o&&(o.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof D.WebVTT=="function"&&D.WebVTT.processCues(D,[],this.el_)},n.updateDisplay=function(){var r=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<r.length;++o){var u=r[o];u.mode==="showing"&&s.push(u)}this.updateForTrack(s);return}for(var l=null,c=null,h=r.length;h--;){var f=r[h];f.mode==="showing"&&(f.kind==="descriptions"?l=f:c=f)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):l&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(l))},n.updateDisplayState=function(r){for(var a=this.player_.textTrackSettings.getValues(),s=r.activeCues,o=s.length;o--;){var u=s[o];if(!!u){var l=u.displayState;if(a.color&&(l.firstChild.style.color=a.color),a.textOpacity&&Fh(l.firstChild,"color",Nh(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(l.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Fh(l.firstChild,"backgroundColor",Nh(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Fh(l,"backgroundColor",Nh(a.windowColor,a.windowOpacity)):l.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?l.firstChild.style.textShadow="2px 2px 3px "+Jt+", 2px 2px 4px "+Jt+", 2px 2px 5px "+Jt:a.edgeStyle==="raised"?l.firstChild.style.textShadow="1px 1px "+Jt+", 2px 2px "+Jt+", 3px 3px "+Jt:a.edgeStyle==="depressed"?l.firstChild.style.textShadow="1px 1px "+sT+", 0 1px "+sT+", -1px -1px "+Jt+", 0 -1px "+Jt:a.edgeStyle==="uniform"&&(l.firstChild.style.textShadow="0 0 4px "+Jt+", 0 0 4px "+Jt+", 0 0 4px "+Jt+", 0 0 4px "+Jt)),a.fontPercent&&a.fontPercent!==1){var c=D.parseFloat(l.style.fontSize);l.style.fontSize=c*a.fontPercent+"px",l.style.height="auto",l.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?l.firstChild.style.fontVariant="small-caps":l.firstChild.style.fontFamily=$P[a.fontFamily])}}},n.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof D.WebVTT!="function"||r.every(function(y){return!y.activeCues}))){for(var a=[],s=0;s<r.length;++s)for(var o=r[s],u=0;u<o.activeCues.length;++u)a.push(o.activeCues[u]);D.WebVTT.processCues(D,a,this.el_);for(var l=0;l<r.length;++l){for(var c=r[l],h=0;h<c.activeCues.length;++h){var f=c.activeCues[h].displayState;Hr(f,"vjs-text-track-cue"),Hr(f,"vjs-text-track-cue-"+(c.language?c.language:l)),c.language&&Zi(f,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(W);W.registerComponent("TextTrackDisplay",GP);var qP=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=this.player_.isAudio(),a=this.localize(r?"Audio Player":"Video Player"),s=ye("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(W);W.registerComponent("LoadingSpinner",qP);var ur=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,a,s){a===void 0&&(a={}),s===void 0&&(s={}),r="button",a=je({className:this.buildCSSClass()},a),s=je({type:"button"},s);var o=ye(r,a,s);return o.appendChild(ye("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.addChild=function(r,a){a===void 0&&(a={});var s=this.constructor.name;return pe.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),W.prototype.addChild.call(this,r,a)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(r){if(de.isEventKey(r,"Space")||de.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(yl);W.registerComponent("Button",ur);var oT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(r){var a=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Tr(a),this.player_.tech(!0)&&!((zs||Ws)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),u=o&&o.getChild("playToggle");if(!u){this.player_.tech(!0).focus();return}var l=function(){return u.focus()};Xs(a)?a.then(l,function(){}):this.setTimeout(l,1)},n.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},n.handleMouseDown=function(r){this.mouseused_=!0},e}(ur);oT.prototype.controlText_="Play Video";W.registerComponent("BigPlayButton",oT);var KP=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.controlText(r&&r.controlText||a.localize("Close")),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(r){de.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(ur);W.registerComponent("CloseButton",KP);var uT=function(t){z(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,r.replay=r.replay===void 0||r.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),r.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){this.player_.paused()?Tr(this.player_.play()):this.player_.pause()},n.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},n.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(r){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(ur);uT.prototype.controlText_="Play";W.registerComponent("PlayToggle",uT);var lT=function(e,n){e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(n/60%60),o=Math.floor(n/3600);return(isNaN(e)||e===1/0)&&(a=r=i="-"),a=a>0||o>0?a+":":"",r=((a||s>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,a+r+i},Uh=lT;function XP(t){Uh=t}function QP(){Uh=lT}function oa(t,e){return e===void 0&&(e=t),Uh(t,e)}var ua=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var n=e.prototype;return n.createEl=function(){var r=this.buildCSSClass(),a=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),s=ye("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=ye("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(r){var a=this;r===void 0&&(r=0),r=oa(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,pe.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=q.createTextNode(a.formattedTime_),!!a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},n.updateContent=function(r){},e}(W);ua.prototype.labelText_="Time";ua.prototype.controlText_="Time";W.registerComponent("TimeDisplay",ua);var Bh=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(r){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(ua);Bh.prototype.labelText_="Current Time";Bh.prototype.controlText_="Current Time";W.registerComponent("CurrentTimeDisplay",Bh);var jh=function(t){z(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=function(u){return a.updateContent(u)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(r){var a=this.player_.duration();this.updateTextNode_(a)},e}(ua);jh.prototype.labelText_="Duration";jh.prototype.controlText_="Duration";W.registerComponent("DurationDisplay",jh);var YP=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=t.prototype.createEl.call(this,"div"),s=t.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),r.appendChild(a),r},e}(W);W.registerComponent("TimeDivider",YP);var Hh=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var r=t.prototype.createEl.call(this);return r.insertBefore(ye("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},n.updateContent=function(r){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(ua);Hh.prototype.labelText_="Remaining Time";Hh.prototype.controlText_="Remaining Time";W.registerComponent("RemainingTimeDisplay",Hh);var JP=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ye("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ye("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(q.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(W);W.registerComponent("LiveDisplay",JP);var cT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ye("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(ur);cT.prototype.controlText_="Seek to live, currently playing live";W.registerComponent("SeekToLive",cT);var _l=function(e,n,i){return e=Number(e),Math.min(i,Math.max(n,isNaN(e)?n:e))},Vh=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(r,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=je({tabIndex:0},a),s=je({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),t.prototype.createEl.call(this,r,a,s)},n.handleMouseDown=function(r){var a=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!jr&&r.preventDefault(),P_(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(r)},n.handleMouseMove=function(r){},n.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;A_(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var r=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=r.vertical()?"height":"width";r.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},n.getProgress=function(){return Number(_l(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(r){var a=ul(this.el_,r);return this.vertical()?a.y:a.x},n.handleKeyDown=function(r){de.isEventKey(r,"Left")||de.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):de.isEventKey(r,"Right")||de.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){r.stopPropagation(),r.preventDefault()},n.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(W);W.registerComponent("Slider",Vh);var Wh=function(e,n){return _l(e/n*100,0,100).toFixed(2)+"%"},ZP=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ye("span",{className:"vjs-control-text"}),s=ye("span",{textContent:this.localize("Loaded")}),o=q.createTextNode(": ");return this.percentageEl_=ye("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),r},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(r){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),u=s&&s.isLive()?s.seekableEnd():a.player_.duration(),l=a.player_.bufferedEnd(),c=a.partEls_,h=Wh(l,u);a.percent_!==h&&(a.el_.style.width=h,Gn(a.percentageEl_,h),a.percent_=h);for(var f=0;f<o.length;f++){var y=o.start(f),b=o.end(f),x=c[f];x||(x=a.el_.appendChild(ye()),c[f]=x),!(x.dataset.start===y&&x.dataset.end===b)&&(x.dataset.start=y,x.dataset.end=b,x.style.left=Wh(y,l),x.style.width=Wh(b-y,l))}for(var v=c.length;v>o.length;v--)a.el_.removeChild(c[v-1]);c.length=o.length})},e}(W);W.registerComponent("LoadProgressBar",ZP);var eA=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Wr(ke(ue(a),a.update),or),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(r,a,s){var o=Gs(this.el_),u=ea(this.player_.el()),l=r.width*a;if(!(!u||!o)){var c=r.left-u.left+l,h=r.width-l+(u.right-r.right),f=o.width/2;c<f?f+=f-c:h<f&&(f=h),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(s)}},n.write=function(r){Gn(this.el_,r)},n.updateTime=function(r,a,s,o){var u=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var l,c=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var h=u.player_.liveTracker.liveWindow(),f=h-a*h;l=(f<1?"":"-")+oa(f,h)}else l=oa(s,c);u.update(r,a,l),o&&o()})},e}(W);W.registerComponent("TimeTooltip",eA);var zh=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Wr(ke(ue(a),a.update),or),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(r,a){var s=this.getChild("timeTooltip");if(!!s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(r,a,o)}},e}(W);zh.prototype.options_={children:[]};!Rt&&!Br&&zh.prototype.options_.children.push("timeTooltip");W.registerComponent("PlayProgressBar",zh);var dT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Wr(ke(ue(a),a.update),or),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(r,a,o,function(){s.el_.style.left=r.width*a+"px"})},e}(W);dT.prototype.options_={children:["timeTooltip"]};W.registerComponent("MouseTimeDisplay",dT);var Tl=5,fT=12,$h=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.setEventHandlers_(),a}var n=e.prototype;return n.setEventHandlers_=function(){var r=this;this.update_=ke(this,this.update),this.update=Wr(this.update_,or),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return r.enableInterval_(a)},this.disableIntervalHandler_=function(a){return r.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in q&&"visibilityState"in q&&this.on(q,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(r){q.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,or))},n.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(r){var a=this;if(q.visibilityState!=="hidden"){var s=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),u=a.player_.liveTracker,l=a.player_.duration();u&&u.isLive()&&(l=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==l)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[oa(o,l),oa(l,l)],"{1} of {2}")),a.currentTime_=o,a.duration_=l),a.bar&&a.bar.update(ea(a.el()),a.getProgress())}),s}},n.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var r=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(r-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=r/this.player_.duration(),a},n.handleMouseDown=function(r){!qs(r)||(r.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},n.handleMouseMove=function(r){if(!!qs(r)){var a,s=this.calculateDistance(r),o=this.player_.liveTracker;if(!o||!o.isLive())a=s*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(s>=.99){o.seekToLiveEdge();return}var u=o.seekableStart(),l=o.liveCurrentTime();if(a=u+s*o.liveWindow(),a>=l&&(a=l),a<=u&&(a=u+.1),a===1/0)return}this.userSeek_(a)}},n.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},n.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},n.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Tr(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+Tl)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-Tl)},n.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(r){var a=this.player_.liveTracker;if(de.isEventKey(r,"Space")||de.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(de.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(de.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(de(r))){r.preventDefault(),r.stopPropagation();var s=(de.codes[de(r)]-de.codes["0"])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else de.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-Tl*fT)):de.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+Tl*fT)):t.prototype.handleKeyDown.call(this,r)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in q&&"visibilityState"in q&&this.off(q,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Vh);$h.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Rt&&!Br&&$h.prototype.options_.children.splice(1,0,"mouseTimeDisplay");W.registerComponent("SeekBar",$h);var hT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.handleMouseMove=Wr(ke(ue(a),a.handleMouseMove),or),a.throttledHandleMouseSeek=Wr(ke(ue(a),a.handleMouseSeek),or),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(r){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var u=a.el(),l=Gs(u),c=ul(u,r).x;c=_l(c,0,1),o&&o.update(l,c),s&&s.update(l,a.getProgress())}}},n.handleMouseSeek=function(r){var a=this.getChild("seekBar");a&&a.handleMouseMove(r)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&Tr(this.player_.play())}},n.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(r){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(r),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var a=this.getChild("seekBar");a&&a.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(W);hT.prototype.options_={children:["seekBar"]};W.registerComponent("ProgressControl",hT);var pT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){q.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ur);pT.prototype.controlText_="Picture-in-Picture";W.registerComponent("PictureInPictureToggle",pT);var mT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),q[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ur);mT.prototype.controlText_="Fullscreen";W.registerComponent("FullscreenToggle",mT);var tA=function(e,n){n.tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},rA=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(W);W.registerComponent("VolumeLevel",rA);var nA=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Wr(ke(ue(a),a.update),or),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(r,a,s,o){if(!s){var u=ea(this.el_),l=ea(this.player_.el()),c=r.width*a;if(!l||!u)return;var h=r.left-l.left+c,f=r.width-c+(l.right-r.right),y=u.width/2;h<y?y+=y-h:f<y&&(y=f),y<0?y=0:y>u.width&&(y=u.width),this.el_.style.right="-"+y+"px"}this.write(o+"%")},n.write=function(r){Gn(this.el_,r)},n.updateVolume=function(r,a,s,o,u){var l=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){l.update(r,a,s,o.toFixed(0)),u&&u()})},e}(W);W.registerComponent("VolumeLevelTooltip",nA);var gT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.update=Wr(ke(ue(a),a.update),or),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(r,a,s){var o=this,u=100*a;this.getChild("volumeLevelTooltip").updateVolume(r,a,s,u,function(){s?o.el_.style.bottom=r.height*a+"px":o.el_.style.left=r.width*a+"px"})},e}(W);gT.prototype.options_={children:["volumeLevelTooltip"]};W.registerComponent("MouseVolumeLevelDisplay",gT);var xl=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(r){!qs(r)||t.prototype.handleMouseDown.call(this,r)},n.handleMouseMove=function(r){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=ea(s),u=this.vertical(),l=ul(s,r);l=u?l.y:l.x,l=_l(l,0,1),a.update(o,l,u)}!qs(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(r){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var r=this,a=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(a)})},e}(Vh);xl.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Rt&&!Br&&xl.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");xl.prototype.playerEvent="volumechange";W.registerComponent("VolumeBar",xl);var vT=function(t){z(e,t);function e(i,r){var a;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar=="undefined"||Hs(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),a=t.call(this,i,r)||this,tA(ue(a),i),a.throttledHandleMouseMove=Wr(ke(ue(a),a.handleMouseMove),or),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=e.prototype;return n.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},n.handleMouseDown=function(r){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(r){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(W);vT.prototype.options_={children:["volumeBar"]};W.registerComponent("VolumeControl",vT);var iA=function(e,n){n.tech_&&!n.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",function(){n.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},yT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,iA(ue(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(r){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(r){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var r=this.player_.volume(),a=3;Rt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?a=0:r<.33?a=1:r<.67&&(a=2);for(var s=0;s<4;s++)$s(this.el_,"vjs-vol-"+s);Hr(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,a=r?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(ur);yT.prototype.controlText_="Mute";W.registerComponent("MuteToggle",yT);var _T=function(t){z(e,t);function e(i,r){var a;return r===void 0&&(r={}),typeof r.inline!="undefined"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl=="undefined"||Hs(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),a=t.call(this,i,r)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(r){de.isEventKey(r,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(r){this.addClass("vjs-hover"),jt(q,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(r){this.removeClass("vjs-hover"),gt(q,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(r){de.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(W);_T.prototype.options_={children:["muteToggle","volumeControl"]};W.registerComponent("VolumePanel",_T);var TT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,r&&(a.menuButton_=r.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var n=e.prototype;return n.addEventListenerForItem=function(r){r instanceof W&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(r){r instanceof W&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},n.addItem=function(r){var a=this.addChild(r);a&&this.addEventListenerForItem(a)},n.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=ye(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),jt(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(r){var a=r.relatedTarget||q.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===r.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(r){de.isEventKey(r,"Left")||de.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(de.isEventKey(r,"Right")||de.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},n.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},n.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},n.focus=function(r){r===void 0&&(r=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(r<0?r=0:r>=a.length&&(r=a.length-1),this.focusedChild_=r,a[r].el_.focus())},e}(W);W.registerComponent("Menu",TT);var Gh=function(t){z(e,t);function e(i,r){var a;r===void 0&&(r={}),a=t.call(this,i,r)||this,a.menuButton_=new ur(i,r),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=ur.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(l){return a.handleClick(l)};return a.handleMenuKeyUp_=function(u){return a.handleMenuKeyUp(u)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(u){return a.handleKeyDown(u)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),jt(q,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(u){return a.handleMouseLeave(u)}),a.on("keydown",function(u){return a.handleSubmenuKeyDown(u)}),a}var n=e.prototype;return n.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var r=new TT(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ye("li",{className:"vjs-menu-title",textContent:$e(this.options_.title),tabIndex:-1}),s=new W(this.player_,{el:a});r.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)r.addItem(this.items[o]);return r},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var a=ur.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+a+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(r,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(r,a)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(r){this.removeClass("vjs-hover"),gt(q,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(r){de.isEventKey(r,"Esc")||de.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),de.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(de.isEventKey(r,"Up")||de.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(r){(de.isEventKey(r,"Esc")||de.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},n.handleSubmenuKeyDown=function(r){(de.isEventKey(r,"Esc")||de.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),de.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Rt&&b_())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(W);W.registerComponent("MenuButton",Gh);var qh=function(t){z(e,t);function e(n,i){var r,a=i.tracks;if(r=t.call(this,n,i)||this,r.items.length<=1&&r.hide(),!a)return ue(r);var s=ke(ue(r),r.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),r.player_.on("ready",s),r.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),r}return e}(Gh);W.registerComponent("TrackButton",qh);var aA=["Tab","Esc","Up","Down","Right","Left"],Ys=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.selectable=r.selectable,a.isSelected_=r.selected||!1,a.multiSelectable=r.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=e.prototype;return n.createEl=function(r,a,s){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",je({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(ye("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},n.handleKeyDown=function(r){aA.some(function(a){return de.isEventKey(r,a)})||t.prototype.handleKeyDown.call(this,r)},n.handleClick=function(r){this.selected(!0)},n.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(yl);W.registerComponent("MenuItem",Ys);var Js=function(t){z(e,t);function e(i,r){var a,s=r.track,o=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.mode==="showing",a=t.call(this,i,r)||this,a.track=s,a.kinds=(r.kinds||[r.kind||a.track.kind]).filter(Boolean);var u=function(){for(var f=arguments.length,y=new Array(f),b=0;b<f;b++)y[b]=arguments[b];a.handleTracksChange.apply(ue(a),y)},l=function(){for(var f=arguments.length,y=new Array(f),b=0;b<f;b++)y[b]=arguments[b];a.handleSelectedLanguageChange.apply(ue(a),y)};if(i.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",l),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",l)}),o.onchange===void 0){var c;a.on(["tap","click"],function(){if(typeof D.Event!="object")try{c=new D.Event("change")}catch{}c||(c=q.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}var n=e.prototype;return n.handleClick=function(r){var a=this.track,s=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!s)for(var o=0;o<s.length;o++){var u=s[o];this.kinds.indexOf(u.kind)!==-1&&(u===a?u.mode!=="showing"&&(u.mode="showing"):u.mode!=="disabled"&&(u.mode="disabled"))}},n.handleTracksChange=function(r){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Ys);W.registerComponent("TextTrackMenuItem",Js);var xT=function(t){z(e,t);function e(i,r){return r.track={player:i,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,i,r)||this}var n=e.prototype;return n.handleTracksChange=function(r){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(r){for(var a=this.player().textTracks(),s=!0,o=0,u=a.length;o<u;o++){var l=a[o];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Js);W.registerComponent("OffTextTrackMenuItem",xT);var la=function(t){z(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.textTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.createItems=function(r,a){r===void 0&&(r=[]),a===void 0&&(a=Js);var s;this.label_&&(s=this.label_+" off"),r.push(new xT(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var u=0;u<o.length;u++){var l=o[u];if(this.kinds_.indexOf(l.kind)>-1){var c=new a(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+l.kind+"-menu-item"),r.push(c)}}return r},e}(qh);W.registerComponent("TextTrackButton",la);var ST=function(t){z(e,t);function e(i,r){var a,s=r.track,o=r.cue,u=i.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=u&&u<o.endTime,a=t.call(this,i,r)||this,a.track=s,a.cue=o,s.addEventListener("cuechange",ke(ue(a),a.update)),a}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(r){var a=this.cue,s=this.player_.currentTime();this.selected(a.startTime<=s&&s<a.endTime)},e}(Ys);W.registerComponent("ChaptersTrackMenuItem",ST);var Kh=function(t){z(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(r){(!this.track_||r&&(r.type==="addtrack"||r.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],a=r.length-1;a>=0;a--){var s=r[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize($e(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var r=[];if(!this.track_)return r;var a=this.track_.cues;if(!a)return r;for(var s=0,o=a.length;s<o;s++){var u=a[s],l=new ST(this.player_,{track:this.track_,cue:u});r.push(l)}return r},e}(la);Kh.prototype.kind_="chapters";Kh.prototype.controlText_="Chapters";W.registerComponent("ChaptersButton",Kh);var Xh=function(t){z(e,t);function e(i,r,a){var s;s=t.call(this,i,r,a)||this;var o=i.textTracks(),u=ke(ue(s),s.handleTracksChange);return o.addEventListener("change",u),s.on("dispose",function(){o.removeEventListener("change",u)}),s}var n=e.prototype;return n.handleTracksChange=function(r){for(var a=this.player().textTracks(),s=!1,o=0,u=a.length;o<u;o++){var l=a[o];if(l.kind!==this.kind_&&l.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(la);Xh.prototype.kind_="descriptions";Xh.prototype.controlText_="Descriptions";W.registerComponent("DescriptionsButton",Xh);var Qh=function(t){z(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(la);Qh.prototype.kind_="subtitles";Qh.prototype.controlText_="Subtitles";W.registerComponent("SubtitlesButton",Qh);var Yh=function(t){z(e,t);function e(i,r){var a;return r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",a=t.call(this,i,r)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+r.kind+" settings dialog"),a}var n=e.prototype;return n.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(Js);W.registerComponent("CaptionSettingsMenuItem",Yh);var Jh=function(t){z(e,t);function e(i,r,a){return t.call(this,i,r,a)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new Yh(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(la);Jh.prototype.kind_="captions";Jh.prototype.controlText_="Captions";W.registerComponent("CaptionsButton",Jh);var bT=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(r,a,s){var o=t.prototype.createEl.call(this,r,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(u.appendChild(ye("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(ye("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(Js);W.registerComponent("SubsCapsMenuItem",bT);var Zh=function(t){z(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText($e(a.label_)),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new Yh(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,bT),r},e}(la);Zh.prototype.kinds_=["captions","subtitles"];Zh.prototype.controlText_="Subtitles";W.registerComponent("SubsCapsButton",Zh);var ET=function(t){z(e,t);function e(i,r){var a,s=r.track,o=i.audioTracks();r.label=s.label||s.language||"Unknown",r.selected=s.enabled,a=t.call(this,i,r)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var u=function(){for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];a.handleTracksChange.apply(ue(a),h)};return o.addEventListener("change",u),a.on("dispose",function(){o.removeEventListener("change",u)}),a}var n=e.prototype;return n.createEl=function(r,a,s){var o=t.prototype.createEl.call(this,r,a,s),u=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(u.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),u.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),o},n.handleClick=function(r){t.prototype.handleClick.call(this,r),this.track.enabled=!0},n.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(Ys);W.registerComponent("AudioTrackMenuItem",ET);var CT=function(t){z(e,t);function e(i,r){return r===void 0&&(r={}),r.tracks=i.audioTracks(),t.call(this,i,r)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];r.push(new ET(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return r},e}(qh);CT.prototype.controlText_="Audio Track";W.registerComponent("AudioTrackButton",CT);var ep=function(t){z(e,t);function e(i,r){var a,s=r.rate,o=parseFloat(s,10);return r.label=s,r.selected=o===i.playbackRate(),r.selectable=!0,r.multiSelectable=!1,a=t.call(this,i,r)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(u){return a.update(u)}),a}var n=e.prototype;return n.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(Ys);ep.prototype.contentElType="button";W.registerComponent("PlaybackRateMenuItem",ep);var wT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var n=e.prototype;return n.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ye("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var r=this.playbackRates(),a=[],s=r.length-1;s>=0;s--)a.push(new ep(this.player(),{rate:r[s]+"x"}));return a},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(r){for(var a=this.player().playbackRate(),s=this.playbackRates(),o=s[0],u=0;u<s.length;u++)if(s[u]>a){o=s[u];break}this.player().playbackRate(o)},n.handlePlaybackRateschange=function(r){this.update()},n.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Gh);wT.prototype.controlText_="Playback Rate";W.registerComponent("PlaybackRateMenuButton",wT);var kT=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(r,a,s){return r===void 0&&(r="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,a,s)},e}(W);W.registerComponent("Spacer",kT);var sA=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(kT);W.registerComponent("CustomControlSpacer",sA);var Sl=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(W);Sl.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in q&&Sl.prototype.options_.children.splice(Sl.prototype.options_.children.length-1,0,"pictureInPictureToggle");W.registerComponent("ControlBar",Sl);var PT=function(t){z(e,t);function e(i,r){var a;return a=t.call(this,i,r)||this,a.on(i,"error",function(s){return a.open(s)}),a}var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(na);PT.prototype.options_=Le({},na.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});W.registerComponent("ErrorDisplay",PT);var tp="vjs-text-track-settings",AT=["#000","Black"],IT=["#00F","Blue"],DT=["#0FF","Cyan"],LT=["#0F0","Green"],OT=["#F0F","Magenta"],RT=["#F00","Red"],MT=["#FFF","White"],NT=["#FF0","Yellow"],rp=["1","Opaque"],np=["0.5","Semi-Transparent"],FT=["0","Transparent"],Jn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[AT,MT,RT,LT,IT,NT,OT,DT]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[rp,np,FT]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[MT,AT,RT,LT,IT,NT,OT,DT]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[rp,np]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[FT,np,rp]}};Jn.windowColor.options=Jn.backgroundColor.options;function UT(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function oA(t,e){var n=t.options[t.options.selectedIndex].value;return UT(n,e)}function uA(t,e,n){if(!!e){for(var i=0;i<t.options.length;i++)if(UT(t.options[i].value,n)===e){t.selectedIndex=i;break}}}var lA=function(t){z(e,t);function e(i,r){var a;return r.temporary=!1,a=t.call(this,i,r)||this,a.updateDisplay=a.updateDisplay.bind(ue(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ye("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),r.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Xi(Jn,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(r,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var u=Jn[r],l=u.id.replace("%s",this.id_),c=[a,l].join(" ").trim();return["<"+s+' id="'+l+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(u.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(u.options.map(function(h){var f=l+"-"+h[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+h[0]+'" ','aria-labelledby="'+c+" "+f+'">',o.localize(h[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return ye("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return ye("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var r=this.localize("restore all settings to the default values");return ye("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var r=this;return Yk(Jn,function(a,s,o){var u=oA(r.$(s.selector),s.parser);return u!==void 0&&(a[o]=u),a},{})},n.setValues=function(r){var a=this;Xi(Jn,function(s,o){uA(a.$(s.selector),r[o],s.parser)})},n.setDefaults=function(){var r=this;Xi(Jn,function(a){var s=a.hasOwnProperty("default")?a.default:0;r.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var r;try{r=JSON.parse(D.localStorage.getItem(tp))}catch(a){pe.warn(a)}r&&this.setValues(r)},n.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?D.localStorage.setItem(tp,JSON.stringify(r)):D.localStorage.removeItem(tp)}catch(a){pe.warn(a)}}},n.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,a=r&&r.subsCapsButton,s=r&&r.captionsButton;a?a.focus():s&&s.focus()},e}(na);W.registerComponent("TextTrackSettings",lA);var cA=function(t){z(e,t);function e(i,r){var a,s=r.ResizeObserver||D.ResizeObserver;r.ResizeObserver===null&&(s=!1);var o=Oe({createEl:!s,reportTouchActivity:!1},r);return a=t.call(this,i,o)||this,a.ResizeObserver=r.ResizeObserver||D.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=uP(function(){a.resizeHandler()},100,!1,ue(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var u=a.debouncedHandler_,l=a.unloadListener_=function(){gt(this,"resize",u),gt(this,"unload",l),l=null};jt(a.el_.contentWindow,"unload",l),jt(a.el_.contentWindow,"resize",u)}},a.one("load",a.loadListener_)),a}var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(W);W.registerComponent("ResizeManager",cA);var dA={trackingThreshold:20,liveTolerance:15},fA=function(t){z(e,t);function e(i,r){var a,s=Oe(dA,r,{createEl:!1});return a=t.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.one(a.player_,"canplay",function(){return a.toggleTracking()}),zs&&"hidden"in q&&"visibilityState"in q&&a.on(q,"visibilitychange",a.handleVisibilityChange_),a}var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(q.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var a=Number(D.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),u=this.player_.currentTime(),l=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-u)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(l=!1),l!==this.behindLiveEdge_&&(this.behindLiveEdge_=l,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,or),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var r=this.player_.seekable(),a=[],s=r?r.length:0;s--;)a.push(r.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var r=this.player_.seekable(),a=[],s=r?r.length:0;s--;)a.push(r.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(q,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(W);W.registerComponent("LiveTracker",fA);var ip=function(e){var n=e.el();if(n.hasAttribute("src"))return e.triggerSourceset(n.src),!0;var i=e.$$("source"),r=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&r.indexOf(o)===-1&&r.push(o)}return r.length?(r.length===1&&(a=r[0]),e.triggerSourceset(a),!0):!1},hA=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=q.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=q.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",D.Element.prototype.appendChild.call(this,i),this.innerHTML}}),BT=function(e,n){for(var i={},r=0;r<e.length&&(i=Object.getOwnPropertyDescriptor(e[r],n),!(i&&i.set&&i.get));r++);return i.enumerable=!0,i.configurable=!0,i},pA=function(e){return BT([e.el(),D.HTMLMediaElement.prototype,D.Element.prototype,hA],"innerHTML")},jT=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=pA(e),a=function(o){return function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var h=o.apply(n,l);return ip(e),h}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!n[s]||(i[s]=n[s],n[s]=a(i[s]))}),Object.defineProperty(n,"innerHTML",Oe(r,{set:a(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach(function(s){n[s]=i[s]}),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},mA=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Q_(D.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return D.Element.prototype.setAttribute.call(this,"src",e),e}}),gA=function(e){return BT([e.el(),D.HTMLMediaElement.prototype,mA],"src")},vA=function(e){if(!!e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=gA(e),r=n.setAttribute,a=n.load;Object.defineProperty(n,"src",Oe(i,{set:function(o){var u=i.set.call(n,o);return e.triggerSourceset(n.src),u}})),n.setAttribute=function(s,o){var u=r.call(n,s,o);return/src/i.test(s)&&e.triggerSourceset(n.src),u},n.load=function(){var s=a.call(n);return ip(e)||(e.triggerSourceset(""),jT(e)),s},n.currentSrc?e.triggerSourceset(n.currentSrc):ip(e)||jT(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},ap=function(e,n,i,r){r===void 0&&(r=!0);var a=function(u){return Object.defineProperty(e,n,{value:u,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var u=i();return a(u),u}};return r&&(s.set=a),Object.defineProperty(e,n,s)},Y=function(t){z(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=i.source,o=!1;if(s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var u=a.el_.childNodes,l=u.length,c=[];l--;){var h=u[l],f=h.nodeName.toLowerCase();f==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(h),a.remoteTextTracks().addTrack(h.track),a.textTracks().addTrack(h.track),!o&&!a.el_.hasAttribute("crossorigin")&&ml(h.src)&&(o=!0)):c.push(h))}for(var y=0;y<c.length;y++)a.el_.removeChild(c[y])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&pe.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(Qi||ph||v_)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){vA(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),a,s=function(){a=[];for(var l=0;l<r.length;l++){var c=r[l];c.kind==="metadata"&&a.push({track:c,storedMode:c.mode})}};s(),r.addEventListener("change",s),this.on("dispose",function(){return r.removeEventListener("change",s)});var o=function u(){for(var l=0;l<a.length;l++){var c=a[l];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}r.removeEventListener("change",u)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",s),r.removeEventListener("change",o),r.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",s),r.addEventListener("change",s),r.removeEventListener("change",o)})},n.overrideNative_=function(r,a){var s=this;if(a===this["featuresNative"+r+"Tracks"]){var o=r.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(u){var l=s.el()[o+"Tracks"];l.removeEventListener(u,s[o+"TracksListeners_"][u])}),this["featuresNative"+r+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},n.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},n.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},n.proxyNativeTracksForType_=function(r){var a=this,s=Yt[r],o=this.el()[s.getterName],u=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var l={change:function(f){var y={type:"change",target:u,currentTarget:u,srcElement:u};u.trigger(y),r==="text"&&a[sa.remoteText.getterName]().trigger(y)},addtrack:function(f){u.addTrack(f.track)},removetrack:function(f){u.removeTrack(f.track)}},c=function(){for(var f=[],y=0;y<u.length;y++){for(var b=!1,x=0;x<o.length;x++)if(o[x]===u[y]){b=!0;break}b||f.push(u[y])}for(;f.length;)u.removeTrack(f.shift())};this[s.getterName+"Listeners_"]=l,Object.keys(l).forEach(function(h){var f=l[h];o.addEventListener(h,f),a.on("dispose",function(y){return o.removeEventListener(h,f)})}),this.on("loadstart",c),this.on("dispose",function(h){return a.off("loadstart",c)})}},n.proxyNativeTracks_=function(){var r=this;Yt.names.forEach(function(a){r.proxyNativeTracksForType_(a)})},n.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var a=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(a,r),e.disposeMediaElement(r),r=a}else{r=q.createElement("video");var s=this.options_.tag&&Vr(this.options_.tag),o=Oe({},s);(!Qi||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,w_(r,je(o,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&Zi(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var u=["loop","muted","playsinline","autoplay"],l=0;l<u.length;l++){var c=u[l],h=this.options_[c];typeof h!="undefined"&&(h?Zi(r,c,c):ol(r,c),r[c]=h)}return r},n.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var u=["loadstart"];u.push("loadedmetadata"),r.readyState>=2&&u.push("loadeddata"),r.readyState>=3&&u.push("canplay"),r.readyState>=4&&u.push("canplaythrough"),this.ready(function(){u.forEach(function(l){this.trigger(l)},this)})}},n.setScrubbing=function(r){this.isScrubbing_=r},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&sl?this.el_.fastSeek(r):this.el_.currentTime=r}catch(a){pe(a,"Video is not ready. (Video.js)")}},n.duration=function(){var r=this;if(this.el_.duration===1/0&&Br&&jr&&this.el_.currentTime===0){var a=function s(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){r.off("webkitbeginfullscreen",s),r.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=D.navigator&&D.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},n.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)Tr(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{r.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(r){this.el_.controls=!!r},n.addTextTrack=function(r,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,a,s):t.prototype.addTextTrack.call(this,r,a,s)},n.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var a=q.createElement("track");return r.kind&&(a.kind=r.kind),r.label&&(a.label=r.label),(r.language||r.srclang)&&(a.srclang=r.language||r.srclang),r.default&&(a.default=r.default),r.id&&(a.id=r.id),r.src&&(a.src=r.src),a},n.addRemoteTextTrack=function(r,a){var s=t.prototype.addRemoteTextTrack.call(this,r,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(r===a[s]||r===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),D.performance&&typeof D.performance.now=="function"?r.creationTime=D.performance.now():D.performance&&D.performance.timing&&typeof D.performance.timing.navigationStart=="number"&&(r.creationTime=D.Date.now()-D.performance.timing.navigationStart),r},e}(Pe);ap(Y,"TEST_VID",function(){if(!!Yi()){var t=q.createElement("video"),e=q.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});Y.isSupported=function(){try{Y.TEST_VID.volume=.5}catch{return!1}return!!(Y.TEST_VID&&Y.TEST_VID.canPlayType)};Y.canPlayType=function(t){return Y.TEST_VID.canPlayType(t)};Y.canPlaySource=function(t,e){return Y.canPlayType(t.type)};Y.canControlVolume=function(){try{var t=Y.TEST_VID.volume;return Y.TEST_VID.volume=t/2+.1,t!==Y.TEST_VID.volume}catch{return!1}};Y.canMuteVolume=function(){try{var t=Y.TEST_VID.muted;return Y.TEST_VID.muted=!t,Y.TEST_VID.muted?Zi(Y.TEST_VID,"muted","muted"):ol(Y.TEST_VID,"muted","muted"),t!==Y.TEST_VID.muted}catch{return!1}};Y.canControlPlaybackRate=function(){if(Br&&jr&&__<58)return!1;try{var t=Y.TEST_VID.playbackRate;return Y.TEST_VID.playbackRate=t/2+.1,t!==Y.TEST_VID.playbackRate}catch{return!1}};Y.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(q.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(q.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(q.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(q.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Y.supportsNativeTextTracks=function(){return sl||Rt&&jr};Y.supportsNativeVideoTracks=function(){return!!(Y.TEST_VID&&Y.TEST_VID.videoTracks)};Y.supportsNativeAudioTracks=function(){return!!(Y.TEST_VID&&Y.TEST_VID.audioTracks)};Y.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],n=t[1];ap(Y.prototype,e,function(){return Y[n]()},!0)});Y.prototype.movingMediaElementInDOM=!Rt;Y.prototype.featuresFullscreenResize=!0;Y.prototype.featuresProgressEvents=!0;Y.prototype.featuresTimeupdateEvents=!0;var bl;Y.patchCanPlayType=function(){dh>=4&&!y_&&!jr&&(bl=Y.TEST_VID&&Y.TEST_VID.constructor.prototype.canPlayType,Y.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":bl.call(this,t)})};Y.unpatchCanPlayType=function(){var t=Y.TEST_VID.constructor.prototype.canPlayType;return bl&&(Y.TEST_VID.constructor.prototype.canPlayType=bl),t};Y.patchCanPlayType();Y.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Y.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Y.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Y.prototype["set"+$e(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Y.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Y.prototype["set"+$e(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Y.prototype[t]=function(){return this.el_[t]()}});Pe.withSourceHandlers(Y);Y.nativeSourceHandler={};Y.nativeSourceHandler.canPlayType=function(t){try{return Y.TEST_VID.canPlayType(t)}catch{return""}};Y.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Y.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Oh(t.src);return Y.nativeSourceHandler.canPlayType("video/"+n)}return""};Y.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Y.nativeSourceHandler.dispose=function(){};Y.registerSourceHandler(Y.nativeSourceHandler);Pe.registerTech("Html5",Y);var HT=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],sp={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},op=["tiny","xsmall","small","medium","large","xlarge","huge"],El={};op.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;El[t]="vjs-layout-"+e});var yA={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ge=function(t){z(e,t);function e(i,r,a){var s;if(i.id=i.id||r.id||"vjs_video_"+_n(),r=je(e.getTagSettings(i),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(r.language=o.getAttribute("lang"))}else for(var u=i;u&&u.nodeType===1;){if(Vr(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}if(s=t.call(this,null,r,a)||this,s.boundDocumentFullscreenChange_=function(f){return s.documentFullscreenChange_(f)},s.boundFullWindowOnEscKey_=function(f){return s.fullWindowOnEscKey(f)},s.boundUpdateStyleEl_=function(f){return s.updateStyleEl_(f)},s.boundApplyInitTime_=function(f){return s.applyInitTime_(f)},s.boundUpdateCurrentBreakpoint_=function(f){return s.updateCurrentBreakpoint_(f)},s.boundHandleTechClick_=function(f){return s.handleTechClick_(f)},s.boundHandleTechDoubleClick_=function(f){return s.handleTechDoubleClick_(f)},s.boundHandleTechTouchStart_=function(f){return s.handleTechTouchStart_(f)},s.boundHandleTechTouchMove_=function(f){return s.handleTechTouchMove_(f)},s.boundHandleTechTouchEnd_=function(f){return s.handleTechTouchEnd_(f)},s.boundHandleTechTap_=function(f){return s.handleTechTap_(f)},s.isFullscreen_=!1,s.log=h_(s.id_),s.fsApi_=rl,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Vr(i),s.language(s.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach(function(f){l[f.toLowerCase()]=r.languages[f]}),s.languages_=l}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(f){if(typeof s[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Eh(ue(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(jt(q,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var c=Oe(s.options_);r.plugins&&Object.keys(r.plugins).forEach(function(f){s[f](r.plugins[f])}),r.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.playbackRates(r.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Qi&&s.addClass("vjs-touch-enabled"),Rt||s.addClass("vjs-workinghover"),e.players[s.id_]=ue(s);var h=l_.split(".")[0];return s.addClass("vjs-v"+h),s.userActive(!0),s.reportUserActivity(),s.one("play",function(f){return s.listenForUserActivity_(f)}),s.on("stageclick",function(f){return s.handleStageClick_(f)}),s.on("keydown",function(f){return s.handleKeyDown(f)}),s.on("languagechange",function(f){return s.handleLanguagechange(f)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}var n=e.prototype;return n.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),gt(q,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),gt(q,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),UP(this),wt.names.forEach(function(a){var s=wt[a],o=r[s.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this)},n.createEl=function(){var r=this.tag,a,s=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=r.parentNode:o||(a=this.el_=t.prototype.createEl.call(this,"div"));var u=Vr(r);if(o){for(a=this.el_=r,r=this.tag=q.createElement("video");a.children.length;)r.appendChild(a.firstChild);qn(a,"video-js")||Hr(a,"video-js"),a.appendChild(r),s=this.playerElIngest_=a,Object.keys(a).forEach(function(b){try{r[b]=a[b]}catch{}})}if(r.setAttribute("tabindex","-1"),u.tabindex="-1",(zs||jr&&T_)&&(r.setAttribute("role","application"),u.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in u&&delete u.width,"height"in u&&delete u.height,Object.getOwnPropertyNames(u).forEach(function(b){o&&b==="class"||a.setAttribute(b,u[b]),o&&r.setAttribute(b,u[b])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=a.player=this,this.addClass("vjs-paused"),D.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=N_("vjs-styles-dimensions");var l=yn(".vjs-styles-defaults"),c=yn("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var h=r.getElementsByTagName("a"),f=0;f<h.length;f++){var y=h.item(f);Hr(y,"vjs-hidden"),y.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!s&&r.parentNode.insertBefore(a,r),mh(r,a),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},n.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){pe.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},n.width=function(r){return this.dimension("width",r)},n.height=function(r){return this.dimension("height",r)},n.dimension=function(r,a){var s=r+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){pe.error('Improper value "'+a+'" supplied for for '+r);return}this[s]=o,this.updateStyleEl_()},n.fluid=function(r){var a=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,zr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),lP(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(D.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(r>=0&&(s.width=r),a>=0&&(s.height=a));return}var o,u,l,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?l=this.aspectRatio_:this.videoWidth()>0?l=this.videoWidth()+":"+this.videoHeight():l="16:9";var h=l.split(":"),f=h[1]/h[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?u=this.height_:u=o*f,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),F_(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+u+`px;
      }

      .`+c+`.vjs-fluid {
        padding-top: `+f*100+`%;
      }
    `)},n.loadTech_=function(r,a){var s=this;this.tech_&&this.unloadTech_();var o=$e(r),u=r.charAt(0).toLowerCase()+r.slice(1);o!=="Html5"&&this.tag&&(Pe.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var l=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(l=!1);var c={source:a,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+u+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};wt.names.forEach(function(f){var y=wt[f];c[y.getterName]=s[y.privateName]}),je(c,this.options_[o]),je(c,this.options_[u]),je(c,this.options_[r.toLowerCase()]),this.tag&&(c.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var h=Pe.getTech(r);if(!h)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new h(c),this.tech_.ready(ke(this,this.handleTechReady_),!0),G_.jsonToTextTracks(this.textTracksJson_||[],this.tech_),HT.forEach(function(f){s.on(s.tech_,f,function(y){return s["handleTech"+$e(f)+"_"](y)})}),Object.keys(sp).forEach(function(f){s.on(s.tech_,f,function(y){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+sp[f]+"_"].bind(s),event:y});return}s["handleTech"+sp[f]+"_"](y)})}),this.on(this.tech_,"loadstart",function(f){return s.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return s.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return s.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return s.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return s.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return s.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return s.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return s.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return s.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,y){return s.handleTechFullscreenChange_(f,y)}),this.on(this.tech_,"fullscreenerror",function(f,y){return s.handleTechFullscreenError_(f,y)}),this.on(this.tech_,"enterpictureinpicture",function(f){return s.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return s.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return s.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return s.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return s.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return s.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&mh(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var r=this;wt.names.forEach(function(a){var s=wt[a];r[s.privateName]=r[s.getterName]()}),this.textTracksJson_=G_.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(r){return r===void 0&&pe.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(r){var a=this;if(!(!this.tech_||typeof r!="string")){var s=function(){var l=a.muted();a.muted(!0);var c=function(){a.muted(l)};a.playTerminatedQueue_.push(c);var h=a.play();if(!!Xs(h))return h.catch(function(f){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(r==="any"&&!this.muted()?(o=this.play(),Xs(o)&&(o=o.catch(s))):r==="muted"&&!this.muted()?o=s():o=this.play(),!!Xs(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:r})})}},n.updateSourceCaches_=function(r){r===void 0&&(r="");var a=r,s="";typeof a!="string"&&(a=r.src,s=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=HP(this,a)),this.cache_.source=Oe({},r,{src:a,type:s});for(var o=this.cache_.sources.filter(function(y){return y.src&&y.src===a}),u=[],l=this.$$("source"),c=[],h=0;h<l.length;h++){var f=Vr(l[h]);u.push(f),f.src&&f.src===a&&c.push(f.src)}c.length&&!o.length?this.cache_.sources=u:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(r){var a=this;if(!this.changingSrc_){var s=function(c){return a.updateSourceCaches_(c)},o=this.currentSource().src,u=r.src;o&&!/^blob:/.test(o)&&/^blob:/.test(u)&&(!this.lastSource_||this.lastSource_.tech!==u&&this.lastSource_.player!==o)&&(s=function(){}),s(u),r.src||this.tech_.any(["sourceset","loadstart"],function(l){if(l.type!=="sourceset"){var c=a.techGet("currentSrc");a.lastSource_.tech=c,a.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},n.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",o))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(pe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?Tr(this.play()):this.pause())},n.handleTechDoubleClick_=function(r){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(r.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(r){var a=r.target.player;if(!(a&&a!==this)){var s=this.el(),o=q[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},n.handleTechFullscreenChange_=function(r,a){a&&(a.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(a.isFullscreen))},n.handleTechFullscreenError_=function(r,a){this.trigger("fullscreenerror",a)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var r=this.tech_.error();this.error(r)},n.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(r,a){this.ready(function(){if(r in NP)return RP(this.middleware_,this.tech_,r,a);if(r in iT)return nT(this.middleware_,this.tech_,r,a);try{this.tech_&&this.tech_[r](a)}catch(s){throw pe(s),s}},!0)},n.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in MP)return OP(this.middleware_,this.tech_,r);if(r in iT)return nT(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(a){throw this.tech_[r]===void 0?(pe("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(pe("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(pe(a),a)}}},n.play=function(){var r=this,a=this.options_.Promise||D.Promise;return a?new a(function(s){r.play_(s)}):this.play_()},n.play_=function(r){var a=this;r===void 0&&(r=Tr),this.playCallbacks_.push(r);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(u){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(sl||Rt)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},n.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(a){a()})},n.runPlayCallbacks_=function(r){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(r)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||Xn(0,0)},n.scrubbing=function(r){if(typeof r=="undefined")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(r){if(typeof r!="undefined"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=Xn(0,0)),r},n.bufferedPercent=function(){return $_(this.buffered(),this.duration())},n.bufferedEnd=function(){var r=this.buffered(),a=this.duration(),s=r.end(r.length-1);return s>a&&(s=a),s},n.volume=function(r){var a;if(r!==void 0){a=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},n.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(r){if(r!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(r){var a=this.options_.Promise||D.Promise;if(a){var s=this;return new a(function(o,u){function l(){s.off("fullscreenerror",h),s.off("fullscreenchange",c)}function c(){l(),o()}function h(y,b){l(),u(b)}s.one("fullscreenchange",c),s.one("fullscreenerror",h);var f=s.requestFullscreenHelper_(r);f&&(f.then(l,l),f.then(o,u))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(r){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(s=r)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var r=this.options_.Promise||D.Promise;if(r){var a=this;return new r(function(s,o){function u(){a.off("fullscreenerror",c),a.off("fullscreenchange",l)}function l(){u(),s()}function c(f,y){u(),o(y)}a.one("fullscreenchange",l),a.one("fullscreenerror",c);var h=a.exitFullscreenHelper_();h&&(h.then(u,u),h.then(s,o))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var a=q[this.fsApi_.exitFullscreen]();return a&&Tr(a.then(function(){return r.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=q.documentElement.style.overflow,jt(q,"keydown",this.boundFullWindowOnEscKey_),q.documentElement.style.overflow="hidden",Hr(q.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(r){de.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,gt(q,"keydown",this.boundFullWindowOnEscKey_),q.documentElement.style.overflow=this.docOrigOverflow,$s(q.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in q&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in q)return q.exitPictureInPicture()},n.handleKeyDown=function(r){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(u){var l=u.tagName.toLowerCase();if(u.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(l==="input")return c.indexOf(u.type)===-1;var h=["textarea"];return h.indexOf(l)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,r):this.handleHotkeys(r))}},n.handleHotkeys=function(r){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(x){return de.isEventKey(x,"f")}:s,u=a.muteKey,l=u===void 0?function(x){return de.isEventKey(x,"m")}:u,c=a.playPauseKey,h=c===void 0?function(x){return de.isEventKey(x,"k")||de.isEventKey(x,"Space")}:c;if(o.call(this,r)){r.preventDefault(),r.stopPropagation();var f=W.getComponent("FullscreenToggle");q[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,r)}else if(l.call(this,r)){r.preventDefault(),r.stopPropagation();var y=W.getComponent("MuteToggle");y.prototype.handleClick.call(this,r)}else if(h.call(this,r)){r.preventDefault(),r.stopPropagation();var b=W.getComponent("PlayToggle");b.prototype.handleClick.call(this,r)}},n.canPlayType=function(r){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var u=o[s],l=Pe.getTech(u);if(l||(l=W.getComponent(u)),!l){pe.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.');continue}if(l.isSupported()&&(a=l.canPlayType(r),a))return a}return""},n.selectSource=function(r){var a=this,s=this.options_.techOrder.map(function(h){return[h,Pe.getTech(h)]}).filter(function(h){var f=h[0],y=h[1];return y?y.isSupported():(pe.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,y,b){var x;return f.some(function(v){return y.some(function(S){if(x=b(v,S),x)return!0})}),x},u,l=function(f){return function(y,b){return f(b,y)}},c=function(f,y){var b=f[0],x=f[1];if(x.canPlaySource(y,a.options_[b.toLowerCase()]))return{source:y,tech:b}};return this.options_.sourceOrder?u=o(r,s,l(c)):u=o(s,r,c),u||!1},n.handleSrc_=function(r,a){var s=this;if(typeof r=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=VP(r);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),DP(this,o[0],function(c,h){s.middleware_=h,a||(s.cache_.sources=o),s.updateSourceCaches_(c);var f=s.src_(c);if(f){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),s.triggerReady();return}LP(h,s.tech_)}),this.options_.retryOnError&&o.length>1){var u=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},l=function(){s.off("error",u)};this.one("error",u),this.one("playing",l),this.resetRetryOnError_=function(){s.off("error",u),s.off("playing",l)}}},n.src=function(r){return this.handleSrc_(r,!1)},n.src_=function(r){var a=this,s=this.selectSource([r]);return s?fP(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var r=this,a=this.options_.Promise||D.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();Tr(s.then(function(){return r.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),zr(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar,a=r.durationDisplay,s=r.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var r=this.currentSource(),a=[];return Object.keys(r).length!==0&&a.push(r),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},n.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var a;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),a=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a=="undefined"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},n.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},n.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(r){var a=this;if(r===void 0)return this.error_||null;if(vn("beforeerror").forEach(function(o){var u=o(a,r);if(!(Ur(u)&&!Array.isArray(u)||typeof u=="string"||typeof u=="number"||u===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=u}),this.options_.suppressNotSupportedError&&r&&r.code===4){var s=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Ct(r),this.addClass("vjs-error"),pe.error("(CODE:"+this.error_.code+" "+Ct.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),vn("error").forEach(function(o){return o(a,a.error_)})},n.reportUserActivity=function(r){this.userActivity_=!0},n.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var r,a,s,o=ke(this,this.reportUserActivity),u=function(b){(b.screenX!==a||b.screenY!==s)&&(a=b.screenX,s=b.screenY,o())},l=function(){o(),this.clearInterval(r),r=this.setInterval(o,250)},c=function(b){o(),this.clearInterval(r)};this.on("mousedown",l),this.on("mousemove",u),this.on("mouseup",c),this.on("mouseleave",c);var h=this.getChild("controlBar");h&&!Rt&&!Br&&(h.on("mouseenter",function(y){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(y){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var y=this.options_.inactivityTimeout;y<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},y))}},250)},n.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},n.addTextTrack=function(r,a,s){if(this.tech_)return this.tech_.addTextTrack(r,a,s)},n.addRemoteTextTrack=function(r,a){if(this.tech_)return this.tech_.addRemoteTextTrack(r,a)},n.removeRemoteTextTrack=function(r){r===void 0&&(r={});var a=r,s=a.track;if(s||(s=r),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),zr(this)&&this.trigger("languagechange"))},n.languages=function(){return Oe(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var r=Oe(this.options_),a=r.tracks;r.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=Oe(o),o.player=void 0,r.tracks[s]=o}return r},n.createModal=function(r,a){var s=this;a=a||{},a.content=r||"";var o=new na(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},n.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<op.length;s++){var o=op[s],u=this.breakpoints_[o];if(a<=u){if(r===o)return;r&&this.removeClass(El[r]),this.addClass(El[o]),this.breakpoint_=o;break}}},n.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},n.breakpoints=function(r){return r===void 0?je(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=je({},yA,r),this.updateCurrentBreakpoint_(),je(this.breakpoints_))},n.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var a=this.responsive_;if(r!==a)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return El[this.breakpoint_]||""},n.loadMedia=function(r,a){var s=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=Oe(r);var o=this.cache_.media,u=o.artwork,l=o.poster,c=o.src,h=o.textTracks;!u&&l&&(this.cache_.media.artwork=[{src:l,type:vl(l)}]),c&&this.src(c),l&&this.poster(l),Array.isArray(h)&&h.forEach(function(f){return s.addRemoteTextTrack(f,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var r=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(u){return{kind:u.kind,label:u.label,language:u.language,src:u.src}}),o={src:a,textTracks:s};return r&&(o.poster=r,o.artwork=[{src:o.poster,type:vl(o.poster)}]),o}return Oe(this.cache_.media)},e.getTagSettings=function(r){var a={sources:[],tracks:[]},s=Vr(r),o=s["data-setup"];if(qn(r,"vjs-fill")&&(s.fill=!0),qn(r,"vjs-fluid")&&(s.fluid=!0),o!==null){var u=p1(o||"{}"),l=u[0],c=u[1];l&&pe.error(l),je(s,c)}if(je(a,s),r.hasChildNodes())for(var h=r.childNodes,f=0,y=h.length;f<y;f++){var b=h[f],x=b.nodeName.toLowerCase();x==="source"?a.sources.push(Vr(b)):x==="track"&&a.tracks.push(Vr(b))}return a},n.flexNotSupported_=function(){var r=q.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},n.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(W);wt.names.forEach(function(t){var e=wt[t];Ge.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ge.prototype.crossorigin=Ge.prototype.crossOrigin;Ge.players={};var Zs=D.navigator;Ge.prototype.options_={techOrder:Pe.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Zs&&(Zs.languages&&Zs.languages[0]||Zs.userLanguage||Zs.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ge.prototype[t]=function(){return this.techGet_(t)}});HT.forEach(function(t){Ge.prototype["handleTech"+$e(t)+"_"]=function(){return this.trigger(t)}});W.registerComponent("Player",Ge);var Cl="plugin",ca="activePlugins_",da={},wl=function(e){return da.hasOwnProperty(e)},kl=function(e){return wl(e)?da[e]:void 0},VT=function(e,n){e[ca]=e[ca]||{},e[ca][n]=!0},Pl=function(e,n,i){var r=(i?"before":"")+"pluginsetup";e.trigger(r,n),e.trigger(r+":"+n.name,n)},_A=function(e,n){var i=function(){Pl(this,{name:e,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return VT(this,e),Pl(this,{name:e,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(r){i[r]=n[r]}),i},WT=function(e,n){return n.prototype.name=e,function(){Pl(this,{name:e,plugin:n,instance:null},!0);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=Bu(n,[this].concat(r));return this[e]=function(){return s},Pl(this,s.getEventHash()),s}},xr=function(){function t(n){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),Eh(this),delete this.trigger,W_(this,this.constructor.defaultState),VT(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,r){return r===void 0&&(r={}),ta(this.eventBusEl_,i,this.getEventHash(r))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[ca][i]=!1,this.player=this.state=null,r[i]=WT(i,da[i])},t.isBasic=function(i){var r=typeof i=="string"?kl(i):i;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(i,r){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(wl(i))pe.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Ge.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof r+".");return da[i]=r,i!==Cl&&(t.isBasic(r)?Ge.prototype[i]=_A(i,r):Ge.prototype[i]=WT(i,r)),r},t.deregisterPlugin=function(i){if(i===Cl)throw new Error("Cannot de-register base plugin.");wl(i)&&(delete da[i],delete Ge.prototype[i])},t.getPlugins=function(i){i===void 0&&(i=Object.keys(da));var r;return i.forEach(function(a){var s=kl(a);s&&(r=r||{},r[a]=s)}),r},t.getPluginVersion=function(i){var r=kl(i);return r&&r.VERSION||""},t}();xr.getPlugin=kl;xr.BASE_PLUGIN_NAME=Cl;xr.registerPlugin(Cl,xr);Ge.prototype.usingPlugin=function(t){return!!this[ca]&&this[ca][t]===!0};Ge.prototype.hasPlugin=function(t){return!!wl(t)};var TA=function(e,n){n===void 0&&(n={});var i=function(){e.apply(this,arguments)},r={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(i=n.constructor),r=n):typeof n=="function"&&(i=n),rw(i,e),e&&(i.super_=e);for(var a in r)r.hasOwnProperty(a)&&(i.prototype[a]=r[a]);return i},zT=function(e){return e.indexOf("#")===0?e.slice(1):e};function N(t,e,n){var i=N.getPlayer(t);if(i)return e&&pe.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r=typeof t=="string"?yn("#"+zT(t)):t;if(!Ji(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&pe.warn("The element supplied is not included in the DOM"),e=e||{},vn("beforesetup").forEach(function(s){var o=s(r,Oe(e));if(!Ur(o)||Array.isArray(o)){pe.error("please return an object in beforesetup hooks");return}e=Oe(e,o)});var a=W.getComponent("Player");return i=new a(r,e,n),vn("setup").forEach(function(s){return s(i)}),i}N.hooks_=Fr;N.hooks=vn;N.hook=qk;N.hookOnce=Kk;N.removeHook=c_;if(D.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Yi()){var Al=yn(".vjs-styles-defaults");if(!Al){Al=N_("vjs-styles-defaults");var up=yn("head");up&&up.insertBefore(Al,up.firstChild),F_(Al,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}_h(1,N);N.VERSION=l_;N.options=Ge.prototype.options_;N.getPlayers=function(){return Ge.players};N.getPlayer=function(t){var e=Ge.players,n;if(typeof t=="string"){var i=zT(t),r=e[i];if(r)return r;n=yn("#"+i)}else n=t;if(Ji(n)){var a=n,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};N.getAllPlayers=function(){return Object.keys(Ge.players).map(function(t){return Ge.players[t]}).filter(Boolean)};N.players=Ge.players;N.getComponent=W.getComponent;N.registerComponent=function(t,e){Pe.isTech(e)&&pe.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),W.registerComponent.call(W,t,e)};N.getTech=Pe.getTech;N.registerTech=Pe.registerTech;N.use=IP;Object.defineProperty(N,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(N.middleware,"TERMINATOR",{value:gl,writeable:!1,enumerable:!0});N.browser=eP;N.TOUCH_ENABLED=Qi;N.extend=TA;N.mergeOptions=Oe;N.bind=ke;N.registerPlugin=xr.registerPlugin;N.deregisterPlugin=xr.deregisterPlugin;N.plugin=function(t,e){return pe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),xr.registerPlugin(t,e)};N.getPlugins=xr.getPlugins;N.getPlugin=xr.getPlugin;N.getPluginVersion=xr.getPluginVersion;N.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),N.options.languages=Oe(N.options.languages,(n={},n[t]=e,n)),N.options.languages[t]};N.log=pe;N.createLogger=h_;N.createTimeRange=N.createTimeRanges=Xn;N.formatTime=oa;N.setFormatTime=XP;N.resetFormatTime=QP;N.parseUrl=Lh;N.isCrossOrigin=ml;N.EventTarget=Ze;N.on=jt;N.one=dl;N.off=gt;N.trigger=ta;N.xhr=W0;N.TextTrack=Qs;N.AudioTrack=Z_;N.VideoTrack=eT;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){N[t]=function(){return pe.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),R_[t].apply(null,arguments)}});N.computedStyle=Vs;N.dom=R_;N.url=wP;N.defineLazyProperty=ap;N.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var lr=ju,Il=function(e,n,i){return e&&i&&i.responseURL&&n!==i.responseURL?i.responseURL:n},cr=function(e){return N.log.debug?N.log.debug.bind(N,"VHS:",e+" >"):function(){}},Tn=1/30,Sr=Tn*3,$T=function(e,n){var i=[],r;if(e&&e.length)for(r=0;r<e.length;r++)n(e.start(r),e.end(r))&&i.push([e.start(r),e.end(r)]);return N.createTimeRanges(i)},fa=function(e,n){return $T(e,function(i,r){return i-Sr<=n&&r+Sr>=n})},Dl=function(e,n){return $T(e,function(i){return i-Tn>=n})},xA=function(e){if(e.length<2)return N.createTimeRanges();for(var n=[],i=1;i<e.length;i++){var r=e.end(i-1),a=e.start(i);n.push([r,a])}return N.createTimeRanges(n)},SA=function(e,n){var i=null,r=null,a=0,s=[],o=[];if(!e||!e.length||!n||!n.length)return N.createTimeRange();for(var u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(u=n.length;u--;)s.push({time:n.start(u),type:"start"}),s.push({time:n.end(u),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),u=0;u<s.length;u++)s[u].type==="start"?(a++,a===2&&(i=s[u].time)):s[u].type==="end"&&(a--,a===1&&(r=s[u].time)),i!==null&&r!==null&&(o.push([i,r]),i=null,r=null);return N.createTimeRanges(o)},GT=function(e){var n=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)n.push(e.start(i)+" => "+e.end(i));return n.join(", ")},bA=function(e,n,i){i===void 0&&(i=1);var r=e.length?e.end(e.length-1):0;return(r-n)/i},Zn=function(e){for(var n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});return n},EA=function(e,n){if(e===n)return!1;if(!e&&n||!n&&e||e.length!==n.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==n.start(i)||e.end(i)!==n.end(i))return!0;return!1},qT=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},lp=function(e,n){var i=0;if(!e||!e.length)return i;for(var r=0;r<e.length;r++){var a=e.start(r),s=e.end(r);if(!(n>s)){if(n>a&&n<=s){i+=s-n;continue}i+=s-a}}return i},KT=N.createTimeRange,cp=function(e,n){if(!n.preload)return n.duration;var i=0;return(n.parts||[]).forEach(function(r){i+=r.duration}),(n.preloadHints||[]).forEach(function(r){r.type==="PART"&&(i+=e.partTargetDuration)}),i},dp=function(e){return(e.segments||[]).reduce(function(n,i,r){return i.parts?i.parts.forEach(function(a,s){n.push({duration:a.duration,segmentIndex:r,partIndex:s,part:a,segment:i})}):n.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),n},[])},XT=function(e){var n=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return n&&n.parts||[]},QT=function(e){var n=e.preloadSegment;if(!!n){var i=n.parts,r=n.preloadHints,a=(r||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},YT=function(e,n){if(n.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=XT(n).length>0;return i&&n.serverControl&&n.serverControl.partHoldBack?n.serverControl.partHoldBack:i&&n.partTargetDuration?n.partTargetDuration*3:n.serverControl&&n.serverControl.holdBack?n.serverControl.holdBack:n.targetDuration?n.targetDuration*3:0},CA=function(e,n){var i=0,r=n-e.mediaSequence,a=e.segments[r];if(a){if(typeof a.start!="undefined")return{result:a.start,precise:!0};if(typeof a.end!="undefined")return{result:a.end-a.duration,precise:!0}}for(;r--;){if(a=e.segments[r],typeof a.end!="undefined")return{result:i+a.end,precise:!0};if(i+=cp(e,a),typeof a.start!="undefined")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},wA=function(e,n){for(var i=0,r,a=n-e.mediaSequence;a<e.segments.length;a++){if(r=e.segments[a],typeof r.start!="undefined")return{result:r.start-i,precise:!0};if(i+=cp(e,r),typeof r.end!="undefined")return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}},JT=function(e,n,i){if(typeof n=="undefined"&&(n=e.mediaSequence+e.segments.length),n<e.mediaSequence)return 0;var r=CA(e,n);if(r.precise)return r.result;var a=wA(e,n);return a.precise?a.result:r.result+i},ZT=function(e,n,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof n=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return D.Infinity}return JT(e,n,i)},eo=function(e){var n=e.defaultDuration,i=e.durationList,r=e.startIndex,a=e.endIndex,s=0;if(r>a){var o=[a,r];r=o[0],a=o[1]}if(r<0){for(var u=r;u<Math.min(0,a);u++)s+=n;r=0}for(var l=r;l<a;l++)s+=i[l].duration;return s},ex=function(e,n,i,r){if(!e||!e.segments)return null;if(e.endList)return ZT(e);if(n===null)return null;n=n||0;var a=JT(e,e.mediaSequence+e.segments.length,n);return i&&(r=typeof r=="number"?r:YT(null,e),a-=r),Math.max(0,a)},kA=function(e,n,i){var r=!0,a=n||0,s=ex(e,n,r,i);return s===null?KT():KT(a,s)},PA=function(e){for(var n=e.playlist,i=e.currentTime,r=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,u=i-s,l=dp(n),c=0,h=0;h<l.length;h++){var f=l[h];if(r===f.segmentIndex&&!(typeof a=="number"&&typeof f.partIndex=="number"&&a!==f.partIndex)){c=h;break}}if(u<0){if(c>0)for(var y=c-1;y>=0;y--){var b=l[y];if(u+=b.duration,o){if(u<0)continue}else if(u+Tn<=0)continue;return{partIndex:b.partIndex,segmentIndex:b.segmentIndex,startTime:s-eo({defaultDuration:n.targetDuration,durationList:l,startIndex:c,endIndex:y})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var x=c;x<0;x++)if(u-=n.targetDuration,u<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var v=c;v<l.length;v++){var S=l[v];if(u-=S.duration,o){if(u>0)continue}else if(u-Tn>=0)continue;return{partIndex:S.partIndex,segmentIndex:S.segmentIndex,startTime:s+eo({defaultDuration:n.targetDuration,durationList:l,startIndex:c,endIndex:v})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},tx=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},fp=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Ll=function(e){var n=tx(e);return!e.disabled&&!n},AA=function(e){return e.disabled},IA=function(e){for(var n=0;n<e.segments.length;n++)if(e.segments[n].key)return!0;return!1},rx=function(e,n){return n.attributes&&n.attributes[e]},DA=function(e,n,i,r){if(r===void 0&&(r=0),!rx("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-r*8)/n},hp=function(e,n){if(e.playlists.length===1)return!0;var i=n.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return Ll(r)?(r.attributes.BANDWIDTH||0)<i:!1}).length===0},pp=function(e,n){return!e&&!n||!e&&n||e&&!n?!1:!!(e===n||e.id&&n.id&&e.id===n.id||e.resolvedUri&&n.resolvedUri&&e.resolvedUri===n.resolvedUri||e.uri&&n.uri&&e.uri===n.uri)},nx=function(e,n){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var a in i){for(var s in i[a])if(r=n(i[a][s]),r)break;if(r)break}return!!r},to=function(e){if(!e||!e.playlists||!e.playlists.length){var n=nx(e,function(s){return s.playlists&&s.playlists.length||s.uri});return n}for(var i=function(o){var u=e.playlists[o],l=u.attributes&&u.attributes.CODECS;if(l&&l.split(",").every(function(h){return iy(h)}))return"continue";var c=nx(e,function(h){return pp(u,h)});return c?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var a=i(r);if(a!=="continue"&&typeof a=="object")return a.v}return!0},Mt={liveEdgeDelay:YT,duration:ZT,seekable:kA,getMediaInfoForTime:PA,isEnabled:Ll,isDisabled:AA,isBlacklisted:tx,isIncompatible:fp,playlistEnd:ex,isAes:IA,hasAttribute:rx,estimateSegmentRequestTime:DA,isLowestEnabledRendition:hp,isAudioOnly:to,playlistMatch:pp,segmentDurationWithParts:cp},ix=N.log,mp=function(e,n){return e+"-"+n},LA=function(e){var n=e.onwarn,i=e.oninfo,r=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,u=o===void 0?[]:o,l=e.experimentalLLHLS,c=new lw;n&&c.on("warn",n),i&&c.on("info",i),s.forEach(function(x){return c.addParser(x)}),u.forEach(function(x){return c.addTagMapper(x)}),c.push(r),c.end();var h=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(x){h.hasOwnProperty(x)&&delete h[x]}),h.segments&&h.segments.forEach(function(x){["parts","preloadHints"].forEach(function(v){x.hasOwnProperty(v)&&delete x[v]})})),!h.targetDuration){var f=10;h.segments&&h.segments.length&&(f=h.segments.reduce(function(x,v){return Math.max(x,v.duration)},0)),n&&n("manifest has no targetDuration defaulting to "+f),h.targetDuration=f}var y=XT(h);if(y.length&&!h.partTargetDuration){var b=y.reduce(function(x,v){return Math.max(x,v.duration)},0);n&&(n("manifest has no partTargetDuration defaulting to "+b),ix.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),h.partTargetDuration=b}return h},ro=function(e,n){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var r in e.mediaGroups[i])for(var a in e.mediaGroups[i][r]){var s=e.mediaGroups[i][r][a];n(s,i,r,a)}})},ax=function(e){var n=e.playlist,i=e.uri,r=e.id;n.id=r,n.playlistErrors_=0,i&&(n.uri=i),n.attributes=n.attributes||{}},OA=function(e){for(var n=e.playlists.length;n--;){var i=e.playlists[n];ax({playlist:i,id:mp(n,i.uri)}),i.resolvedUri=lr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||ix.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},RA=function(e){ro(e,function(n){n.uri&&(n.resolvedUri=lr(e.uri,n.uri))})},MA=function(e,n){var i=mp(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:D.location.href,resolvedUri:D.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r},sx=function(e,n){e.uri=n;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var r="placeholder-uri-"+i;e.playlists[i].uri=r}var a=to(e);ro(e,function(s,o,u,l){var c="placeholder-uri-"+o+"-"+u+"-"+l;if(!s.playlists||!s.playlists.length){if(a&&o==="AUDIO"&&!s.uri)for(var h=0;h<e.playlists.length;h++){var f=e.playlists[h];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===u)return}s.playlists=[Le({},s)]}s.playlists.forEach(function(y,b){var x=mp(b,c);y.uri?y.resolvedUri=y.resolvedUri||lr(e.uri,y.uri):(y.uri=b===0?c:x,y.resolvedUri=y.uri),y.id=y.id||x,y.attributes=y.attributes||{},e.playlists[y.id]=y,e.playlists[y.uri]=y})}),OA(e),RA(e)},Ol=N.mergeOptions,NA=N.EventTarget,FA=function(e,n){if(n.endList||!n.serverControl)return e;var i={};if(n.serverControl.canBlockReload){var r=n.preloadSegment,a=n.mediaSequence+n.segments.length;if(r){var s=r.parts||[],o=QT(n)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(n.serverControl&&n.serverControl.canSkipUntil&&(i._HLS_skip=n.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var u=new D.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(l){!i.hasOwnProperty(l)||u.searchParams.set(l,i[l])}),e=u.toString()}return e},UA=function(e,n){if(!e)return n;var i=Ol(e,n);if(e.preloadHints&&!n.preloadHints&&delete i.preloadHints,e.parts&&!n.parts)delete i.parts;else if(e.parts&&n.parts)for(var r=0;r<n.parts.length;r++)e.parts&&e.parts[r]&&(i.parts[r]=Ol(e.parts[r],n.parts[r]));return!e.skipped&&n.skipped&&(i.skipped=!1),e.preload&&!n.preload&&(i.preload=!1),i},BA=function(e,n,i){var r=e.slice(),a=n.slice();i=i||0;for(var s=[],o,u=0;u<a.length;u++){var l=r[u+i],c=a[u];l?(o=l.map||o,s.push(UA(l,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},ox=function(e,n){!e.resolvedUri&&e.uri&&(e.resolvedUri=lr(n,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=lr(n,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=lr(n,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=lr(n,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=lr(n,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=lr(n,i.uri))})},ux=function(e){var n=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var r=0;r<i.preloadHints.length;r++)if(i.preloadHints[r].type==="MAP")return n}i.duration=e.targetDuration,i.preload=!0,n.push(i)}return n},lx=function(e,n){return e===n||e.segments&&n.segments&&e.segments.length===n.segments.length&&e.endList===n.endList&&e.mediaSequence===n.mediaSequence&&e.preloadSegment===n.preloadSegment},gp=function(e,n,i){i===void 0&&(i=lx);var r=Ol(e,{}),a=r.playlists[n.id];if(!a||i(a,n))return null;n.segments=ux(n);var s=Ol(a,n);if(s.preloadSegment&&!n.preloadSegment&&delete s.preloadSegment,a.segments){if(n.skip){n.segments=n.segments||[];for(var o=0;o<n.skip.skippedSegments;o++)n.segments.unshift({skipped:!0})}s.segments=BA(a.segments,n.segments,n.mediaSequence-a.mediaSequence)}s.segments.forEach(function(l){ox(l,s.resolvedUri)});for(var u=0;u<r.playlists.length;u++)r.playlists[u].id===n.id&&(r.playlists[u]=s);return r.playlists[n.id]=s,r.playlists[n.uri]=s,ro(e,function(l,c,h,f){if(!!l.playlists)for(var y=0;y<l.playlists.length;y++)n.id===l.playlists[y].id&&(l.playlists[y]=n)}),r},vp=function(e,n){var i=e.segments||[],r=i[i.length-1],a=r&&r.parts&&r.parts[r.parts.length-1],s=a&&a.duration||r&&r.duration;return n&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},ha=function(t){z(e,t);function e(i,r,a){var s;if(a===void 0&&(a={}),s=t.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=cr("PlaylistLoader");var o=a,u=o.withCredentials,l=u===void 0?!1:u,c=o.handleManifestRedirects,h=c===void 0?!1:c;s.src=i,s.vhs_=r,s.withCredentials=l,s.handleManifestRedirects=h;var f=r.options_;return s.customTagParsers=f&&f.customTagParsers||[],s.customTagMappers=f&&f.customTagMappers||[],s.experimentalLLHLS=f&&f.experimentalLLHLS||!1,N.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(ue(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var n=e.prototype;return n.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=lr(this.master.uri,a.uri);this.experimentalLLHLS&&(s=FA(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,u){if(!!r.request){if(o)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},n.playlistRequestError=function(r,a,s){var o=a.uri,u=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[u],status:r.status,message:"HLS playlist request error at URL: "+o+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(r){var a=this,s=r.url,o=r.manifestString;return LA({onwarn:function(l){var c=l.message;return a.logger_("m3u8-parser warn for "+s+": "+c)},oninfo:function(l){var c=l.message;return a.logger_("m3u8-parser info for "+s+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(r){var a=r.playlistString,s=r.playlistObject,o=r.url,u=r.id;this.request=null,this.state="HAVE_METADATA";var l=s||this.parseManifest_({url:o,manifestString:a});l.lastRequest=Date.now(),ax({playlist:l,uri:o,id:u});var c=gp(this.master,l);this.targetDuration=l.partTargetDuration||l.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[u]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(vp(this.media(),!!c)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),D.clearTimeout(this.mediaUpdateTimeout),D.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r,a){var s=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(D.clearTimeout(this.finalRenditionTimeout),a){var o=(r.partTargetDuration||r.targetDuration)/2*1e3||5*1e3;this.finalRenditionTimeout=D.setTimeout(this.media.bind(this,r,!1),o);return}var u=this.state,l=!this.media_||r.id!==this.media_.id,c=this.master.playlists[r.id];if(c&&c.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,l&&(this.trigger("mediachanging"),u==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(vp(r,!0)),!!l){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(h,f){if(!!s.request){if(r.lastRequest=Date.now(),r.resolvedUri=Il(s.handleManifestRedirects,r.resolvedUri,f),h)return s.playlistRequestError(s.request,r,u);s.haveMetadata({playlistString:f.responseText,url:r.uri,id:r.id}),u==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},n.pause=function(){this.mediaUpdateTimeout&&(D.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},n.load=function(r){var a=this;this.mediaUpdateTimeout&&(D.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(r){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5*1e3;this.mediaUpdateTimeout=D.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},n.updateMediaUpdateTimeout_=function(r){var a=this;this.mediaUpdateTimeout&&(D.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=D.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(r)},r))},n.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=D.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!r.request){if(r.request=null,a)return r.error={status:s.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:s.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=Il(r.handleManifestRedirects,r.src,s);var o=r.parseManifest_({manifestString:s.responseText,url:r.src});r.setupInitialPlaylist(o)}})},n.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},n.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,sx(this.master,this.srcUri()),r.playlists.forEach(function(s){s.segments=ux(s),s.segments.forEach(function(o){ox(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||D.location.href;this.master=MA(r,a),this.haveMetadata({playlistObject:r,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(NA),jA=N.xhr,HA=N.mergeOptions,yp=function(e,n,i,r){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!n&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),n&&n.code==="ETIMEDOUT"&&(e.timedout=!0),!n&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(n=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),r(n,e)},cx=function(){var e=function n(i,r){i=HA({timeout:45e3},i);var a=n.beforeRequest||N.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=N.Vhs.xhr.original===!0?jA:N.Vhs.xhr,u=o(i,function(c,h){return yp(u,c,h,r)}),l=u.abort;return u.abort=function(){return u.aborted=!0,l.apply(u,arguments)},u.uri=i.uri,u.requestTime=Date.now(),u};return e.original=!0,e},VA=function(e){var n=e.offset+e.length-1,i=e.offset;return"bytes="+i+"-"+n},_p=function(e){var n={};return e.byterange&&(n.Range=VA(e.byterange)),n},WA=function(e,n){return e.start(n)+"-"+e.end(n)},zA=function(e,n){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(n%2?" ":"")},$A=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},dx=function(e){var n={};return Object.keys(e).forEach(function(i){var r=e[i];ArrayBuffer.isView(r)?n[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:n[i]=r}),n},Rl=function(e){var n=e.byterange||{length:1/0,offset:0};return[n.length,n.offset,e.resolvedUri].join(",")},fx=function(e){return e.resolvedUri},hx=function(e){for(var n=Array.prototype.slice.call(e),i=16,r="",a,s,o=0;o<n.length/i;o++)a=n.slice(o*i,o*i+i).map(zA).join(""),s=n.slice(o*i,o*i+i).map($A).join(""),r+=a+" "+s+`
`;return r},GA=function(e){var n=e.bytes;return hx(n)},qA=function(e){var n="",i;for(i=0;i<e.length;i++)n+=WA(e,i)+" ";return n},KA=Object.freeze({__proto__:null,createTransferableMessage:dx,initSegmentId:Rl,segmentKeyId:fx,hexDump:hx,tagDump:GA,textRanges:qA}),px=.25,XA=function(e,n){if(!n.dateTimeObject)return null;var i=n.videoTimingInfo.transmuxerPrependedSeconds,r=n.videoTimingInfo.transmuxedPresentationStart,a=r+i,s=e-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},QA=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},YA=function(e,n){var i;try{i=new Date(e)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var r=n.segments[0];if(i<r.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){r=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(i<s)break}var o=n.segments[n.segments.length-1],u=o.dateTimeObject,l=o.videoTimingInfo?QA(o.videoTimingInfo):o.duration+o.duration*px,c=new Date(u.getTime()+l*1e3);return i>c?null:(i>u&&(r=o),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Mt.duration(n,n.mediaSequence+n.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},JA=function(e,n){if(!n||!n.segments||n.segments.length===0)return null;for(var i=0,r,a=0;a<n.segments.length&&(r=n.segments[a],i=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:i+r.duration,!(e<=i));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*px)return null;r=s}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:i-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},ZA=function(e,n){var i,r;try{i=new Date(e),r=new Date(n)}catch{}var a=i.getTime(),s=r.getTime();return(s-a)/1e3},eI=function(e){if(!e.segments||e.segments.length===0)return!1;for(var n=0;n<e.segments.length;n++){var i=e.segments[n];if(!i.dateTimeObject)return!1}return!0},tI=function(e){var n=e.playlist,i=e.time,r=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||r===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=JA(r,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:r},u=XA(r,s.segment);return u&&(o.programDateTime=u.toISOString()),a(null,o)},rI=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,a=r===void 0?2:r,s=e.seekTo,o=e.pauseAfterSeek,u=o===void 0?!0:o,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof n=="undefined"||!i||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!eI(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=YA(n,i);if(!h)return c({message:n+" was not found in the stream"});var f=h.segment,y=ZA(f.dateTimeObject,n);if(h.type==="estimate"){if(a===0)return c({message:n+" is not buffered yet. Try again"});s(h.estimatedStart+y),l.one("seeked",function(){t({programTime:n,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:u,tech:l,callback:c})});return}var b=f.start+y,x=function(){return c(null,l.currentTime())};l.one("seeked",x),u&&l.pause(),s(b)},Tp=function(e,n){if(e.readyState===4)return n()},nI=function(e,n,i){var r=[],a,s=!1,o=function(f,y,b,x){return y.abort(),s=!0,i(f,y,b,x)},u=function(f,y){if(!s){if(f)return o(f,y,"",r);var b=y.responseText.substring(r&&r.byteLength||0,y.responseText.length);if(r=Dk(r,t_(b,!0)),a=a||Bs(r),r.length<10||a&&r.length<a+2)return Tp(y,function(){return o(f,y,"",r)});var x=sh(r);return x==="ts"&&r.length<188?Tp(y,function(){return o(f,y,"",r)}):!x&&r.length<376?Tp(y,function(){return o(f,y,"",r)}):o(null,y,x,r)}},l={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(y){return y.total,y.loaded,yp(f,null,{statusCode:f.status},u)})}},c=n(l,function(h,f){return yp(c,h,f,u)});return c},iI=N.EventTarget,mx=N.mergeOptions,gx=function(e,n){if(!lx(e,n)||e.sidx&&n.sidx&&(e.sidx.offset!==n.sidx.offset||e.sidx.length!==n.sidx.length))return!1;if(!e.sidx&&n.sidx||e.sidx&&!n.sidx||e.segments&&!n.segments||!e.segments&&n.segments)return!1;if(!e.segments&&!n.segments)return!0;for(var i=0;i<e.segments.length;i++){var r=e.segments[i],a=n.segments[i];if(r.uri!==a.uri)return!1;if(!(!r.byterange&&!a.byterange)){var s=r.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},aI=function(e){var n=e.masterXml,i=e.srcUrl,r=e.clientOffset,a=e.sidxMapping,s=Sk(n,{manifestUri:i,clientOffset:r,sidxMapping:a});return sx(s,i),s},sI=function(e,n,i){for(var r=!0,a=mx(e,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod}),s=0;s<n.playlists.length;s++){var o=n.playlists[s];if(o.sidx){var u=Qu(o.sidx);i&&i[u]&&i[u].sidx&&Zf(o,i[u].sidx,o.sidx.resolvedUri)}var l=gp(a,o,gx);l&&(a=l,r=!1)}return ro(n,function(c,h,f,y){if(c.playlists&&c.playlists.length){var b=c.playlists[0].id,x=gp(a,c.playlists[0],gx);x&&(a=x,a.mediaGroups[h][f][y].playlists[0]=a.playlists[b],r=!1)}}),n.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:a},oI=function(e,n){var i=Boolean(!e.map&&!n.map),r=i||Boolean(e.map&&n.map&&e.map.byterange.offset===n.map.byterange.offset&&e.map.byterange.length===n.map.byterange.length);return r&&e.uri===n.uri&&e.byterange.offset===n.byterange.offset&&e.byterange.length===n.byterange.length},vx=function(e,n){var i={};for(var r in e){var a=e[r],s=a.sidx;if(s){var o=Qu(s);if(!n[o])break;var u=n[o].sidxInfo;oI(u,s)&&(i[o]=n[o])}}return i},uI=function(e,n){var i=vx(e.playlists,n),r=i;return ro(e,function(a,s,o,u){if(a.playlists&&a.playlists.length){var l=a.playlists;r=mx(r,vx(l,n))}}),r},xp=function(t){z(e,t);function e(i,r,a,s){var o;a===void 0&&(a={}),o=t.call(this)||this,o.masterPlaylistLoader_=s||ue(o),s||(o.isMaster_=!0);var u=a,l=u.withCredentials,c=l===void 0?!1:l,h=u.handleManifestRedirects,f=h===void 0?!1:h;if(o.vhs_=r,o.withCredentials=c,o.handleManifestRedirects=f,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=cr("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var n=e.prototype;return n.requestErrored_=function(r,a,s){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},n.addSidxSegments_=function(r,a,s){var o=this,u=r.sidx&&Qu(r.sidx);if(!r.sidx||!u||this.masterPlaylistLoader_.sidxMapping_[u]){this.mediaRequest_=D.setTimeout(function(){return s(!1)},0);return}var l=Il(this.handleManifestRedirects,r.sidx.resolvedUri),c=function(f,y){if(!o.requestErrored_(f,y,a)){var b=o.masterPlaylistLoader_.sidxMapping_,x;try{x=Ck(ie(y.response).subarray(8))}catch(v){o.requestErrored_(v,y,a);return}return b[u]={sidxInfo:r.sidx,sidx:x},Zf(r,x,r.sidx.resolvedUri),s(!0)}};this.request=nI(l,this.vhs_.xhr,function(h,f,y,b){if(h)return c(h,f);if(!y||y!=="mp4")return c({status:f.status,message:"Unsupported "+(y||"unknown")+" container type for sidx segment at URL: "+l,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},f);var x=r.sidx.byterange,v=x.offset,S=x.length;if(b.length>=S+v)return c(h,{response:b.subarray(v,v+S),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:l,responseType:"arraybuffer",headers:_p({byterange:r.sidx.byterange})},c)})},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},D.clearTimeout(this.minimumUpdatePeriodTimeout_),D.clearTimeout(this.mediaRequest_),D.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},n.media=function(r){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var o=!this.media_||r.id!==this.media_.id;if(o&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,s,function(u){a.haveMetadata({startingState:s,playlist:r})}))},n.haveMetadata=function(r){var a=r.startingState,s=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),D.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(D.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},n.load=function(r){var a=this;D.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(r){var o=s?s.targetDuration/2*1e3:5*1e3;this.mediaUpdateTimeout=D.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},n.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=D.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(a,s){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},n.requestMaster_=function(r){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var u=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=Il(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),u){a.handleMaster_(),a.syncClientServerClock_(function(){return r(o,u)});return}return r(o,u)})},n.syncClientServerClock_=function(r){var a=this,s=bk(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),r();this.request=this.vhs_.xhr({uri:lr(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,u){if(!!a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),r();var l;s.method==="HEAD"?!u.responseHeaders||!u.responseHeaders.date?l=a.masterLoaded_:l=Date.parse(u.responseHeaders.date):l=Date.parse(u.responseText),a.masterPlaylistLoader_.clientOffset_=l-Date.now(),r()}})},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var r=aI({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),a=this.masterPlaylistLoader_.master;a&&(r=sI(a,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||a;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!a||r&&r.minimumUpdatePeriod!==a.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},n.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(D.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var a=r.master&&r.master.minimumUpdatePeriod;if(a===0&&(r.media()?a=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},n.createMUPTimeout_=function(r){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=D.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(r)},r)},n.refreshXml_=function(){var r=this;this.requestMaster_(function(a,s){!s||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=uI(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(o){r.refreshMedia_(r.media().id)}))})},n.refreshMedia_=function(r){var a=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[r];if(o?this.media_=s[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var u=function l(){a.media().endList||(a.mediaUpdateTimeout=D.setTimeout(function(){a.trigger("mediaupdatetimeout"),l()},vp(a.media(),Boolean(o))))};u()}this.trigger("loadedplaylist")},e}(iI),et={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},lI=function(e){for(var n=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},yx=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},cI=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},_x=function(e){return function(){var n=cI(e),i=yx(new Worker(n));i.objURL=n;var r=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(n),r.call(this)},i}},Tx=function(e){return"var browserWorkerPolyFill = "+yx.toString()+`;
browserWorkerPolyFill(self);
`+e},xx=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},dI=Tx(xx(function(){var t=function(){this.init=function(){var d={};this.on=function(m,p){d[m]||(d[m]=[]),d[m]=d[m].concat(p)},this.off=function(m,p){var g;return d[m]?(g=d[m].indexOf(p),d[m]=d[m].slice(),d[m].splice(g,1),g>-1):!1},this.trigger=function(m){var p,g,_,T;if(p=d[m],!!p)if(arguments.length===2)for(_=p.length,g=0;g<_;++g)p[g].call(this,arguments[1]);else{for(T=[],g=arguments.length,g=1;g<arguments.length;++g)T.push(arguments[g]);for(_=p.length,g=0;g<_;++g)p[g].apply(this,T)}},this.dispose=function(){d={}}}};t.prototype.pipe=function(C){return this.on("data",function(d){C.push(d)}),this.on("done",function(d){C.flush(d)}),this.on("partialdone",function(d){C.partialFlush(d)}),this.on("endedtimeline",function(d){C.endTimeline(d)}),this.on("reset",function(d){C.reset(d)}),C},t.prototype.push=function(C){this.trigger("data",C)},t.prototype.flush=function(C){this.trigger("done",C)},t.prototype.partialFlush=function(C){this.trigger("partialdone",C)},t.prototype.endTimeline=function(C){this.trigger("endedtimeline",C)},t.prototype.reset=function(C){this.trigger("reset",C)};var e=t,n=Math.pow(2,32)-1,i,r,a,s,o,u,l,c,h,f,y,b,x,v,S,E,k,P,O,M,B,F,U,j,te,oe,ae,he,ne,fe,me,_e,re,ee,V,$;(function(){var C;if(U={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(C in U)U.hasOwnProperty(C)&&(U[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);j=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),oe=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),te=new Uint8Array([0,0,0,1]),ae=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),he=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ne={video:ae,audio:he},_e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),me=new Uint8Array([0,0,0,0,0,0,0,0]),re=new Uint8Array([0,0,0,0,0,0,0,0]),ee=re,V=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),$=re,fe=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(d){var m=[],p=0,g,_,T;for(g=1;g<arguments.length;g++)m.push(arguments[g]);for(g=m.length;g--;)p+=m[g].byteLength;for(_=new Uint8Array(p+8),T=new DataView(_.buffer,_.byteOffset,_.byteLength),T.setUint32(0,_.byteLength),_.set(d,4),g=0,p=8;g<m.length;g++)_.set(m[g],p),p+=m[g].byteLength;return _},r=function(){return i(U.dinf,i(U.dref,_e))},a=function(d){return i(U.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,d.audioobjecttype<<3|d.samplingfrequencyindex>>>1,d.samplingfrequencyindex<<7|d.channelcount<<3,6,1,2]))},s=function(){return i(U.ftyp,j,te,j,oe)},E=function(d){return i(U.hdlr,ne[d])},o=function(d){return i(U.mdat,d)},S=function(d){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,d.duration>>>24&255,d.duration>>>16&255,d.duration>>>8&255,d.duration&255,85,196,0,0]);return d.samplerate&&(m[12]=d.samplerate>>>24&255,m[13]=d.samplerate>>>16&255,m[14]=d.samplerate>>>8&255,m[15]=d.samplerate&255),i(U.mdhd,m)},v=function(d){return i(U.mdia,S(d),E(d.type),l(d))},u=function(d){return i(U.mfhd,new Uint8Array([0,0,0,0,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))},l=function(d){return i(U.minf,d.type==="video"?i(U.vmhd,fe):i(U.smhd,me),r(),P(d))},c=function(d,m){for(var p=[],g=m.length;g--;)p[g]=M(m[g]);return i.apply(null,[U.moof,u(d)].concat(p))},h=function(d){for(var m=d.length,p=[];m--;)p[m]=b(d[m]);return i.apply(null,[U.moov,y(4294967295)].concat(p).concat(f(d)))},f=function(d){for(var m=d.length,p=[];m--;)p[m]=B(d[m]);return i.apply(null,[U.mvex].concat(p))},y=function(d){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(U.mvhd,m)},k=function(d){var m=d.samples||[],p=new Uint8Array(4+m.length),g,_;for(_=0;_<m.length;_++)g=m[_].flags,p[_+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return i(U.sdtp,p)},P=function(d){return i(U.stbl,O(d),i(U.stts,$),i(U.stsc,ee),i(U.stsz,V),i(U.stco,re))},function(){var C,d;O=function(p){return i(U.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),p.type==="video"?C(p):d(p))},C=function(p){var g=p.sps||[],_=p.pps||[],T=[],w=[],A,L;for(A=0;A<g.length;A++)T.push((g[A].byteLength&65280)>>>8),T.push(g[A].byteLength&255),T=T.concat(Array.prototype.slice.call(g[A]));for(A=0;A<_.length;A++)w.push((_[A].byteLength&65280)>>>8),w.push(_[A].byteLength&255),w=w.concat(Array.prototype.slice.call(_[A]));if(L=[U.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(p.width&65280)>>8,p.width&255,(p.height&65280)>>8,p.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(U.avcC,new Uint8Array([1,p.profileIdc,p.profileCompatibility,p.levelIdc,255].concat([g.length],T,[_.length],w))),i(U.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],p.sarRatio){var I=p.sarRatio[0],R=p.sarRatio[1];L.push(i(U.pasp,new Uint8Array([(I&4278190080)>>24,(I&16711680)>>16,(I&65280)>>8,I&255,(R&4278190080)>>24,(R&16711680)>>16,(R&65280)>>8,R&255])))}return i.apply(null,L)},d=function(p){return i(U.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(p.channelcount&65280)>>8,p.channelcount&255,(p.samplesize&65280)>>8,p.samplesize&255,0,0,0,0,(p.samplerate&65280)>>8,p.samplerate&255,0,0]),a(p))}}(),x=function(d){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,0,(d.duration&4278190080)>>24,(d.duration&16711680)>>16,(d.duration&65280)>>8,d.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(d.width&65280)>>8,d.width&255,0,0,(d.height&65280)>>8,d.height&255,0,0]);return i(U.tkhd,m)},M=function(d){var m,p,g,_,T,w,A;return m=i(U.tfhd,new Uint8Array([0,0,0,58,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),w=Math.floor(d.baseMediaDecodeTime/(n+1)),A=Math.floor(d.baseMediaDecodeTime%(n+1)),p=i(U.tfdt,new Uint8Array([1,0,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255])),T=32+20+8+16+8+8,d.type==="audio"?(g=F(d,T),i(U.traf,m,p,g)):(_=k(d),g=F(d,_.length+T),i(U.traf,m,p,g,_))},b=function(d){return d.duration=d.duration||4294967295,i(U.trak,x(d),v(d))},B=function(d){var m=new Uint8Array([0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return d.type!=="video"&&(m[m.length-1]=0),i(U.trex,m)},function(){var C,d,m;m=function(g,_){var T=0,w=0,A=0,L=0;return g.length&&(g[0].duration!==void 0&&(T=1),g[0].size!==void 0&&(w=2),g[0].flags!==void 0&&(A=4),g[0].compositionTimeOffset!==void 0&&(L=8)),[0,0,T|w|A|L,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(_&4278190080)>>>24,(_&16711680)>>>16,(_&65280)>>>8,_&255]},d=function(g,_){var T,w,A,L,I,R;for(L=g.samples||[],_+=8+12+16*L.length,A=m(L,_),w=new Uint8Array(A.length+L.length*16),w.set(A),T=A.length,R=0;R<L.length;R++)I=L[R],w[T++]=(I.duration&4278190080)>>>24,w[T++]=(I.duration&16711680)>>>16,w[T++]=(I.duration&65280)>>>8,w[T++]=I.duration&255,w[T++]=(I.size&4278190080)>>>24,w[T++]=(I.size&16711680)>>>16,w[T++]=(I.size&65280)>>>8,w[T++]=I.size&255,w[T++]=I.flags.isLeading<<2|I.flags.dependsOn,w[T++]=I.flags.isDependedOn<<6|I.flags.hasRedundancy<<4|I.flags.paddingValue<<1|I.flags.isNonSyncSample,w[T++]=I.flags.degradationPriority&240<<8,w[T++]=I.flags.degradationPriority&15,w[T++]=(I.compositionTimeOffset&4278190080)>>>24,w[T++]=(I.compositionTimeOffset&16711680)>>>16,w[T++]=(I.compositionTimeOffset&65280)>>>8,w[T++]=I.compositionTimeOffset&255;return i(U.trun,w)},C=function(g,_){var T,w,A,L,I,R;for(L=g.samples||[],_+=8+12+8*L.length,A=m(L,_),T=new Uint8Array(A.length+L.length*8),T.set(A),w=A.length,R=0;R<L.length;R++)I=L[R],T[w++]=(I.duration&4278190080)>>>24,T[w++]=(I.duration&16711680)>>>16,T[w++]=(I.duration&65280)>>>8,T[w++]=I.duration&255,T[w++]=(I.size&4278190080)>>>24,T[w++]=(I.size&16711680)>>>16,T[w++]=(I.size&65280)>>>8,T[w++]=I.size&255;return i(U.trun,T)},F=function(g,_){return g.type==="audio"?C(g,_):d(g,_)}}();var Q={ftyp:s,mdat:o,moof:c,moov:h,initSegment:function(d){var m=s(),p=h(d),g;return g=new Uint8Array(m.byteLength+p.byteLength),g.set(m),g.set(p,m.byteLength),g}},ce=function(d){var m,p,g=[],_=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,g.byteLength=0,m=0;m<d.length;m++)p=d[m],p.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=p.dts-g.dts,_.byteLength+=g.byteLength,_.nalCount+=g.length,_.duration+=g.duration,_.push(g)),g=[p],g.byteLength=p.data.byteLength,g.pts=p.pts,g.dts=p.dts):(p.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=p.dts-g.dts,g.byteLength+=p.data.byteLength,g.push(p));return _.length&&(!g.duration||g.duration<=0)&&(g.duration=_[_.length-1].duration),_.byteLength+=g.byteLength,_.nalCount+=g.length,_.duration+=g.duration,_.push(g),_},ge=function(d){var m,p,g=[],_=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=d[0].pts,g.dts=d[0].dts,_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=d[0].pts,_.dts=d[0].dts,m=0;m<d.length;m++)p=d[m],p.keyFrame?(g.length&&(_.push(g),_.byteLength+=g.byteLength,_.nalCount+=g.nalCount,_.duration+=g.duration),g=[p],g.nalCount=p.length,g.byteLength=p.byteLength,g.pts=p.pts,g.dts=p.dts,g.duration=p.duration):(g.duration+=p.duration,g.nalCount+=p.length,g.byteLength+=p.byteLength,g.push(p));return _.length&&g.duration<=0&&(g.duration=_[_.length-1].duration),_.byteLength+=g.byteLength,_.nalCount+=g.nalCount,_.duration+=g.duration,_.push(g),_},He=function(d){var m;return!d[0][0].keyFrame&&d.length>1&&(m=d.shift(),d.byteLength-=m.byteLength,d.nalCount-=m.nalCount,d[0][0].dts=m.dts,d[0][0].pts=m.pts,d[0][0].duration+=m.duration),d},Fe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ut=function(d,m){var p=Fe();return p.dataOffset=m,p.compositionTimeOffset=d.pts-d.dts,p.duration=d.duration,p.size=4*d.length,p.size+=d.byteLength,d.keyFrame&&(p.flags.dependsOn=2,p.flags.isNonSyncSample=0),p},er=function(d,m){var p,g,_,T,w,A=m||0,L=[];for(p=0;p<d.length;p++)for(T=d[p],g=0;g<T.length;g++)w=T[g],_=ut(w,A),A+=_.size,L.push(_);return L},OS=function(d){var m,p,g,_,T,w,A=0,L=d.byteLength,I=d.nalCount,R=L+4*I,H=new Uint8Array(R),X=new DataView(H.buffer);for(m=0;m<d.length;m++)for(_=d[m],p=0;p<_.length;p++)for(T=_[p],g=0;g<T.length;g++)w=T[g],X.setUint32(A,w.data.byteLength),A+=4,H.set(w.data,A),A+=w.data.byteLength;return H},RS=function(d,m){var p,g=m||0,_=[];return p=ut(d,g),_.push(p),_},MS=function(d){var m,p,g=0,_=d.byteLength,T=d.length,w=_+4*T,A=new Uint8Array(w),L=new DataView(A.buffer);for(m=0;m<d.length;m++)p=d[m],L.setUint32(g,p.data.byteLength),g+=4,A.set(p.data,g),g+=p.data.byteLength;return A},_a={groupNalsIntoFrames:ce,groupFramesIntoGops:ge,extendFirstKeyFrame:He,generateSampleTable:er,concatenateNalData:OS,generateSampleTableForFrame:RS,concatenateNalDataForFrame:MS},qr=[33,16,5,32,164,27],ac=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Se=function(d){for(var m=[];d--;)m.push(0);return m},NS=function(d){return Object.keys(d).reduce(function(m,p){return m[p]=new Uint8Array(d[p].reduce(function(g,_){return g.concat(_)},[])),m},{})},sc,FS=function(){if(!sc){var d={96e3:[qr,[227,64],Se(154),[56]],88200:[qr,[231],Se(170),[56]],64e3:[qr,[248,192],Se(240),[56]],48e3:[qr,[255,192],Se(268),[55,148,128],Se(54),[112]],44100:[qr,[255,192],Se(268),[55,163,128],Se(84),[112]],32e3:[qr,[255,192],Se(268),[55,234],Se(226),[112]],24e3:[qr,[255,192],Se(268),[55,255,128],Se(268),[111,112],Se(126),[224]],16e3:[qr,[255,192],Se(268),[55,255,128],Se(268),[111,255],Se(269),[223,108],Se(195),[1,192]],12e3:[ac,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,253,128],Se(259),[56]],11025:[ac,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,255,192],Se(268),[55,175,128],Se(108),[112]],8e3:[ac,Se(268),[3,121,16],Se(47),[7]]};sc=NS(d)}return sc},oc=9e4,uc,lc,lo,cc,qp,Kp,Xp;uc=function(d){return d*oc},lc=function(d,m){return d*m},lo=function(d){return d/oc},cc=function(d,m){return d/m},qp=function(d,m){return uc(cc(d,m))},Kp=function(d,m){return lc(lo(d),m)},Xp=function(d,m,p){return lo(p?d:d-m)};var Te={ONE_SECOND_IN_TS:oc,secondsToVideoTs:uc,secondsToAudioTs:lc,videoTsToSeconds:lo,audioTsToSeconds:cc,audioTsToVideoTs:qp,videoTsToAudioTs:Kp,metadataTsToSeconds:Xp},US=function(d){var m,p,g=0;for(m=0;m<d.length;m++)p=d[m],g+=p.data.byteLength;return g},BS=function(d,m,p,g){var _,T=0,w=0,A=0,L=0,I,R,H;if(!!m.length&&(_=Te.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),T=Math.ceil(Te.ONE_SECOND_IN_TS/(d.samplerate/1024)),p&&g&&(w=_-Math.max(p,g),A=Math.floor(w/T),L=A*T),!(A<1||L>Te.ONE_SECOND_IN_TS/2))){for(I=FS()[d.samplerate],I||(I=m[0].data),R=0;R<A;R++)H=m[0],m.splice(0,0,{data:I,dts:H.dts-T,pts:H.pts-T});return d.baseMediaDecodeTime-=Math.floor(Te.videoTsToAudioTs(L,d.samplerate)),L}},jS=function(d,m,p){return m.minSegmentDts>=p?d:(m.minSegmentDts=1/0,d.filter(function(g){return g.dts>=p?(m.minSegmentDts=Math.min(m.minSegmentDts,g.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},HS=function(d){var m,p,g=[];for(m=0;m<d.length;m++)p=d[m],g.push({size:p.data.byteLength,duration:1024});return g},VS=function(d){var m,p,g=0,_=new Uint8Array(US(d));for(m=0;m<d.length;m++)p=d[m],_.set(p.data,g),g+=p.data.byteLength;return _},co={prefixWithSilence:BS,trimAdtsFramesByEarliestDts:jS,generateSampleTable:HS,concatenateFrameData:VS},WS=Te.ONE_SECOND_IN_TS,zS=function(d,m){typeof m.pts=="number"&&(d.timelineStartInfo.pts===void 0&&(d.timelineStartInfo.pts=m.pts),d.minSegmentPts===void 0?d.minSegmentPts=m.pts:d.minSegmentPts=Math.min(d.minSegmentPts,m.pts),d.maxSegmentPts===void 0?d.maxSegmentPts=m.pts:d.maxSegmentPts=Math.max(d.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(d.timelineStartInfo.dts===void 0&&(d.timelineStartInfo.dts=m.dts),d.minSegmentDts===void 0?d.minSegmentDts=m.dts:d.minSegmentDts=Math.min(d.minSegmentDts,m.dts),d.maxSegmentDts===void 0?d.maxSegmentDts=m.dts:d.maxSegmentDts=Math.max(d.maxSegmentDts,m.dts))},$S=function(d){delete d.minSegmentDts,delete d.maxSegmentDts,delete d.minSegmentPts,delete d.maxSegmentPts},GS=function(d,m){var p,g,_=d.minSegmentDts;return m||(_-=d.timelineStartInfo.dts),p=d.timelineStartInfo.baseMediaDecodeTime,p+=_,p=Math.max(0,p),d.type==="audio"&&(g=d.samplerate/WS,p*=g,p=Math.floor(p)),p},tr={clearDtsInfo:$S,calculateTrackBaseMediaDecodeTime:GS,collectDtsInfo:zS},Qp=4,qS=128,KS=function(d){for(var m=0,p={payloadType:-1,payloadSize:0},g=0,_=0;m<d.byteLength&&d[m]!==qS;){for(;d[m]===255;)g+=255,m++;for(g+=d[m++];d[m]===255;)_+=255,m++;if(_+=d[m++],!p.payload&&g===Qp){var T=String.fromCharCode(d[m+3],d[m+4],d[m+5],d[m+6]);if(T==="GA94"){p.payloadType=g,p.payloadSize=_,p.payload=d.subarray(m,m+_);break}else p.payload=void 0}m+=_,g=0,_=0}return p},XS=function(d){return d.payload[0]!==181||(d.payload[1]<<8|d.payload[2])!=49||String.fromCharCode(d.payload[3],d.payload[4],d.payload[5],d.payload[6])!=="GA94"||d.payload[7]!==3?null:d.payload.subarray(8,d.payload.length-1)},QS=function(d,m){var p=[],g,_,T,w;if(!(m[0]&64))return p;for(_=m[0]&31,g=0;g<_;g++)T=g*3,w={type:m[T+2]&3,pts:d},m[T+2]&4&&(w.ccData=m[T+3]<<8|m[T+4],p.push(w));return p},YS=function(d){for(var m=d.byteLength,p=[],g=1,_,T;g<m-2;)d[g]===0&&d[g+1]===0&&d[g+2]===3?(p.push(g+2),g+=2):g++;if(p.length===0)return d;_=m-p.length,T=new Uint8Array(_);var w=0;for(g=0;g<_;w++,g++)w===p[0]&&(w++,p.shift()),T[g]=d[w];return T},Ta={parseSei:KS,parseUserData:XS,parseCaptionPackets:QS,discardEmulationPreventionBytes:YS,USER_DATA_REGISTERED_ITU_T_T35:Qp},Nt=function C(d){d=d||{},C.prototype.init.call(this),this.parse708captions_=typeof d.parse708captions=="boolean"?d.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ne(0,0),new Ne(0,1),new Ne(1,0),new Ne(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ce({captionServices:d.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Nt.prototype=new e,Nt.prototype.push=function(C){var d,m,p;if(C.nalUnitType==="sei_rbsp"&&(d=Ta.parseSei(C.escapedRBSP),!!d.payload&&d.payloadType===Ta.USER_DATA_REGISTERED_ITU_T_T35&&(m=Ta.parseUserData(d),!!m))){if(C.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(C.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}p=Ta.parseCaptionPackets(C.pts,m),this.captionPackets_=this.captionPackets_.concat(p),this.latestDts_!==C.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=C.dts}},Nt.prototype.flushCCStreams=function(C){this.ccStreams_.forEach(function(d){return C==="flush"?d.flush():d.partialFlush()},this)},Nt.prototype.flushStream=function(C){if(!this.captionPackets_.length){this.flushCCStreams(C);return}this.captionPackets_.forEach(function(d,m){d.presortIndex=m}),this.captionPackets_.sort(function(d,m){return d.pts===m.pts?d.presortIndex-m.presortIndex:d.pts-m.pts}),this.captionPackets_.forEach(function(d){d.type<2?this.dispatchCea608Packet(d):this.dispatchCea708Packet(d)},this),this.captionPackets_.length=0,this.flushCCStreams(C)},Nt.prototype.flush=function(){return this.flushStream("flush")},Nt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Nt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(C){C.reset()})},Nt.prototype.dispatchCea608Packet=function(C){this.setsTextOrXDSActive(C)?this.activeCea608Channel_[C.type]=null:this.setsChannel1Active(C)?this.activeCea608Channel_[C.type]=0:this.setsChannel2Active(C)&&(this.activeCea608Channel_[C.type]=1),this.activeCea608Channel_[C.type]!==null&&this.ccStreams_[(C.type<<1)+this.activeCea608Channel_[C.type]].push(C)},Nt.prototype.setsChannel1Active=function(C){return(C.ccData&30720)==4096},Nt.prototype.setsChannel2Active=function(C){return(C.ccData&30720)==6144},Nt.prototype.setsTextOrXDSActive=function(C){return(C.ccData&28928)==256||(C.ccData&30974)==4138||(C.ccData&30974)==6186},Nt.prototype.dispatchCea708Packet=function(C){this.parse708captions_&&this.cc708Stream_.push(C)};var JS={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ZS=function(d){var m=JS[d]||d;return d&4096&&d===m?"":String.fromCharCode(m)},fo=function(d){return 32<=d&&d<=127||160<=d&&d<=255},Cr=function(d){this.windowNum=d,this.reset()};Cr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Cr.prototype.getText=function(){return this.rows.join(`
`)},Cr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Cr.prototype.newLine=function(C){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(C),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Cr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Cr.prototype.addText=function(C){this.rows[this.rowIdx]+=C},Cr.prototype.backspace=function(){if(!this.isEmpty()){var C=this.rows[this.rowIdx];this.rows[this.rowIdx]=C.substr(0,C.length-1)}};var ho=function(d,m,p){this.serviceNum=d,this.text="",this.currentWindow=new Cr(-1),this.windows=[],this.stream=p,typeof m=="string"&&this.createTextDecoder(m)};ho.prototype.init=function(C,d){this.startPts=C;for(var m=0;m<8;m++)this.windows[m]=new Cr(m),typeof d=="function"&&(this.windows[m].beforeRowOverflow=d)},ho.prototype.setCurrentWindow=function(C){this.currentWindow=this.windows[C]},ho.prototype.createTextDecoder=function(C){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(C)}catch(d){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+C+" encoding. "+d})}};var Ce=function C(d){d=d||{},C.prototype.init.call(this);var m=this,p=d.captionServices||{},g={},_;Object.keys(p).forEach(function(T){_=p[T],/^SERVICE/.test(T)&&(g[T]=_.encoding)}),this.serviceEncodings=g,this.current708Packet=null,this.services={},this.push=function(T){T.type===3?(m.new708Packet(),m.add708Bytes(T)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(T))}};Ce.prototype=new e,Ce.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ce.prototype.add708Bytes=function(C){var d=C.ccData,m=d>>>8,p=d&255;this.current708Packet.ptsVals.push(C.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(p)},Ce.prototype.push708Packet=function(){var C=this.current708Packet,d=C.data,m=null,p=null,g=0,_=d[g++];for(C.seq=_>>6,C.sizeCode=_&63;g<d.length;g++)_=d[g++],m=_>>5,p=_&31,m===7&&p>0&&(_=d[g++],m=_),this.pushServiceBlock(m,g,p),p>0&&(g+=p-1)},Ce.prototype.pushServiceBlock=function(C,d,m){var p,g=d,_=this.current708Packet.data,T=this.services[C];for(T||(T=this.initService(C,g));g<d+m&&g<_.length;g++)p=_[g],fo(p)?g=this.handleText(g,T):p===24?g=this.multiByteCharacter(g,T):p===16?g=this.extendedCommands(g,T):128<=p&&p<=135?g=this.setCurrentWindow(g,T):152<=p&&p<=159?g=this.defineWindow(g,T):p===136?g=this.clearWindows(g,T):p===140?g=this.deleteWindows(g,T):p===137?g=this.displayWindows(g,T):p===138?g=this.hideWindows(g,T):p===139?g=this.toggleWindows(g,T):p===151?g=this.setWindowAttributes(g,T):p===144?g=this.setPenAttributes(g,T):p===145?g=this.setPenColor(g,T):p===146?g=this.setPenLocation(g,T):p===143?T=this.reset(g,T):p===8?T.currentWindow.backspace():p===12?T.currentWindow.clearText():p===13?T.currentWindow.pendingNewLine=!0:p===14?T.currentWindow.clearText():p===141&&g++},Ce.prototype.extendedCommands=function(C,d){var m=this.current708Packet.data,p=m[++C];return fo(p)&&(C=this.handleText(C,d,{isExtended:!0})),C},Ce.prototype.getPts=function(C){return this.current708Packet.ptsVals[Math.floor(C/2)]},Ce.prototype.initService=function(C,d){var m="SERVICE"+C,p=this,m,g;return m in this.serviceEncodings&&(g=this.serviceEncodings[m]),this.services[C]=new ho(C,g,p),this.services[C].init(this.getPts(d),function(_){p.flushDisplayed(_,p.services[C])}),this.services[C]},Ce.prototype.handleText=function(C,d,m){var p=m&&m.isExtended,g=m&&m.isMultiByte,_=this.current708Packet.data,T=p?4096:0,w=_[C],A=_[C+1],L=d.currentWindow,I,R;return d.textDecoder_&&!p?(g?(R=[w,A],C++):R=[w],I=d.textDecoder_.decode(new Uint8Array(R))):I=ZS(T|w),L.pendingNewLine&&!L.isEmpty()&&L.newLine(this.getPts(C)),L.pendingNewLine=!1,L.addText(I),C},Ce.prototype.multiByteCharacter=function(C,d){var m=this.current708Packet.data,p=m[C+1],g=m[C+2];return fo(p)&&fo(g)&&(C=this.handleText(++C,d,{isMultiByte:!0})),C},Ce.prototype.setCurrentWindow=function(C,d){var m=this.current708Packet.data,p=m[C],g=p&7;return d.setCurrentWindow(g),C},Ce.prototype.defineWindow=function(C,d){var m=this.current708Packet.data,p=m[C],g=p&7;d.setCurrentWindow(g);var _=d.currentWindow;return p=m[++C],_.visible=(p&32)>>5,_.rowLock=(p&16)>>4,_.columnLock=(p&8)>>3,_.priority=p&7,p=m[++C],_.relativePositioning=(p&128)>>7,_.anchorVertical=p&127,p=m[++C],_.anchorHorizontal=p,p=m[++C],_.anchorPoint=(p&240)>>4,_.rowCount=p&15,p=m[++C],_.columnCount=p&63,p=m[++C],_.windowStyle=(p&56)>>3,_.penStyle=p&7,_.virtualRowCount=_.rowCount+1,C},Ce.prototype.setWindowAttributes=function(C,d){var m=this.current708Packet.data,p=m[C],g=d.currentWindow.winAttr;return p=m[++C],g.fillOpacity=(p&192)>>6,g.fillRed=(p&48)>>4,g.fillGreen=(p&12)>>2,g.fillBlue=p&3,p=m[++C],g.borderType=(p&192)>>6,g.borderRed=(p&48)>>4,g.borderGreen=(p&12)>>2,g.borderBlue=p&3,p=m[++C],g.borderType+=(p&128)>>5,g.wordWrap=(p&64)>>6,g.printDirection=(p&48)>>4,g.scrollDirection=(p&12)>>2,g.justify=p&3,p=m[++C],g.effectSpeed=(p&240)>>4,g.effectDirection=(p&12)>>2,g.displayEffect=p&3,C},Ce.prototype.flushDisplayed=function(C,d){for(var m=[],p=0;p<8;p++)d.windows[p].visible&&!d.windows[p].isEmpty()&&m.push(d.windows[p].getText());d.endPts=C,d.text=m.join(`

`),this.pushCaption(d),d.startPts=C},Ce.prototype.pushCaption=function(C){C.text!==""&&(this.trigger("data",{startPts:C.startPts,endPts:C.endPts,text:C.text,stream:"cc708_"+C.serviceNum}),C.text="",C.startPts=C.endPts)},Ce.prototype.displayWindows=function(C,d){var m=this.current708Packet.data,p=m[++C],g=this.getPts(C);this.flushDisplayed(g,d);for(var _=0;_<8;_++)p&1<<_&&(d.windows[_].visible=1);return C},Ce.prototype.hideWindows=function(C,d){var m=this.current708Packet.data,p=m[++C],g=this.getPts(C);this.flushDisplayed(g,d);for(var _=0;_<8;_++)p&1<<_&&(d.windows[_].visible=0);return C},Ce.prototype.toggleWindows=function(C,d){var m=this.current708Packet.data,p=m[++C],g=this.getPts(C);this.flushDisplayed(g,d);for(var _=0;_<8;_++)p&1<<_&&(d.windows[_].visible^=1);return C},Ce.prototype.clearWindows=function(C,d){var m=this.current708Packet.data,p=m[++C],g=this.getPts(C);this.flushDisplayed(g,d);for(var _=0;_<8;_++)p&1<<_&&d.windows[_].clearText();return C},Ce.prototype.deleteWindows=function(C,d){var m=this.current708Packet.data,p=m[++C],g=this.getPts(C);this.flushDisplayed(g,d);for(var _=0;_<8;_++)p&1<<_&&d.windows[_].reset();return C},Ce.prototype.setPenAttributes=function(C,d){var m=this.current708Packet.data,p=m[C],g=d.currentWindow.penAttr;return p=m[++C],g.textTag=(p&240)>>4,g.offset=(p&12)>>2,g.penSize=p&3,p=m[++C],g.italics=(p&128)>>7,g.underline=(p&64)>>6,g.edgeType=(p&56)>>3,g.fontStyle=p&7,C},Ce.prototype.setPenColor=function(C,d){var m=this.current708Packet.data,p=m[C],g=d.currentWindow.penColor;return p=m[++C],g.fgOpacity=(p&192)>>6,g.fgRed=(p&48)>>4,g.fgGreen=(p&12)>>2,g.fgBlue=p&3,p=m[++C],g.bgOpacity=(p&192)>>6,g.bgRed=(p&48)>>4,g.bgGreen=(p&12)>>2,g.bgBlue=p&3,p=m[++C],g.edgeRed=(p&48)>>4,g.edgeGreen=(p&12)>>2,g.edgeBlue=p&3,C},Ce.prototype.setPenLocation=function(C,d){var m=this.current708Packet.data,p=m[C],g=d.currentWindow.penLoc;return d.currentWindow.pendingNewLine=!0,p=m[++C],g.row=p&15,p=m[++C],g.column=p&63,C},Ce.prototype.reset=function(C,d){var m=this.getPts(C);return this.flushDisplayed(m,d),this.initService(d.serviceNum,C)};var eb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},po=function(d){return d===null?"":(d=eb[d]||d,String.fromCharCode(d))},mo=14,tb=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],xn=function(){for(var d=[],m=mo+1;m--;)d.push("");return d},Ne=function C(d,m){C.prototype.init.call(this),this.field_=d||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(p){var g,_,T,w,A;if(g=p.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)==4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),T=g>>>8,w=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(p.pts),this.flushDisplayed(p.pts),_=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=_,this.startPts_=p.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(p.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(p.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(p.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(p.pts),this.flushDisplayed(p.pts),this.shiftRowsUp_(),this.startPts_=p.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(p.pts),this.displayed_=xn();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=xn();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(p.pts),this.displayed_=xn()),this.mode_="paintOn",this.startPts_=p.pts;else if(this.isSpecialCharacter(T,w))T=(T&3)<<8,A=po(T|w),this[this.mode_](p.pts,A),this.column_++;else if(this.isExtCharacter(T,w))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),T=(T&3)<<8,A=po(T|w),this[this.mode_](p.pts,A),this.column_++;else if(this.isMidRowCode(T,w))this.clearFormatting(p.pts),this[this.mode_](p.pts," "),this.column_++,(w&14)==14&&this.addFormatting(p.pts,["i"]),(w&1)==1&&this.addFormatting(p.pts,["u"]);else if(this.isOffsetControlCode(T,w))this.column_+=w&3;else if(this.isPAC(T,w)){var L=tb.indexOf(g&7968);this.mode_==="rollUp"&&(L-this.rollUpRows_+1<0&&(L=this.rollUpRows_-1),this.setRollUp(p.pts,L)),L!==this.row_&&(this.clearFormatting(p.pts),this.row_=L),w&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(p.pts,["u"]),(g&16)==16&&(this.column_=((g&14)>>1)*4),this.isColorPAC(w)&&(w&14)==14&&this.addFormatting(p.pts,["i"])}else this.isNormalChar(T)&&(w===0&&(w=null),A=po(T),A+=po(w),this[this.mode_](p.pts,A),this.column_+=A.length)}};Ne.prototype=new e,Ne.prototype.flushDisplayed=function(C){var d=this.displayed_.map(function(m,p){try{return m.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+p+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");d.length&&this.trigger("data",{startPts:this.startPts_,endPts:C,text:d,stream:this.name_})},Ne.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=xn(),this.nonDisplayed_=xn(),this.lastControlCode_=null,this.column_=0,this.row_=mo,this.rollUpRows_=2,this.formatting_=[]},Ne.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ne.prototype.isSpecialCharacter=function(C,d){return C===this.EXT_&&d>=48&&d<=63},Ne.prototype.isExtCharacter=function(C,d){return(C===this.EXT_+1||C===this.EXT_+2)&&d>=32&&d<=63},Ne.prototype.isMidRowCode=function(C,d){return C===this.EXT_&&d>=32&&d<=47},Ne.prototype.isOffsetControlCode=function(C,d){return C===this.OFFSET_&&d>=33&&d<=35},Ne.prototype.isPAC=function(C,d){return C>=this.BASE_&&C<this.BASE_+8&&d>=64&&d<=127},Ne.prototype.isColorPAC=function(C){return C>=64&&C<=79||C>=96&&C<=127},Ne.prototype.isNormalChar=function(C){return C>=32&&C<=127},Ne.prototype.setRollUp=function(C,d){if(this.mode_!=="rollUp"&&(this.row_=mo,this.mode_="rollUp",this.flushDisplayed(C),this.nonDisplayed_=xn(),this.displayed_=xn()),d!==void 0&&d!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[d-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";d===void 0&&(d=this.row_),this.topRow_=d-this.rollUpRows_+1},Ne.prototype.addFormatting=function(C,d){this.formatting_=this.formatting_.concat(d);var m=d.reduce(function(p,g){return p+"<"+g+">"},"");this[this.mode_](C,m)},Ne.prototype.clearFormatting=function(C){if(!!this.formatting_.length){var d=this.formatting_.reverse().reduce(function(m,p){return m+"</"+p+">"},"");this.formatting_=[],this[this.mode_](C,d)}},Ne.prototype.popOn=function(C,d){var m=this.nonDisplayed_[this.row_];m+=d,this.nonDisplayed_[this.row_]=m},Ne.prototype.rollUp=function(C,d){var m=this.displayed_[this.row_];m+=d,this.displayed_[this.row_]=m},Ne.prototype.shiftRowsUp_=function(){var C;for(C=0;C<this.topRow_;C++)this.displayed_[C]="";for(C=this.row_+1;C<mo+1;C++)this.displayed_[C]="";for(C=this.topRow_;C<this.row_;C++)this.displayed_[C]=this.displayed_[C+1];this.displayed_[this.row_]=""},Ne.prototype.paintOn=function(C,d){var m=this.displayed_[this.row_];m+=d,this.displayed_[this.row_]=m};var go={CaptionStream:Nt,Cea608Stream:Ne,Cea708Stream:Ce},rt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},rb=8589934592,nb=4294967296,Yp="shared",dc=function(d,m){var p=1;for(d>m&&(p=-1);Math.abs(m-d)>nb;)d+=p*rb;return d},Jp=function C(d){var m,p;C.prototype.init.call(this),this.type_=d||Yp,this.push=function(g){this.type_!==Yp&&g.type!==this.type_||(p===void 0&&(p=g.dts),g.dts=dc(g.dts,p),g.pts=dc(g.pts,p),m=g.dts,this.trigger("data",g))},this.flush=function(){p=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){p=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Jp.prototype=new e;var Zp={TimestampRolloverStream:Jp,handleRollover:dc},em=function(d,m,p){var g,_="";for(g=m;g<p;g++)_+="%"+("00"+d[g].toString(16)).slice(-2);return _},vo=function(d,m,p){return decodeURIComponent(em(d,m,p))},ib=function(d,m,p){return unescape(em(d,m,p))},yo=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},tm={TXXX:function(d){var m;if(d.data[0]===3){for(m=1;m<d.data.length;m++)if(d.data[m]===0){d.description=vo(d.data,1,m),d.value=vo(d.data,m+1,d.data.length).replace(/\0*$/,"");break}d.data=d.value}},WXXX:function(d){var m;if(d.data[0]===3){for(m=1;m<d.data.length;m++)if(d.data[m]===0){d.description=vo(d.data,1,m),d.url=vo(d.data,m+1,d.data.length);break}}},PRIV:function(d){var m;for(m=0;m<d.data.length;m++)if(d.data[m]===0){d.owner=ib(d.data,0,m);break}d.privateData=d.data.subarray(m+1),d.data=d.privateData}},_o;_o=function(d){var m={descriptor:d&&d.descriptor},p=0,g=[],_=0,T;if(_o.prototype.init.call(this),this.dispatchType=rt.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(T=0;T<m.descriptor.length;T++)this.dispatchType+=("00"+m.descriptor[T].toString(16)).slice(-2);this.push=function(w){var A,L,I,R,H,X;if(w.type==="timed-metadata"){if(w.dataAlignmentIndicator&&(_=0,g.length=0),g.length===0&&(w.data.length<10||w.data[0]!=="I".charCodeAt(0)||w.data[1]!=="D".charCodeAt(0)||w.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(g.push(w),_+=w.data.byteLength,g.length===1&&(p=yo(w.data.subarray(6,10)),p+=10),!(_<p)){for(A={data:new Uint8Array(p),frames:[],pts:g[0].pts,dts:g[0].dts},H=0;H<p;)A.data.set(g[0].data.subarray(0,p-H),H),H+=g[0].data.byteLength,_-=g[0].data.byteLength,g.shift();L=10,A.data[5]&64&&(L+=4,L+=yo(A.data.subarray(10,14)),p-=yo(A.data.subarray(16,20)));do{if(I=yo(A.data.subarray(L+4,L+8)),I<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(X=String.fromCharCode(A.data[L],A.data[L+1],A.data[L+2],A.data[L+3]),R={id:X,data:A.data.subarray(L+10,L+I+10)},R.key=R.id,tm[R.id]&&(tm[R.id](R),R.owner==="com.apple.streaming.transportStreamTimestamp")){var Z=R.data,G=(Z[3]&1)<<30|Z[4]<<22|Z[5]<<14|Z[6]<<6|Z[7]>>>2;G*=4,G+=Z[7]&3,R.timeStamp=G,A.pts===void 0&&A.dts===void 0&&(A.pts=R.timeStamp,A.dts=R.timeStamp),this.trigger("timestamp",R)}A.frames.push(R),L+=10,L+=I}while(L<p);this.trigger("data",A)}}}},_o.prototype=new e;var ab=_o,sb=Zp.TimestampRolloverStream,To,xa,xo,ti=188,fc=71;To=function(){var d=new Uint8Array(ti),m=0;To.prototype.init.call(this),this.push=function(p){var g=0,_=ti,T;for(m?(T=new Uint8Array(p.byteLength+m),T.set(d.subarray(0,m)),T.set(p,m),m=0):T=p;_<T.byteLength;){if(T[g]===fc&&T[_]===fc){this.trigger("data",T.subarray(g,_)),g+=ti,_+=ti;continue}g++,_++}g<T.byteLength&&(d.set(T.subarray(g),0),m=T.byteLength-g)},this.flush=function(){m===ti&&d[0]===fc&&(this.trigger("data",d),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},To.prototype=new e,xa=function(){var d,m,p,g;xa.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,d=function(T,w){var A=0;w.payloadUnitStartIndicator&&(A+=T[A]+1),w.type==="pat"?m(T.subarray(A),w):p(T.subarray(A),w)},m=function(T,w){w.section_number=T[7],w.last_section_number=T[8],g.pmtPid=(T[10]&31)<<8|T[11],w.pmtPid=g.pmtPid},p=function(T,w){var A,L,I,R;if(!!(T[5]&1)){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},A=(T[1]&15)<<8|T[2],L=3+A-4,I=(T[10]&15)<<8|T[11],R=12+I;R<L;){var H=T[R],X=(T[R+1]&31)<<8|T[R+2];H===rt.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=X:H===rt.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=X:H===rt.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][X]=H),R+=((T[R+3]&15)<<8|T[R+4])+5}w.programMapTable=g.programMapTable}},this.push=function(_){var T={},w=4;if(T.payloadUnitStartIndicator=!!(_[1]&64),T.pid=_[1]&31,T.pid<<=8,T.pid|=_[2],(_[3]&48)>>>4>1&&(w+=_[w]+1),T.pid===0)T.type="pat",d(_.subarray(w),T),this.trigger("data",T);else if(T.pid===this.pmtPid)for(T.type="pmt",d(_.subarray(w),T),this.trigger("data",T);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([_,w,T]):this.processPes_(_,w,T)},this.processPes_=function(_,T,w){w.pid===this.programMapTable.video?w.streamType=rt.H264_STREAM_TYPE:w.pid===this.programMapTable.audio?w.streamType=rt.ADTS_STREAM_TYPE:w.streamType=this.programMapTable["timed-metadata"][w.pid],w.type="pes",w.data=_.subarray(T),this.trigger("data",w)}},xa.prototype=new e,xa.STREAM_TYPES={h264:27,adts:15},xo=function(){var d=this,m=!1,p={data:[],size:0},g={data:[],size:0},_={data:[],size:0},T,w=function(I,R){var H,X=I[0]<<16|I[1]<<8|I[2];R.data=new Uint8Array,X===1&&(R.packetLength=6+(I[4]<<8|I[5]),R.dataAlignmentIndicator=(I[6]&4)!=0,H=I[7],H&192&&(R.pts=(I[9]&14)<<27|(I[10]&255)<<20|(I[11]&254)<<12|(I[12]&255)<<5|(I[13]&254)>>>3,R.pts*=4,R.pts+=(I[13]&6)>>>1,R.dts=R.pts,H&64&&(R.dts=(I[14]&14)<<27|(I[15]&255)<<20|(I[16]&254)<<12|(I[17]&255)<<5|(I[18]&254)>>>3,R.dts*=4,R.dts+=(I[18]&6)>>>1)),R.data=I.subarray(9+I[8]))},A=function(I,R,H){var X=new Uint8Array(I.size),Z={type:R},G=0,se=0,qe=!1,yt;if(!(!I.data.length||I.size<9)){for(Z.trackId=I.data[0].pid,G=0;G<I.data.length;G++)yt=I.data[G],X.set(yt.data,se),se+=yt.data.byteLength;w(X,Z),qe=R==="video"||Z.packetLength<=I.size,(H||qe)&&(I.size=0,I.data.length=0),qe&&d.trigger("data",Z)}};xo.prototype.init.call(this),this.push=function(L){({pat:function(){},pes:function(){var R,H;switch(L.streamType){case rt.H264_STREAM_TYPE:R=p,H="video";break;case rt.ADTS_STREAM_TYPE:R=g,H="audio";break;case rt.METADATA_STREAM_TYPE:R=_,H="timed-metadata";break;default:return}L.payloadUnitStartIndicator&&A(R,H,!0),R.data.push(L),R.size+=L.data.byteLength},pmt:function(){var R={type:"metadata",tracks:[]};T=L.programMapTable,T.video!==null&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+T.video,codec:"avc",type:"video"}),T.audio!==null&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+T.audio,codec:"adts",type:"audio"}),m=!0,d.trigger("data",R)}})[L.type]()},this.reset=function(){p.size=0,p.data.length=0,g.size=0,g.data.length=0,this.trigger("reset")},this.flushStreams_=function(){A(p,"video"),A(g,"audio"),A(_,"timed-metadata")},this.flush=function(){if(!m&&T){var L={type:"metadata",tracks:[]};T.video!==null&&L.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+T.video,codec:"avc",type:"video"}),T.audio!==null&&L.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+T.audio,codec:"adts",type:"audio"}),d.trigger("data",L)}m=!1,this.flushStreams_(),this.trigger("done")}},xo.prototype=new e;var rm={PAT_PID:0,MP2T_PACKET_LENGTH:ti,TransportPacketStream:To,TransportParseStream:xa,ElementaryStream:xo,TimestampRolloverStream:sb,CaptionStream:go.CaptionStream,Cea608Stream:go.Cea608Stream,Cea708Stream:go.Cea708Stream,MetadataStream:ab};for(var hc in rt)rt.hasOwnProperty(hc)&&(rm[hc]=rt[hc]);var wr=rm,ob=Te.ONE_SECOND_IN_TS,So,nm=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];So=function(d){var m,p=0;So.prototype.init.call(this),this.skipWarn_=function(g,_){this.trigger("log",{level:"warn",message:"adts skiping bytes "+g+" to "+_+" in frame "+p+" outside syncword"})},this.push=function(g){var _=0,T,w,A,L,I;if(d||(p=0),g.type==="audio"){m&&m.length?(A=m,m=new Uint8Array(A.byteLength+g.data.byteLength),m.set(A),m.set(g.data,A.byteLength)):m=g.data;for(var R;_+7<m.length;){if(m[_]!==255||(m[_+1]&246)!=240){typeof R!="number"&&(R=_),_++;continue}if(typeof R=="number"&&(this.skipWarn_(R,_),R=null),w=(~m[_+1]&1)*2,T=(m[_+3]&3)<<11|m[_+4]<<3|(m[_+5]&224)>>5,L=((m[_+6]&3)+1)*1024,I=L*ob/nm[(m[_+2]&60)>>>2],m.byteLength-_<T)break;this.trigger("data",{pts:g.pts+p*I,dts:g.dts+p*I,sampleCount:L,audioobjecttype:(m[_+2]>>>6&3)+1,channelcount:(m[_+2]&1)<<2|(m[_+3]&192)>>>6,samplerate:nm[(m[_+2]&60)>>>2],samplingfrequencyindex:(m[_+2]&60)>>>2,samplesize:16,data:m.subarray(_+7+w,_+T)}),p++,_+=T}typeof R=="number"&&(this.skipWarn_(R,_),R=null),m=m.subarray(_)}},this.flush=function(){p=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},So.prototype=new e;var im=So,am;am=function(d){var m=d.byteLength,p=0,g=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+g},this.loadWord=function(){var _=d.byteLength-m,T=new Uint8Array(4),w=Math.min(4,m);if(w===0)throw new Error("no bytes available");T.set(d.subarray(_,_+w)),p=new DataView(T.buffer).getUint32(0),g=w*8,m-=w},this.skipBits=function(_){var T;g>_?(p<<=_,g-=_):(_-=g,T=Math.floor(_/8),_-=T*8,m-=T,this.loadWord(),p<<=_,g-=_)},this.readBits=function(_){var T=Math.min(g,_),w=p>>>32-T;return g-=T,g>0?p<<=T:m>0&&this.loadWord(),T=_-T,T>0?w<<T|this.readBits(T):w},this.skipLeadingZeros=function(){var _;for(_=0;_<g;++_)if((p&2147483648>>>_)!=0)return p<<=_,g-=_,_;return this.loadWord(),_+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var _=this.skipLeadingZeros();return this.readBits(_+1)-1},this.readExpGolomb=function(){var _=this.readUnsignedExpGolomb();return 1&_?1+_>>>1:-1*(_>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ub=am,bo,Sa,sm;Sa=function(){var d=0,m,p;Sa.prototype.init.call(this),this.push=function(g){var _;p?(_=new Uint8Array(p.byteLength+g.data.byteLength),_.set(p),_.set(g.data,p.byteLength),p=_):p=g.data;for(var T=p.byteLength;d<T-3;d++)if(p[d+2]===1){m=d+5;break}for(;m<T;)switch(p[m]){case 0:if(p[m-1]!==0){m+=2;break}else if(p[m-2]!==0){m++;break}d+3!==m-2&&this.trigger("data",p.subarray(d+3,m-2));do m++;while(p[m]!==1&&m<T);d=m-2,m+=3;break;case 1:if(p[m-1]!==0||p[m-2]!==0){m+=3;break}this.trigger("data",p.subarray(d+3,m-2)),d=m-2,m+=3;break;default:m+=3;break}p=p.subarray(d),m-=d,d=0},this.reset=function(){p=null,d=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(d+3)),p=null,d=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Sa.prototype=new e,sm={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},bo=function(){var d=new Sa,m,p,g,_,T,w,A;bo.prototype.init.call(this),m=this,this.push=function(L){L.type==="video"&&(p=L.trackId,g=L.pts,_=L.dts,d.push(L))},d.on("data",function(L){var I={trackId:p,pts:g,dts:_,data:L,nalUnitTypeCode:L[0]&31};switch(I.nalUnitTypeCode){case 5:I.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:I.nalUnitType="sei_rbsp",I.escapedRBSP=T(L.subarray(1));break;case 7:I.nalUnitType="seq_parameter_set_rbsp",I.escapedRBSP=T(L.subarray(1)),I.config=w(I.escapedRBSP);break;case 8:I.nalUnitType="pic_parameter_set_rbsp";break;case 9:I.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",I)}),d.on("done",function(){m.trigger("done")}),d.on("partialdone",function(){m.trigger("partialdone")}),d.on("reset",function(){m.trigger("reset")}),d.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},A=function(I,R){var H=8,X=8,Z,G;for(Z=0;Z<I;Z++)X!==0&&(G=R.readExpGolomb(),X=(H+G+256)%256),H=X===0?H:X},T=function(I){for(var R=I.byteLength,H=[],X=1,Z,G;X<R-2;)I[X]===0&&I[X+1]===0&&I[X+2]===3?(H.push(X+2),X+=2):X++;if(H.length===0)return I;Z=R-H.length,G=new Uint8Array(Z);var se=0;for(X=0;X<Z;se++,X++)se===H[0]&&(se++,H.shift()),G[X]=I[se];return G},w=function(I){var R=0,H=0,X=0,Z=0,G,se,qe,yt,Cn,_c,Cm,wm,km,Tc,Pm,Ve=[1,1],Am,wn;if(G=new ub(I),se=G.readUnsignedByte(),yt=G.readUnsignedByte(),qe=G.readUnsignedByte(),G.skipUnsignedExpGolomb(),sm[se]&&(Cn=G.readUnsignedExpGolomb(),Cn===3&&G.skipBits(1),G.skipUnsignedExpGolomb(),G.skipUnsignedExpGolomb(),G.skipBits(1),G.readBoolean()))for(Pm=Cn!==3?8:12,wn=0;wn<Pm;wn++)G.readBoolean()&&(wn<6?A(16,G):A(64,G));if(G.skipUnsignedExpGolomb(),_c=G.readUnsignedExpGolomb(),_c===0)G.readUnsignedExpGolomb();else if(_c===1)for(G.skipBits(1),G.skipExpGolomb(),G.skipExpGolomb(),Cm=G.readUnsignedExpGolomb(),wn=0;wn<Cm;wn++)G.skipExpGolomb();if(G.skipUnsignedExpGolomb(),G.skipBits(1),wm=G.readUnsignedExpGolomb(),km=G.readUnsignedExpGolomb(),Tc=G.readBits(1),Tc===0&&G.skipBits(1),G.skipBits(1),G.readBoolean()&&(R=G.readUnsignedExpGolomb(),H=G.readUnsignedExpGolomb(),X=G.readUnsignedExpGolomb(),Z=G.readUnsignedExpGolomb()),G.readBoolean()&&G.readBoolean()){switch(Am=G.readUnsignedByte(),Am){case 1:Ve=[1,1];break;case 2:Ve=[12,11];break;case 3:Ve=[10,11];break;case 4:Ve=[16,11];break;case 5:Ve=[40,33];break;case 6:Ve=[24,11];break;case 7:Ve=[20,11];break;case 8:Ve=[32,11];break;case 9:Ve=[80,33];break;case 10:Ve=[18,11];break;case 11:Ve=[15,11];break;case 12:Ve=[64,33];break;case 13:Ve=[160,99];break;case 14:Ve=[4,3];break;case 15:Ve=[3,2];break;case 16:Ve=[2,1];break;case 255:{Ve=[G.readUnsignedByte()<<8|G.readUnsignedByte(),G.readUnsignedByte()<<8|G.readUnsignedByte()];break}}Ve&&Ve[0]/Ve[1]}return{profileIdc:se,levelIdc:qe,profileCompatibility:yt,width:(wm+1)*16-R*2-H*2,height:(2-Tc)*(km+1)*16-X*2-Z*2,sarRatio:Ve}}},bo.prototype=new e;var lb={H264Stream:bo,NalByteStream:Sa},cb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],om=function(d,m){var p=d[m+6]<<21|d[m+7]<<14|d[m+8]<<7|d[m+9],g=d[m+5],_=(g&16)>>4;return p=p>=0?p:0,_?p+20:p+10},db=function C(d,m){return d.length-m<10||d[m]!=="I".charCodeAt(0)||d[m+1]!=="D".charCodeAt(0)||d[m+2]!=="3".charCodeAt(0)?m:(m+=om(d,m),C(d,m))},fb=function(d){var m=db(d,0);return d.length>=m+2&&(d[m]&255)==255&&(d[m+1]&240)==240&&(d[m+1]&22)==16},um=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},hb=function(d,m,p){var g,_="";for(g=m;g<p;g++)_+="%"+("00"+d[g].toString(16)).slice(-2);return _},pb=function(d,m,p){return unescape(hb(d,m,p))},mb=function(d,m){var p=(d[m+5]&224)>>5,g=d[m+4]<<3,_=d[m+3]&3<<11;return _|g|p},gb=function(d,m){return d[m]==="I".charCodeAt(0)&&d[m+1]==="D".charCodeAt(0)&&d[m+2]==="3".charCodeAt(0)?"timed-metadata":d[m]&!0&&(d[m+1]&240)==240?"audio":null},vb=function(d){for(var m=0;m+5<d.length;){if(d[m]!==255||(d[m+1]&246)!=240){m++;continue}return cb[(d[m+2]&60)>>>2]}return null},yb=function(d){var m,p,g,_;m=10,d[5]&64&&(m+=4,m+=um(d.subarray(10,14)));do{if(p=um(d.subarray(m+4,m+8)),p<1)return null;if(_=String.fromCharCode(d[m],d[m+1],d[m+2],d[m+3]),_==="PRIV"){g=d.subarray(m+10,m+p+10);for(var T=0;T<g.byteLength;T++)if(g[T]===0){var w=pb(g,0,T);if(w==="com.apple.streaming.transportStreamTimestamp"){var A=g.subarray(T+1),L=(A[3]&1)<<30|A[4]<<22|A[5]<<14|A[6]<<6|A[7]>>>2;return L*=4,L+=A[7]&3,L}break}}m+=10,m+=p}while(m<d.byteLength);return null},Eo={isLikelyAacData:fb,parseId3TagSize:om,parseAdtsSize:mb,parseType:gb,parseSampleRate:vb,parseAacTimestamp:yb},Co;Co=function(){var d=new Uint8Array,m=0;Co.prototype.init.call(this),this.setTimestamp=function(p){m=p},this.push=function(p){var g=0,_=0,T,w,A,L;for(d.length?(L=d.length,d=new Uint8Array(p.byteLength+L),d.set(d.subarray(0,L)),d.set(p,L)):d=p;d.length-_>=3;){if(d[_]==="I".charCodeAt(0)&&d[_+1]==="D".charCodeAt(0)&&d[_+2]==="3".charCodeAt(0)){if(d.length-_<10||(g=Eo.parseId3TagSize(d,_),_+g>d.length))break;w={type:"timed-metadata",data:d.subarray(_,_+g)},this.trigger("data",w),_+=g;continue}else if((d[_]&255)==255&&(d[_+1]&240)==240){if(d.length-_<7||(g=Eo.parseAdtsSize(d,_),_+g>d.length))break;A={type:"audio",data:d.subarray(_,_+g),pts:m,dts:m},this.trigger("data",A),_+=g;continue}_++}T=d.length-_,T>0?d=d.subarray(_):d=new Uint8Array},this.reset=function(){d=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){d=new Uint8Array,this.trigger("endedtimeline")}},Co.prototype=new e;var _b=Co,Tb=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],pc=Tb,xb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],mc=xb,Sb=lb.H264Stream,bb=Eo.isLikelyAacData,Eb=Te.ONE_SECOND_IN_TS,ba,ri,wo,Sn,Cb=function(d,m){m.stream=d,this.trigger("log",m)},lm=function(d,m){for(var p=Object.keys(m),g=0;g<p.length;g++){var _=p[g];_==="headOfPipeline"||!m[_].on||m[_].on("log",Cb.bind(d,_))}},cm=function(d,m){var p;if(d.length!==m.length)return!1;for(p=0;p<d.length;p++)if(d[p]!==m[p])return!1;return!0},gc=function(d,m,p,g,_,T){var w=p-m,A=g-m,L=_-p;return{start:{dts:d,pts:d+w},end:{dts:d+A,pts:d+L},prependedContentDuration:T,baseMediaDecodeTime:d}};ri=function(d,m){var p=[],g,_=0,T=0,w=1/0;m=m||{},g=m.firstSequenceNumber||0,ri.prototype.init.call(this),this.push=function(A){tr.collectDtsInfo(d,A),d&&pc.forEach(function(L){d[L]=A[L]}),p.push(A)},this.setEarliestDts=function(A){_=A},this.setVideoBaseMediaDecodeTime=function(A){w=A},this.setAudioAppendStart=function(A){T=A},this.flush=function(){var A,L,I,R,H,X,Z;if(p.length===0){this.trigger("done","AudioSegmentStream");return}A=co.trimAdtsFramesByEarliestDts(p,d,_),d.baseMediaDecodeTime=tr.calculateTrackBaseMediaDecodeTime(d,m.keepOriginalTimestamps),Z=co.prefixWithSilence(d,A,T,w),d.samples=co.generateSampleTable(A),I=Q.mdat(co.concatenateFrameData(A)),p=[],L=Q.moof(g,[d]),R=new Uint8Array(L.byteLength+I.byteLength),g++,R.set(L),R.set(I,L.byteLength),tr.clearDtsInfo(d),H=Math.ceil(Eb*1024/d.samplerate),A.length&&(X=A.length*H,this.trigger("segmentTimingInfo",gc(Te.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),A[0].dts,A[0].pts,A[0].dts+X,A[0].pts+X,Z||0)),this.trigger("timingInfo",{start:A[0].pts,end:A[0].pts+X})),this.trigger("data",{track:d,boxes:R}),this.trigger("done","AudioSegmentStream")},this.reset=function(){tr.clearDtsInfo(d),p=[],this.trigger("reset")}},ri.prototype=new e,ba=function(d,m){var p,g=[],_=[],T,w;m=m||{},p=m.firstSequenceNumber||0,ba.prototype.init.call(this),delete d.minPTS,this.gopCache_=[],this.push=function(A){tr.collectDtsInfo(d,A),A.nalUnitType==="seq_parameter_set_rbsp"&&!T&&(T=A.config,d.sps=[A.data],mc.forEach(function(L){d[L]=T[L]},this)),A.nalUnitType==="pic_parameter_set_rbsp"&&!w&&(w=A.data,d.pps=[A.data]),g.push(A)},this.flush=function(){for(var A,L,I,R,H,X,Z=0,G,se;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(A=_a.groupNalsIntoFrames(g),I=_a.groupFramesIntoGops(A),I[0][0].keyFrame||(L=this.getGopForFusion_(g[0],d),L?(Z=L.duration,I.unshift(L),I.byteLength+=L.byteLength,I.nalCount+=L.nalCount,I.pts=L.pts,I.dts=L.dts,I.duration+=L.duration):I=_a.extendFirstKeyFrame(I)),_.length){var qe;if(m.alignGopsAtEnd?qe=this.alignGopsAtEnd_(I):qe=this.alignGopsAtStart_(I),!qe){this.gopCache_.unshift({gop:I.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}tr.clearDtsInfo(d),I=qe}tr.collectDtsInfo(d,I),d.samples=_a.generateSampleTable(I),H=Q.mdat(_a.concatenateNalData(I)),d.baseMediaDecodeTime=tr.calculateTrackBaseMediaDecodeTime(d,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",I.map(function(yt){return{pts:yt.pts,dts:yt.dts,byteLength:yt.byteLength}})),G=I[0],se=I[I.length-1],this.trigger("segmentTimingInfo",gc(d.baseMediaDecodeTime,G.dts,G.pts,se.dts+se.duration,se.pts+se.duration,Z)),this.trigger("timingInfo",{start:I[0].pts,end:I[I.length-1].pts+I[I.length-1].duration}),this.gopCache_.unshift({gop:I.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",d.baseMediaDecodeTime),this.trigger("timelineStartInfo",d.timelineStartInfo),R=Q.moof(p,[d]),X=new Uint8Array(R.byteLength+H.byteLength),p++,X.set(R),X.set(H,R.byteLength),this.trigger("data",{track:d,boxes:X}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,_.length=0,this.trigger("reset")},this.resetStream_=function(){tr.clearDtsInfo(d),T=void 0,w=void 0},this.getGopForFusion_=function(A){var L=45e3,I=1e4,R=1/0,H,X,Z,G,se;for(se=0;se<this.gopCache_.length;se++)G=this.gopCache_[se],Z=G.gop,!(!(d.pps&&cm(d.pps[0],G.pps[0]))||!(d.sps&&cm(d.sps[0],G.sps[0])))&&(Z.dts<d.timelineStartInfo.dts||(H=A.dts-Z.dts-Z.duration,H>=-I&&H<=L&&(!X||R>H)&&(X=G,R=H)));return X?X.gop:null},this.alignGopsAtStart_=function(A){var L,I,R,H,X,Z,G,se;for(X=A.byteLength,Z=A.nalCount,G=A.duration,L=I=0;L<_.length&&I<A.length&&(R=_[L],H=A[I],R.pts!==H.pts);){if(H.pts>R.pts){L++;continue}I++,X-=H.byteLength,Z-=H.nalCount,G-=H.duration}return I===0?A:I===A.length?null:(se=A.slice(I),se.byteLength=X,se.duration=G,se.nalCount=Z,se.pts=se[0].pts,se.dts=se[0].dts,se)},this.alignGopsAtEnd_=function(A){var L,I,R,H,X,Z;for(L=_.length-1,I=A.length-1,X=null,Z=!1;L>=0&&I>=0;){if(R=_[L],H=A[I],R.pts===H.pts){Z=!0;break}if(R.pts>H.pts){L--;continue}L===_.length-1&&(X=I),I--}if(!Z&&X===null)return null;var G;if(Z?G=I:G=X,G===0)return A;var se=A.slice(G),qe=se.reduce(function(yt,Cn){return yt.byteLength+=Cn.byteLength,yt.duration+=Cn.duration,yt.nalCount+=Cn.nalCount,yt},{byteLength:0,duration:0,nalCount:0});return se.byteLength=qe.byteLength,se.duration=qe.duration,se.nalCount=qe.nalCount,se.pts=se[0].pts,se.dts=se[0].dts,se},this.alignGopsWith=function(A){_=A}},ba.prototype=new e,Sn=function(d,m){this.numberOfTracks=0,this.metadataStream=m,d=d||{},typeof d.remux!="undefined"?this.remuxTracks=!!d.remux:this.remuxTracks=!0,typeof d.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=d.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Sn.prototype.init.call(this),this.push=function(p){if(p.text)return this.pendingCaptions.push(p);if(p.frames)return this.pendingMetadata.push(p);this.pendingTracks.push(p.track),this.pendingBytes+=p.boxes.byteLength,p.track.type==="video"&&(this.videoTrack=p.track,this.pendingBoxes.push(p.boxes)),p.track.type==="audio"&&(this.audioTrack=p.track,this.pendingBoxes.unshift(p.boxes))}},Sn.prototype=new e,Sn.prototype.flush=function(C){var d=0,m={captions:[],captionStreams:{},metadata:[],info:{}},p,g,_,T=0,w;if(this.pendingTracks.length<this.numberOfTracks){if(C!=="VideoSegmentStream"&&C!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(T=this.videoTrack.timelineStartInfo.pts,mc.forEach(function(A){m.info[A]=this.videoTrack[A]},this)):this.audioTrack&&(T=this.audioTrack.timelineStartInfo.pts,pc.forEach(function(A){m.info[A]=this.audioTrack[A]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,_=Q.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(_.byteLength),m.initSegment.set(_),m.data=new Uint8Array(this.pendingBytes),w=0;w<this.pendingBoxes.length;w++)m.data.set(this.pendingBoxes[w],d),d+=this.pendingBoxes[w].byteLength;for(w=0;w<this.pendingCaptions.length;w++)p=this.pendingCaptions[w],p.startTime=Te.metadataTsToSeconds(p.startPts,T,this.keepOriginalTimestamps),p.endTime=Te.metadataTsToSeconds(p.endPts,T,this.keepOriginalTimestamps),m.captionStreams[p.stream]=!0,m.captions.push(p);for(w=0;w<this.pendingMetadata.length;w++)g=this.pendingMetadata[w],g.cueTime=Te.metadataTsToSeconds(g.pts,T,this.keepOriginalTimestamps),m.metadata.push(g);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),w=0;w<m.captions.length;w++)p=m.captions[w],this.trigger("caption",p);for(w=0;w<m.metadata.length;w++)g=m.metadata[w],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Sn.prototype.setRemux=function(C){this.remuxTracks=C},wo=function(d){var m=this,p=!0,g,_;wo.prototype.init.call(this),d=d||{},this.baseMediaDecodeTime=d.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var T={};this.transmuxPipeline_=T,T.type="aac",T.metadataStream=new wr.MetadataStream,T.aacStream=new _b,T.audioTimestampRolloverStream=new wr.TimestampRolloverStream("audio"),T.timedMetadataTimestampRolloverStream=new wr.TimestampRolloverStream("timed-metadata"),T.adtsStream=new im,T.coalesceStream=new Sn(d,T.metadataStream),T.headOfPipeline=T.aacStream,T.aacStream.pipe(T.audioTimestampRolloverStream).pipe(T.adtsStream),T.aacStream.pipe(T.timedMetadataTimestampRolloverStream).pipe(T.metadataStream).pipe(T.coalesceStream),T.metadataStream.on("timestamp",function(w){T.aacStream.setTimestamp(w.timeStamp)}),T.aacStream.on("data",function(w){w.type!=="timed-metadata"&&w.type!=="audio"||T.audioSegmentStream||(_=_||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},T.coalesceStream.numberOfTracks++,T.audioSegmentStream=new ri(_,d),T.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),T.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),T.adtsStream.pipe(T.audioSegmentStream).pipe(T.coalesceStream),m.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!g}))}),T.coalesceStream.on("data",this.trigger.bind(this,"data")),T.coalesceStream.on("done",this.trigger.bind(this,"done")),lm(this,T)},this.setupTsPipeline=function(){var T={};this.transmuxPipeline_=T,T.type="ts",T.metadataStream=new wr.MetadataStream,T.packetStream=new wr.TransportPacketStream,T.parseStream=new wr.TransportParseStream,T.elementaryStream=new wr.ElementaryStream,T.timestampRolloverStream=new wr.TimestampRolloverStream,T.adtsStream=new im,T.h264Stream=new Sb,T.captionStream=new wr.CaptionStream(d),T.coalesceStream=new Sn(d,T.metadataStream),T.headOfPipeline=T.packetStream,T.packetStream.pipe(T.parseStream).pipe(T.elementaryStream).pipe(T.timestampRolloverStream),T.timestampRolloverStream.pipe(T.h264Stream),T.timestampRolloverStream.pipe(T.adtsStream),T.timestampRolloverStream.pipe(T.metadataStream).pipe(T.coalesceStream),T.h264Stream.pipe(T.captionStream).pipe(T.coalesceStream),T.elementaryStream.on("data",function(w){var A;if(w.type==="metadata"){for(A=w.tracks.length;A--;)!g&&w.tracks[A].type==="video"?(g=w.tracks[A],g.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!_&&w.tracks[A].type==="audio"&&(_=w.tracks[A],_.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);g&&!T.videoSegmentStream&&(T.coalesceStream.numberOfTracks++,T.videoSegmentStream=new ba(g,d),T.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),T.videoSegmentStream.on("timelineStartInfo",function(L){_&&!d.keepOriginalTimestamps&&(_.timelineStartInfo=L,T.audioSegmentStream.setEarliestDts(L.dts-m.baseMediaDecodeTime))}),T.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),T.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),T.videoSegmentStream.on("baseMediaDecodeTime",function(L){_&&T.audioSegmentStream.setVideoBaseMediaDecodeTime(L)}),T.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),T.h264Stream.pipe(T.videoSegmentStream).pipe(T.coalesceStream)),_&&!T.audioSegmentStream&&(T.coalesceStream.numberOfTracks++,T.audioSegmentStream=new ri(_,d),T.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),T.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),T.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),T.adtsStream.pipe(T.audioSegmentStream).pipe(T.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!g})}}),T.coalesceStream.on("data",this.trigger.bind(this,"data")),T.coalesceStream.on("id3Frame",function(w){w.dispatchType=T.metadataStream.dispatchType,m.trigger("id3Frame",w)}),T.coalesceStream.on("caption",this.trigger.bind(this,"caption")),T.coalesceStream.on("done",this.trigger.bind(this,"done")),lm(this,T)},this.setBaseMediaDecodeTime=function(T){var w=this.transmuxPipeline_;d.keepOriginalTimestamps||(this.baseMediaDecodeTime=T),_&&(_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,tr.clearDtsInfo(_),w.audioTimestampRolloverStream&&w.audioTimestampRolloverStream.discontinuity()),g&&(w.videoSegmentStream&&(w.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,tr.clearDtsInfo(g),w.captionStream.reset()),w.timestampRolloverStream&&w.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(T){_&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(T)},this.setRemux=function(T){var w=this.transmuxPipeline_;d.remux=T,w&&w.coalesceStream&&w.coalesceStream.setRemux(T)},this.alignGopsWith=function(T){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(T)},this.getLogTrigger_=function(T){var w=this;return function(A){A.stream=T,w.trigger("log",A)}},this.push=function(T){if(p){var w=bb(T);w&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!w&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),p=!1}this.transmuxPipeline_.headOfPipeline.push(T)},this.flush=function(){p=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},wo.prototype=new e;var wb={Transmuxer:wo,VideoSegmentStream:ba,AudioSegmentStream:ri,AUDIO_PROPERTIES:pc,VIDEO_PROPERTIES:mc,generateSegmentTimingInfo:gc},kb=function(d){return d>>>0},Pb=function(d){return("00"+d.toString(16)).slice(-2)},ko={toUnsigned:kb,toHexString:Pb},Ab=function(d){var m="";return m+=String.fromCharCode(d[0]),m+=String.fromCharCode(d[1]),m+=String.fromCharCode(d[2]),m+=String.fromCharCode(d[3]),m},bn=Ab,Ib=ko.toUnsigned,Db=function C(d,m){var p=[],g,_,T,w,A;if(!m.length)return null;for(g=0;g<d.byteLength;)_=Ib(d[g]<<24|d[g+1]<<16|d[g+2]<<8|d[g+3]),T=bn(d.subarray(g+4,g+8)),w=_>1?g+_:d.byteLength,T===m[0]&&(m.length===1?p.push(d.subarray(g+8,w)):(A=C(d.subarray(g+8,w),m.slice(1)),A.length&&(p=p.concat(A)))),g=w;return p},Ae=Db,dm=ko.toUnsigned,Lb=function(d){var m={version:d[0],flags:new Uint8Array(d.subarray(1,4)),baseMediaDecodeTime:dm(d[4]<<24|d[5]<<16|d[6]<<8|d[7])};return m.version===1&&(m.baseMediaDecodeTime*=Math.pow(2,32),m.baseMediaDecodeTime+=dm(d[8]<<24|d[9]<<16|d[10]<<8|d[11])),m},fm=Lb,Ob=function(d){return{isLeading:(d[0]&12)>>>2,dependsOn:d[0]&3,isDependedOn:(d[1]&192)>>>6,hasRedundancy:(d[1]&48)>>>4,paddingValue:(d[1]&14)>>>1,isNonSyncSample:d[1]&1,degradationPriority:d[2]<<8|d[3]}},hm=Ob,Rb=function(d){var m={version:d[0],flags:new Uint8Array(d.subarray(1,4)),samples:[]},p=new DataView(d.buffer,d.byteOffset,d.byteLength),g=m.flags[2]&1,_=m.flags[2]&4,T=m.flags[1]&1,w=m.flags[1]&2,A=m.flags[1]&4,L=m.flags[1]&8,I=p.getUint32(4),R=8,H;for(g&&(m.dataOffset=p.getInt32(R),R+=4),_&&I&&(H={flags:hm(d.subarray(R,R+4))},R+=4,T&&(H.duration=p.getUint32(R),R+=4),w&&(H.size=p.getUint32(R),R+=4),L&&(m.version===1?H.compositionTimeOffset=p.getInt32(R):H.compositionTimeOffset=p.getUint32(R),R+=4),m.samples.push(H),I--);I--;)H={},T&&(H.duration=p.getUint32(R),R+=4),w&&(H.size=p.getUint32(R),R+=4),A&&(H.flags=hm(d.subarray(R,R+4)),R+=4),L&&(m.version===1?H.compositionTimeOffset=p.getInt32(R):H.compositionTimeOffset=p.getUint32(R),R+=4),m.samples.push(H);return m},pm=Rb,Mb=function(d){var m=new DataView(d.buffer,d.byteOffset,d.byteLength),p={version:d[0],flags:new Uint8Array(d.subarray(1,4)),trackId:m.getUint32(4)},g=p.flags[2]&1,_=p.flags[2]&2,T=p.flags[2]&8,w=p.flags[2]&16,A=p.flags[2]&32,L=p.flags[0]&65536,I=p.flags[0]&131072,R;return R=8,g&&(R+=4,p.baseDataOffset=m.getUint32(12),R+=4),_&&(p.sampleDescriptionIndex=m.getUint32(R),R+=4),T&&(p.defaultSampleDuration=m.getUint32(R),R+=4),w&&(p.defaultSampleSize=m.getUint32(R),R+=4),A&&(p.defaultSampleFlags=m.getUint32(R)),L&&(p.durationIsEmpty=!0),!g&&I&&(p.baseDataOffsetIsMoof=!0),p},mm=Mb,Nb=Ta.discardEmulationPreventionBytes,Fb=go.CaptionStream,Ub=function(d,m){for(var p=d,g=0;g<m.length;g++){var _=m[g];if(p<_.size)return _;p-=_.size}return null},Bb=function(d,m,p){var g=new DataView(d.buffer,d.byteOffset,d.byteLength),_={logs:[],seiNals:[]},T,w,A,L;for(w=0;w+4<d.length;w+=A)if(A=g.getUint32(w),w+=4,!(A<=0))switch(d[w]&31){case 6:var I=d.subarray(w+1,w+1+A),R=Ub(w,m);if(T={nalUnitType:"sei_rbsp",size:A,data:I,escapedRBSP:Nb(I),trackId:p},R)T.pts=R.pts,T.dts=R.dts,L=R;else if(L)T.pts=L.pts,T.dts=L.dts;else{_.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+w+" for trackId "+p+". See mux.js#223."});break}_.seiNals.push(T);break}return _},jb=function(d,m,p){var g=m,_=p.defaultSampleDuration||0,T=p.defaultSampleSize||0,w=p.trackId,A=[];return d.forEach(function(L){var I=pm(L),R=I.samples;R.forEach(function(H){H.duration===void 0&&(H.duration=_),H.size===void 0&&(H.size=T),H.trackId=w,H.dts=g,H.compositionTimeOffset===void 0&&(H.compositionTimeOffset=0),H.pts=g+H.compositionTimeOffset,g+=H.duration}),A=A.concat(R)}),A},Hb=function(d,m){var p=Ae(d,["moof","traf"]),g=Ae(d,["mdat"]),_={},T=[];return g.forEach(function(w,A){var L=p[A];T.push({mdat:w,traf:L})}),T.forEach(function(w){var A=w.mdat,L=w.traf,I=Ae(L,["tfhd"]),R=mm(I[0]),H=R.trackId,X=Ae(L,["tfdt"]),Z=X.length>0?fm(X[0]).baseMediaDecodeTime:0,G=Ae(L,["trun"]),se,qe;m===H&&G.length>0&&(se=jb(G,Z,R),qe=Bb(A,se,H),_[H]||(_[H]={seiNals:[],logs:[]}),_[H].seiNals=_[H].seiNals.concat(qe.seiNals),_[H].logs=_[H].logs.concat(qe.logs))}),_},Vb=function(d,m,p){var g;if(m===null)return null;g=Hb(d,m);var _=g[m]||{};return{seiNals:_.seiNals,logs:_.logs,timescale:p}},Wb=function(){var d=!1,m,p,g,_,T,w;this.isInitialized=function(){return d},this.init=function(A){m=new Fb,d=!0,w=A?A.isPartial:!1,m.on("data",function(L){L.startTime=L.startPts/_,L.endTime=L.endPts/_,T.captions.push(L),T.captionStreams[L.stream]=!0}),m.on("log",function(L){T.logs.push(L)})},this.isNewInit=function(A,L){return A&&A.length===0||L&&typeof L=="object"&&Object.keys(L).length===0?!1:g!==A[0]||_!==L[g]},this.parse=function(A,L,I){var R;if(this.isInitialized()){if(!L||!I)return null;if(this.isNewInit(L,I))g=L[0],_=I[g];else if(g===null||!_)return p.push(A),null}else return null;for(;p.length>0;){var H=p.shift();this.parse(H,L,I)}return R=Vb(A,g,_),R&&R.logs&&(T.logs=T.logs.concat(R.logs)),R===null||!R.seiNals?T.logs.length?{logs:T.logs,captions:[],captionStreams:[]}:null:(this.pushNals(R.seiNals),this.flushStream(),T)},this.pushNals=function(A){if(!this.isInitialized()||!A||A.length===0)return null;A.forEach(function(L){m.push(L)})},this.flushStream=function(){if(!this.isInitialized())return null;w?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){T.captions=[],T.captionStreams={},T.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){p=[],g=null,_=null,T?this.clearParsedCaptions():T={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},zb=Wb,ni=ko.toUnsigned,Ea=ko.toHexString,gm,vm,ym,_m,Tm,vc;gm=function(d){var m={},p=Ae(d,["moov","trak"]);return p.reduce(function(g,_){var T,w,A,L,I;return T=Ae(_,["tkhd"])[0],!T||(w=T[0],A=w===0?12:20,L=ni(T[A]<<24|T[A+1]<<16|T[A+2]<<8|T[A+3]),I=Ae(_,["mdia","mdhd"])[0],!I)?null:(w=I[0],A=w===0?12:20,g[L]=ni(I[A]<<24|I[A+1]<<16|I[A+2]<<8|I[A+3]),g)},m)},vm=function(d,m){var p,g,_;return p=Ae(m,["moof","traf"]),g=[].concat.apply([],p.map(function(T){return Ae(T,["tfhd"]).map(function(w){var A,L,I;return A=ni(w[4]<<24|w[5]<<16|w[6]<<8|w[7]),L=d[A]||9e4,I=Ae(T,["tfdt"]).map(function(R){var H,X;return H=R[0],X=ni(R[4]<<24|R[5]<<16|R[6]<<8|R[7]),H===1&&(X*=Math.pow(2,32),X+=ni(R[8]<<24|R[9]<<16|R[10]<<8|R[11])),X})[0],I=typeof I=="number"&&!isNaN(I)?I:1/0,I/L})})),_=Math.min.apply(null,g),isFinite(_)?_:0},ym=function(d,m){var p=Ae(m,["moof","traf"]),g=0,_=0,T;if(p&&p.length){var w=Ae(p[0],["tfhd"])[0],A=Ae(p[0],["trun"])[0],L=Ae(p[0],["tfdt"])[0];if(w){var I=mm(w);T=I.trackId}if(L){var R=fm(L);g=R.baseMediaDecodeTime}if(A){var H=pm(A);H.samples&&H.samples.length&&(_=H.samples[0].compositionTimeOffset||0)}}var X=d[T]||9e4;return(g+_)/X},_m=function(d){var m=Ae(d,["moov","trak"]),p=[];return m.forEach(function(g){var _=Ae(g,["mdia","hdlr"]),T=Ae(g,["tkhd"]);_.forEach(function(w,A){var L=bn(w.subarray(8,12)),I=T[A],R,H,X;L==="vide"&&(R=new DataView(I.buffer,I.byteOffset,I.byteLength),H=R.getUint8(0),X=H===0?R.getUint32(12):R.getUint32(20),p.push(X))})}),p},vc=function(d){var m=d[0],p=m===0?12:20;return ni(d[p]<<24|d[p+1]<<16|d[p+2]<<8|d[p+3])},Tm=function(d){var m=Ae(d,["moov","trak"]),p=[];return m.forEach(function(g){var _={},T=Ae(g,["tkhd"])[0],w,A;T&&(w=new DataView(T.buffer,T.byteOffset,T.byteLength),A=w.getUint8(0),_.id=A===0?w.getUint32(12):w.getUint32(20));var L=Ae(g,["mdia","hdlr"])[0];if(L){var I=bn(L.subarray(8,12));I==="vide"?_.type="video":I==="soun"?_.type="audio":_.type=I}var R=Ae(g,["mdia","minf","stbl","stsd"])[0];if(R){var H=R.subarray(8);_.codec=bn(H.subarray(4,8));var X=Ae(H,[_.codec])[0],Z,G;X&&(/^[asm]vc[1-9]$/i.test(_.codec)?(Z=X.subarray(78),G=bn(Z.subarray(4,8)),G==="avcC"&&Z.length>11?(_.codec+=".",_.codec+=Ea(Z[9]),_.codec+=Ea(Z[10]),_.codec+=Ea(Z[11])):_.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(_.codec)?(Z=X.subarray(28),G=bn(Z.subarray(4,8)),G==="esds"&&Z.length>20&&Z[19]!==0?(_.codec+="."+Ea(Z[19]),_.codec+="."+Ea(Z[20]>>>2&63).replace(/^0/,"")):_.codec="mp4a.40.2"):_.codec=_.codec.toLowerCase())}var se=Ae(g,["mdia","mdhd"])[0];se&&(_.timescale=vc(se)),p.push(_)}),p};var xm={findBox:Ae,parseType:bn,timescale:gm,startTime:vm,compositionStartTime:ym,videoTrackIds:_m,tracks:Tm,getTimescaleFromMediaHeader:vc},Sm=function(d){var m=d[1]&31;return m<<=8,m|=d[2],m},Po=function(d){return!!(d[1]&64)},Ao=function(d){var m=0;return(d[3]&48)>>>4>1&&(m+=d[4]+1),m},$b=function(d,m){var p=Sm(d);return p===0?"pat":p===m?"pmt":m?"pes":null},Gb=function(d){var m=Po(d),p=4+Ao(d);return m&&(p+=d[p]+1),(d[p+10]&31)<<8|d[p+11]},qb=function(d){var m={},p=Po(d),g=4+Ao(d);if(p&&(g+=d[g]+1),!!(d[g+5]&1)){var _,T,w;_=(d[g+1]&15)<<8|d[g+2],T=3+_-4,w=(d[g+10]&15)<<8|d[g+11];for(var A=12+w;A<T;){var L=g+A;m[(d[L+1]&31)<<8|d[L+2]]=d[L],A+=((d[L+3]&15)<<8|d[L+4])+5}return m}},Kb=function(d,m){var p=Sm(d),g=m[p];switch(g){case rt.H264_STREAM_TYPE:return"video";case rt.ADTS_STREAM_TYPE:return"audio";case rt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Xb=function(d){var m=Po(d);if(!m)return null;var p=4+Ao(d);if(p>=d.byteLength)return null;var g=null,_;return _=d[p+7],_&192&&(g={},g.pts=(d[p+9]&14)<<27|(d[p+10]&255)<<20|(d[p+11]&254)<<12|(d[p+12]&255)<<5|(d[p+13]&254)>>>3,g.pts*=4,g.pts+=(d[p+13]&6)>>>1,g.dts=g.pts,_&64&&(g.dts=(d[p+14]&14)<<27|(d[p+15]&255)<<20|(d[p+16]&254)<<12|(d[p+17]&255)<<5|(d[p+18]&254)>>>3,g.dts*=4,g.dts+=(d[p+18]&6)>>>1)),g},yc=function(d){switch(d){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Qb=function(d){for(var m=4+Ao(d),p=d.subarray(m),g=0,_=0,T=!1,w;_<p.byteLength-3;_++)if(p[_+2]===1){g=_+5;break}for(;g<p.byteLength;)switch(p[g]){case 0:if(p[g-1]!==0){g+=2;break}else if(p[g-2]!==0){g++;break}_+3!==g-2&&(w=yc(p[_+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(T=!0));do g++;while(p[g]!==1&&g<p.length);_=g-2,g+=3;break;case 1:if(p[g-1]!==0||p[g-2]!==0){g+=3;break}w=yc(p[_+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(T=!0),_=g-2,g+=3;break;default:g+=3;break}return p=p.subarray(_),g-=_,_=0,p&&p.byteLength>3&&(w=yc(p[_+3]&31),w==="slice_layer_without_partitioning_rbsp_idr"&&(T=!0)),T},Yb={parseType:$b,parsePat:Gb,parsePmt:qb,parsePayloadUnitStartIndicator:Po,parsePesType:Kb,parsePesTime:Xb,videoPacketContainsKeyFrame:Qb},ii=Zp.handleRollover,be={};be.ts=Yb,be.aac=Eo;var En=Te.ONE_SECOND_IN_TS,vt=188,dr=71,Jb=function(d,m){for(var p=0,g=vt,_,T;g<d.byteLength;){if(d[p]===dr&&d[g]===dr){switch(_=d.subarray(p,g),T=be.ts.parseType(_,m.pid),T){case"pat":m.pid=be.ts.parsePat(_);break;case"pmt":var w=be.ts.parsePmt(_);m.table=m.table||{},Object.keys(w).forEach(function(A){m.table[A]=w[A]});break}p+=vt,g+=vt;continue}p++,g++}},bm=function(d,m,p){for(var g=0,_=vt,T,w,A,L,I,R=!1;_<=d.byteLength;){if(d[g]===dr&&(d[_]===dr||_===d.byteLength)){switch(T=d.subarray(g,_),w=be.ts.parseType(T,m.pid),w){case"pes":A=be.ts.parsePesType(T,m.table),L=be.ts.parsePayloadUnitStartIndicator(T),A==="audio"&&L&&(I=be.ts.parsePesTime(T),I&&(I.type="audio",p.audio.push(I),R=!0));break}if(R)break;g+=vt,_+=vt;continue}g++,_++}for(_=d.byteLength,g=_-vt,R=!1;g>=0;){if(d[g]===dr&&(d[_]===dr||_===d.byteLength)){switch(T=d.subarray(g,_),w=be.ts.parseType(T,m.pid),w){case"pes":A=be.ts.parsePesType(T,m.table),L=be.ts.parsePayloadUnitStartIndicator(T),A==="audio"&&L&&(I=be.ts.parsePesTime(T),I&&(I.type="audio",p.audio.push(I),R=!0));break}if(R)break;g-=vt,_-=vt;continue}g--,_--}},Zb=function(d,m,p){for(var g=0,_=vt,T,w,A,L,I,R,H,X,Z=!1,G={data:[],size:0};_<d.byteLength;){if(d[g]===dr&&d[_]===dr){switch(T=d.subarray(g,_),w=be.ts.parseType(T,m.pid),w){case"pes":if(A=be.ts.parsePesType(T,m.table),L=be.ts.parsePayloadUnitStartIndicator(T),A==="video"&&(L&&!Z&&(I=be.ts.parsePesTime(T),I&&(I.type="video",p.video.push(I),Z=!0)),!p.firstKeyFrame)){if(L&&G.size!==0){for(R=new Uint8Array(G.size),H=0;G.data.length;)X=G.data.shift(),R.set(X,H),H+=X.byteLength;if(be.ts.videoPacketContainsKeyFrame(R)){var se=be.ts.parsePesTime(R);se?(p.firstKeyFrame=se,p.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}G.size=0}G.data.push(T),G.size+=T.byteLength}break}if(Z&&p.firstKeyFrame)break;g+=vt,_+=vt;continue}g++,_++}for(_=d.byteLength,g=_-vt,Z=!1;g>=0;){if(d[g]===dr&&d[_]===dr){switch(T=d.subarray(g,_),w=be.ts.parseType(T,m.pid),w){case"pes":A=be.ts.parsePesType(T,m.table),L=be.ts.parsePayloadUnitStartIndicator(T),A==="video"&&L&&(I=be.ts.parsePesTime(T),I&&(I.type="video",p.video.push(I),Z=!0));break}if(Z)break;g-=vt,_-=vt;continue}g--,_--}},eE=function(d,m){if(d.audio&&d.audio.length){var p=m;(typeof p=="undefined"||isNaN(p))&&(p=d.audio[0].dts),d.audio.forEach(function(T){T.dts=ii(T.dts,p),T.pts=ii(T.pts,p),T.dtsTime=T.dts/En,T.ptsTime=T.pts/En})}if(d.video&&d.video.length){var g=m;if((typeof g=="undefined"||isNaN(g))&&(g=d.video[0].dts),d.video.forEach(function(T){T.dts=ii(T.dts,g),T.pts=ii(T.pts,g),T.dtsTime=T.dts/En,T.ptsTime=T.pts/En}),d.firstKeyFrame){var _=d.firstKeyFrame;_.dts=ii(_.dts,g),_.pts=ii(_.pts,g),_.dtsTime=_.dts/En,_.ptsTime=_.pts/En}}},tE=function(d){for(var m=!1,p=0,g=null,_=null,T=0,w=0,A;d.length-w>=3;){var L=be.aac.parseType(d,w);switch(L){case"timed-metadata":if(d.length-w<10){m=!0;break}if(T=be.aac.parseId3TagSize(d,w),T>d.length){m=!0;break}_===null&&(A=d.subarray(w,w+T),_=be.aac.parseAacTimestamp(A)),w+=T;break;case"audio":if(d.length-w<7){m=!0;break}if(T=be.aac.parseAdtsSize(d,w),T>d.length){m=!0;break}g===null&&(A=d.subarray(w,w+T),g=be.aac.parseSampleRate(A)),p++,w+=T;break;default:w++;break}if(m)return null}if(g===null||_===null)return null;var I=En/g,R={audio:[{type:"audio",dts:_,pts:_},{type:"audio",dts:_+p*1024*I,pts:_+p*1024*I}]};return R},rE=function(d){var m={pid:null,table:null},p={};Jb(d,m);for(var g in m.table)if(m.table.hasOwnProperty(g)){var _=m.table[g];switch(_){case rt.H264_STREAM_TYPE:p.video=[],Zb(d,m,p),p.video.length===0&&delete p.video;break;case rt.ADTS_STREAM_TYPE:p.audio=[],bm(d,m,p),p.audio.length===0&&delete p.audio;break}}return p},nE=function(d,m){var p=be.aac.isLikelyAacData(d),g;return p?g=tE(d):g=rE(d),!g||!g.audio&&!g.video?null:(eE(g,m),g)},iE={inspect:nE,parseAudioPes_:bm},aE=function(d,m){m.on("data",function(p){var g=p.initSegment;p.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};var _=p.data;p.data=_.buffer,d.postMessage({action:"data",segment:p,byteOffset:_.byteOffset,byteLength:_.byteLength},[p.data])}),m.on("done",function(p){d.postMessage({action:"done"})}),m.on("gopInfo",function(p){d.postMessage({action:"gopInfo",gopInfo:p})}),m.on("videoSegmentTimingInfo",function(p){var g={start:{decode:Te.videoTsToSeconds(p.start.dts),presentation:Te.videoTsToSeconds(p.start.pts)},end:{decode:Te.videoTsToSeconds(p.end.dts),presentation:Te.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:Te.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=Te.videoTsToSeconds(p.prependedContentDuration)),d.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:g})}),m.on("audioSegmentTimingInfo",function(p){var g={start:{decode:Te.videoTsToSeconds(p.start.dts),presentation:Te.videoTsToSeconds(p.start.pts)},end:{decode:Te.videoTsToSeconds(p.end.dts),presentation:Te.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:Te.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=Te.videoTsToSeconds(p.prependedContentDuration)),d.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:g})}),m.on("id3Frame",function(p){d.postMessage({action:"id3Frame",id3Frame:p})}),m.on("caption",function(p){d.postMessage({action:"caption",caption:p})}),m.on("trackinfo",function(p){d.postMessage({action:"trackinfo",trackInfo:p})}),m.on("audioTimingInfo",function(p){d.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Te.videoTsToSeconds(p.start),end:Te.videoTsToSeconds(p.end)}})}),m.on("videoTimingInfo",function(p){d.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Te.videoTsToSeconds(p.start),end:Te.videoTsToSeconds(p.end)}})}),m.on("log",function(p){d.postMessage({action:"log",log:p})})},Em=function(){function C(m,p){this.options=p||{},this.self=m,this.init()}var d=C.prototype;return d.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new wb.Transmuxer(this.options),aE(this.self,this.transmuxer)},d.pushMp4Captions=function(p){this.captionParser||(this.captionParser=new zb,this.captionParser.init());var g=new Uint8Array(p.data,p.byteOffset,p.byteLength),_=this.captionParser.parse(g,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:g.buffer},[g.buffer])},d.probeMp4StartTime=function(p){var g=p.timescales,_=p.data,T=xm.startTime(g,_);this.self.postMessage({action:"probeMp4StartTime",startTime:T,data:_},[_.buffer])},d.probeMp4Tracks=function(p){var g=p.data,_=xm.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:g},[g.buffer])},d.probeTs=function(p){var g=p.data,_=p.baseStartTime,T=typeof _=="number"&&!isNaN(_)?_*Te.ONE_SECOND_IN_TS:void 0,w=iE.inspect(g,T),A=null;w&&(A={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},A.hasVideo&&(A.videoStart=w.video[0].ptsTime),A.hasAudio&&(A.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:A,data:g},[g.buffer])},d.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},d.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},d.push=function(p){var g=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(g)},d.reset=function(){this.transmuxer.reset()},d.setTimestampOffset=function(p){var g=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Te.secondsToVideoTs(g)))},d.setAudioAppendStart=function(p){this.transmuxer.setAudioAppendStart(Math.ceil(Te.secondsToVideoTs(p.appendStart)))},d.setRemux=function(p){this.transmuxer.setRemux(p.remux)},d.flush=function(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},d.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},d.alignGopsWith=function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())},C}();self.onmessage=function(C){if(C.data.action==="init"&&C.data.options){this.messageHandlers=new Em(self,C.data.options);return}this.messageHandlers||(this.messageHandlers=new Em(self)),C.data&&C.data.action&&C.data.action!=="init"&&this.messageHandlers[C.data.action]&&this.messageHandlers[C.data.action](C.data)}})),fI=_x(dI),hI=function(e,n,i){var r=e.data.segment,a=r.type,s=r.initSegment,o=r.captions,u=r.captionStreams,l=r.metadata,c=r.videoFrameDtsTime,h=r.videoFramePtsTime;n.buffer.push({captions:o,captionStreams:u,metadata:l});var f=e.data.segment.boxes||{data:e.data.segment.data},y={type:a,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof c!="undefined"&&(y.videoFrameDtsTime=c),typeof h!="undefined"&&(y.videoFramePtsTime=h),i(y)},pI=function(e){var n=e.transmuxedData,i=e.callback;n.buffer=[],i(n)},mI=function(e,n){n.gopInfo=e.data.gopInfo},Sx=function(e){var n=e.transmuxer,i=e.bytes,r=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,u=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,h=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,y=e.onId3,b=e.onCaptions,x=e.onDone,v=e.onEndedTimeline,S=e.onTransmuxerLog,E=e.isEndOfTimeline,k={buffer:[]},P=E,O=function(U){n.currentTransmux===e&&(U.data.action==="data"&&hI(U,k,o),U.data.action==="trackinfo"&&u(U.data.trackInfo),U.data.action==="gopInfo"&&mI(U,k),U.data.action==="audioTimingInfo"&&l(U.data.audioTimingInfo),U.data.action==="videoTimingInfo"&&c(U.data.videoTimingInfo),U.data.action==="videoSegmentTimingInfo"&&h(U.data.videoSegmentTimingInfo),U.data.action==="audioSegmentTimingInfo"&&f(U.data.audioSegmentTimingInfo),U.data.action==="id3Frame"&&y([U.data.id3Frame],U.data.id3Frame.dispatchType),U.data.action==="caption"&&b(U.data.caption),U.data.action==="endedtimeline"&&(P=!1,v()),U.data.action==="log"&&S(U.data.log),U.data.type==="transmuxed"&&(P||(n.onmessage=null,pI({transmuxedData:k,callback:x}),bx(n))))};if(n.onmessage=O,r&&n.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(a)&&n.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s!="undefined"&&n.postMessage({action:"setRemux",remux:s}),i.byteLength){var M=i instanceof ArrayBuffer?i:i.buffer,B=i instanceof ArrayBuffer?0:i.byteOffset;n.postMessage({action:"push",data:M,byteOffset:B,byteLength:i.byteLength},[M])}E&&n.postMessage({action:"endTimeline"}),n.postMessage({action:"flush"})},bx=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():Sx(e.currentTransmux))},Ex=function(e,n){e.postMessage({action:n}),bx(e)},Cx=function(e,n){if(!n.currentTransmux){n.currentTransmux=e,Ex(n,e);return}n.transmuxQueue.push(Ex.bind(null,n,e))},gI=function(e){Cx("reset",e)},vI=function(e){Cx("endTimeline",e)},wx=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,Sx(e);return}e.transmuxer.transmuxQueue.push(e)},yI=function(e){var n=new fI;n.currentTransmux=null,n.transmuxQueue=[];var i=n.terminate;return n.terminate=function(){return n.currentTransmux=null,n.transmuxQueue.length=0,i.call(n)},n.postMessage({action:"init",options:e}),n},Sp={reset:gI,endTimeline:vI,transmux:wx,createTransmuxer:yI},Ml=function(e){var n=e.transmuxer,i=e.endAction||e.action,r=e.callback,a=Le({},e,{endAction:null,transmuxer:null,callback:null}),s=function l(c){c.data.action===i&&(n.removeEventListener("message",l),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),r(c.data))};if(n.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var u=[o?e.data:e.data.buffer];n.postMessage(a,u)}else n.postMessage(a)},br={FAILURE:2,TIMEOUT:-101,ABORTED:-102},bp=function(e){e.forEach(function(n){n.abort()})},_I=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},TI=function(e){var n=e.target,i=Date.now()-n.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Ep=function(e,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:br.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:br.ABORTED,xhr:n}:e?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:br.FAILURE,xhr:n}:n.responseType==="arraybuffer"&&n.response.byteLength===0?{status:n.status,message:"Empty HLS response at URL: "+n.uri,code:br.FAILURE,xhr:n}:null},kx=function(e,n,i){return function(r,a){var s=a.response,o=Ep(r,a);if(o)return i(o,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:br.FAILURE,xhr:a},e);for(var u=new DataView(s),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),c=0;c<n.length;c++)n[c].bytes=l;return i(null,e)}},Px=function(e,n){var i=sh(e.map.bytes);if(i!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return n({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+r,code:br.FAILURE})}Ml({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,u=s.data;return e.map.bytes=u,o.forEach(function(l){e.map.tracks=e.map.tracks||{},!e.map.tracks[l.type]&&(e.map.tracks[l.type]=l,typeof l.id=="number"&&l.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[l.id]=l.timescale))}),n(null)}})},xI=function(e){var n=e.segment,i=e.finishProcessingFn;return function(r,a){var s=Ep(r,a);if(s)return i(s,n);var o=new Uint8Array(a.response);if(n.map.key)return n.map.encryptedBytes=o,i(null,n);n.map.bytes=o,Px(n,function(u){if(u)return u.xhr=a,u.status=a.status,i(u,n);i(null,n)})}},SI=function(e){var n=e.segment,i=e.finishProcessingFn,r=e.responseType;return function(a,s){var o=Ep(a,s);if(o)return i(o,n);var u=r==="arraybuffer"||!s.responseText?s.response:lI(s.responseText.substring(n.lastReachedChar||0));return n.stats=_I(s),n.key?n.encryptedBytes=new Uint8Array(u):n.bytes=new Uint8Array(u),i(null,n)}},bI=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,b=e.onTransmuxerLog,x=n.map&&n.map.tracks||{},v=Boolean(x.audio&&x.video),S=a.bind(null,n,"audio","start"),E=a.bind(null,n,"audio","end"),k=a.bind(null,n,"video","start"),P=a.bind(null,n,"video","end"),O=function(){return wx({bytes:i,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:v,onData:function(F){F.type=F.type==="combined"?"video":F.type,f(n,F)},onTrackInfo:function(F){r&&(v&&(F.isMuxed=!0),r(n,F))},onAudioTimingInfo:function(F){S&&typeof F.start!="undefined"&&(S(F.start),S=null),E&&typeof F.end!="undefined"&&E(F.end)},onVideoTimingInfo:function(F){k&&typeof F.start!="undefined"&&(k(F.start),k=null),P&&typeof F.end!="undefined"&&P(F.end)},onVideoSegmentTimingInfo:function(F){s(F)},onAudioSegmentTimingInfo:function(F){o(F)},onId3:function(F,U){u(n,F,U)},onCaptions:function(F){l(n,[F])},isEndOfTimeline:c,onEndedTimeline:function(){h()},onTransmuxerLog:b,onDone:function(F){!y||(F.type=F.type==="combined"?"video":F.type,y(null,n,F))}})};Ml({action:"probeTs",transmuxer:n.transmuxer,data:i,baseStartTime:n.baseStartTime,callback:function(B){n.bytes=i=B.data;var F=B.result;F&&(r(n,{hasAudio:F.hasAudio,hasVideo:F.hasVideo,isMuxed:v}),r=null,F.hasAudio&&!v&&S(F.audioStart),F.hasVideo&&k(F.videoStart),S=null,k=null),O()}})},Ax=function(e){var n=e.segment,i=e.bytes,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,b=e.onTransmuxerLog,x=new Uint8Array(i);if(Gk(x)){n.isFmp4=!0;var v=n.map.tracks,S={isFmp4:!0,hasVideo:!!v.video,hasAudio:!!v.audio};v.audio&&v.audio.codec&&v.audio.codec!=="enca"&&(S.audioCodec=v.audio.codec),v.video&&v.video.codec&&v.video.codec!=="encv"&&(S.videoCodec=v.video.codec),v.video&&v.audio&&(S.isMuxed=!0),r(n,S);var E=function(P){f(n,{data:x,type:S.hasAudio&&!S.isMuxed?"audio":"video"}),P&&P.length&&l(n,P),y(null,n,{})};Ml({action:"probeMp4StartTime",timescales:n.map.timescales,data:x,transmuxer:n.transmuxer,callback:function(P){var O=P.data,M=P.startTime;if(i=O.buffer,n.bytes=x=O,S.hasAudio&&!S.isMuxed&&a(n,"audio","start",M),S.hasVideo&&a(n,"video","start",M),!v.video||!O.byteLength||!n.transmuxer){E();return}Ml({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:x,timescales:n.map.timescales,trackIds:[v.video.id],callback:function(F){i=F.data.buffer,n.bytes=x=F.data,F.logs.forEach(function(U){b(N.mergeOptions(U,{stream:"mp4CaptionParser"}))}),E(F.captions)}})}});return}if(!n.transmuxer){y(null,n,{});return}if(typeof n.container=="undefined"&&(n.container=sh(x)),n.container!=="ts"&&n.container!=="aac"){r(n,{hasAudio:!1,hasVideo:!1}),y(null,n,{});return}bI({segment:n,bytes:i,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:b})},Ix=function(e,n){var i=e.id,r=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function l(c){if(c.data.source===i){s.removeEventListener("message",l);var h=c.data.decrypted;n(new Uint8Array(h.bytes,h.byteOffset,h.byteLength))}};s.addEventListener("message",o);var u;r.bytes.slice?u=r.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(r.bytes)),s.postMessage(dx({source:i,encrypted:a,key:u,iv:r.iv}),[a.buffer,u.buffer])},EI=function(e){var n=e.decryptionWorker,i=e.segment,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,b=e.onTransmuxerLog;Ix({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n},function(x){i.bytes=x,Ax({segment:i,bytes:i.bytes,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:b})})},CI=function(e){var n=e.activeXhrs,i=e.decryptionWorker,r=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,b=e.onTransmuxerLog,x=0,v=!1;return function(S,E){if(!v){if(S)return v=!0,bp(n),y(S,E);if(x+=1,x===n.length){var k=function(){if(E.encryptedBytes)return EI({decryptionWorker:i,segment:E,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:b});Ax({segment:E,bytes:E.bytes,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:b})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return Ix({decryptionWorker:i,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key},function(P){E.map.bytes=P,Px(E,function(O){if(O)return bp(n),y(O,E);k()})});k()}}}},wI=function(e){var n=e.loadendState,i=e.abortFn;return function(r){var a=r.target;a.aborted&&i&&!n.calledAbortFn&&(i(),n.calledAbortFn=!0)}},kI=function(e){var n=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var a=r.target;if(!a.aborted)return n.stats=N.mergeOptions(n.stats,TI(r)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),i(r,n)}},PI=function(e){var n=e.xhr,i=e.xhrOptions,r=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,u=e.trackInfoFn,l=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,h=e.audioSegmentTimingInfoFn,f=e.id3Fn,y=e.captionsFn,b=e.isEndOfTimeline,x=e.endedTimelineFn,v=e.dataFn,S=e.doneFn,E=e.onTransmuxerLog,k=[],P=CI({activeXhrs:k,decryptionWorker:r,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:y,isEndOfTimeline:b,endedTimelineFn:x,dataFn:v,doneFn:S,onTransmuxerLog:E});if(a.key&&!a.key.bytes){var O=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&O.push(a.map.key);var M=N.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),B=kx(a,O,P),F=n(M,B);k.push(F)}if(a.map&&!a.map.bytes){var U=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(U){var j=N.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),te=kx(a,[a.map.key],P),oe=n(j,te);k.push(oe)}var ae=N.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:_p(a.map)}),he=xI({segment:a,finishProcessingFn:P}),ne=n(ae,he);k.push(ne)}var fe=N.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:_p(a)}),me=SI({segment:a,finishProcessingFn:P,responseType:fe.responseType}),_e=n(fe,me);_e.addEventListener("progress",kI({segment:a,progressFn:o,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:y,isEndOfTimeline:b,endedTimelineFn:x,dataFn:v})),k.push(_e);var re={};return k.forEach(function(ee){ee.addEventListener("loadend",wI({loadendState:re,abortFn:s}))}),function(){return bp(k)}},AI=cr("CodecUtils"),II=function(e){var n=e.attributes||{};if(n.CODECS)return _r(n.CODECS)},Dx=function(e,n){var i=n.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},DI=function(e,n){if(!Dx(e,n))return!0;var i=n.attributes||{},r=e.mediaGroups.AUDIO[i.AUDIO];for(var a in r)if(!r[a].uri&&!r[a].playlists)return!0;return!1},Nl=function(e){var n={};return e.forEach(function(i){var r=i.mediaType,a=i.type,s=i.details;n[r]=n[r]||[],n[r].push(ny(""+a+s))}),Object.keys(n).forEach(function(i){if(n[i].length>1){AI("multiple "+i+" codecs found as attributes: "+n[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),n[i]=null;return}n[i]=n[i][0]}),n},Lx=function(e){var n=0;return e.audio&&n++,e.video&&n++,n},no=function(e,n){var i=n.attributes||{},r=Nl(II(n)||[]);if(Dx(e,n)&&!r.audio&&!DI(e,n)){var a=Nl(dw(e,i.AUDIO)||[]);a.audio&&(r.audio=a.audio)}return r},Fl=cr("PlaylistSelector"),Ox=function(e){if(!(!e||!e.playlist)){var n=e.playlist;return JSON.stringify({id:n.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:n.attributes&&n.attributes.CODECS||""})}},Ul=function(e,n){if(!e)return"";var i=D.getComputedStyle(e);return i?i[n]:""},pa=function(e,n){var i=e.slice();e.sort(function(r,a){var s=n(r,a);return s===0?i.indexOf(r)-i.indexOf(a):s})},Cp=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||D.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||D.Number.MAX_VALUE,i-r},LI=function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||D.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||D.Number.MAX_VALUE,i===r&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},Rx=function(e,n,i,r,a,s){if(!!e){var o={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:a},u=e.playlists;Mt.isAudioOnly(e)&&(u=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=u.map(function(j){var te,oe=j.attributes&&j.attributes.RESOLUTION&&j.attributes.RESOLUTION.width,ae=j.attributes&&j.attributes.RESOLUTION&&j.attributes.RESOLUTION.height;return te=j.attributes&&j.attributes.BANDWIDTH,te=te||D.Number.MAX_VALUE,{bandwidth:te,width:oe,height:ae,playlist:j}});pa(l,function(j,te){return j.bandwidth-te.bandwidth}),l=l.filter(function(j){return!Mt.isIncompatible(j.playlist)});var c=l.filter(function(j){return Mt.isEnabled(j.playlist)});c.length||(c=l.filter(function(j){return!Mt.isDisabled(j.playlist)}));var h=c.filter(function(j){return j.bandwidth*et.BANDWIDTH_VARIANCE<n}),f=h[h.length-1],y=h.filter(function(j){return j.bandwidth===f.bandwidth})[0];if(a===!1){var b=y||c[0]||l[0];if(b&&b.playlist){var x="sortedPlaylistReps";return y&&(x="bandwidthBestRep"),c[0]&&(x="enabledPlaylistReps"),Fl("choosing "+Ox(b)+" using "+x+" with options",o),b.playlist}return Fl("could not choose a playlist with options",o),null}var v=h.filter(function(j){return j.width&&j.height});pa(v,function(j,te){return j.width-te.width});var S=v.filter(function(j){return j.width===i&&j.height===r});f=S[S.length-1];var E=S.filter(function(j){return j.bandwidth===f.bandwidth})[0],k,P,O;E||(k=v.filter(function(j){return j.width>i||j.height>r}),P=k.filter(function(j){return j.width===k[0].width&&j.height===k[0].height}),f=P[P.length-1],O=P.filter(function(j){return j.bandwidth===f.bandwidth})[0]);var M;if(s.experimentalLeastPixelDiffSelector){var B=v.map(function(j){return j.pixelDiff=Math.abs(j.width-i)+Math.abs(j.height-r),j});pa(B,function(j,te){return j.pixelDiff===te.pixelDiff?te.bandwidth-j.bandwidth:j.pixelDiff-te.pixelDiff}),M=B[0]}var F=M||O||E||y||c[0]||l[0];if(F&&F.playlist){var U="sortedPlaylistReps";return M?U="leastPixelDiffRep":O?U="resolutionPlusOneRep":E?U="resolutionBestRep":y?U="bandwidthBestRep":c[0]&&(U="enabledPlaylistReps"),Fl("choosing "+Ox(F)+" using "+U+" with options",o),F.playlist}return Fl("could not choose a playlist with options",o),null}},Mx=function(){var e=this.useDevicePixelRatio&&D.devicePixelRatio||1;return Rx(this.playlists.master,this.systemBandwidth,parseInt(Ul(this.tech_.el(),"width"),10)*e,parseInt(Ul(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},OI=function(e){var n=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&D.devicePixelRatio||1;return n<0&&(n=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(n=e*this.systemBandwidth+(1-e)*n,i=this.systemBandwidth),Rx(this.playlists.master,n,parseInt(Ul(this.tech_.el(),"width"),10)*r,parseInt(Ul(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},RI=function(e){var n=e.master,i=e.currentTime,r=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,u=e.currentTimeline,l=e.syncController,c=n.playlists.filter(function(x){return!Mt.isIncompatible(x)}),h=c.filter(Mt.isEnabled);h.length||(h=c.filter(function(x){return!Mt.isDisabled(x)}));var f=h.filter(Mt.hasAttribute.bind(null,"BANDWIDTH")),y=f.map(function(x){var v=l.getSyncPoint(x,a,u,i),S=v?1:2,E=Mt.estimateSegmentRequestTime(s,r,x),k=E*S-o;return{playlist:x,rebufferingImpact:k}}),b=y.filter(function(x){return x.rebufferingImpact<=0});return pa(b,function(x,v){return Cp(v.playlist,x.playlist)}),b.length?b[0]:(pa(y,function(x,v){return x.rebufferingImpact-v.rebufferingImpact}),y[0]||null)},MI=function(){var e=this,n=this.playlists.master.playlists.filter(Mt.isEnabled);pa(n,function(r,a){return Cp(r,a)});var i=n.filter(function(r){return!!no(e.playlists.master,r).video});return i[0]||null},NI=function(e){var n=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(r){i.set(r,n),n+=r.byteLength})),i},FI=function(e,n,i){if(!e[i]){n.trigger({type:"usage",name:"vhs-608"}),n.trigger({type:"usage",name:"hls-608"});var r=i;/^cc708_/.test(i)&&(r="SERVICE"+i.split("_")[1]);var a=n.textTracks().getTrackById(r);if(a)e[i]=a;else{var s=n.options_.vhs&&n.options_.vhs.captionServices||{},o=i,u=i,l=!1,c=s[r];c&&(o=c.label,u=c.language,l=c.default),e[i]=n.addRemoteTextTrack({kind:"captions",id:r,default:l,label:o,language:u},!1).track}}},UI=function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(!!i){var a=D.WebKitDataCue||D.VTTCue;i.forEach(function(s){var o=s.stream;n[o].addCue(new a(s.startTime+r,s.endTime+r,s.text))})}},BI=function(e){Object.defineProperties(e.frame,{id:{get:function(){return N.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return N.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return N.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},jI=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,a=e.videoDuration;if(!!i){var s=D.WebKitDataCue||D.VTTCue,o=n.metadataTrack_;if(!!o&&(i.forEach(function(y){var b=y.cueTime+r;typeof b!="number"||D.isNaN(b)||b<0||!(b<1/0)||y.frames.forEach(function(x){var v=new s(b,b,x.value||x.url||x.data||"");v.frame=x,v.value=x,BI(v),o.addCue(v)})}),!(!o.cues||!o.cues.length))){for(var u=o.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var h=l.reduce(function(y,b){var x=y[b.startTime]||[];return x.push(b),y[b.startTime]=x,y},{}),f=Object.keys(h).sort(function(y,b){return Number(y)-Number(b)});f.forEach(function(y,b){var x=h[y],v=Number(f[b+1])||a;x.forEach(function(S){S.endTime=v})})}}},HI=function(e,n,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n)},io=function(e,n,i){var r,a;if(!!i&&!!i.cues)for(r=i.cues.length;r--;)a=i.cues[r],a.startTime>=e&&a.endTime<=n&&i.removeCue(a)},VI=function(e){var n=e.cues;if(!!n)for(var i=0;i<n.length;i++){for(var r=[],a=0,s=0;s<n.length;s++)n[i].startTime===n[s].startTime&&n[i].endTime===n[s].endTime&&n[i].text===n[s].text&&(a++,a>1&&r.push(n[s]));r.length&&r.forEach(function(o){return e.removeCue(o)})}},WI=function(e,n,i){if(typeof n=="undefined"||n===null||!e.length)return[];var r=Math.ceil((n-i+3)*tl.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>r);a++);return e.slice(a)},zI=function(e,n,i){if(!n.length)return e;if(i)return n.slice();var r=n[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=r);a++);return e.slice(0,a).concat(n)},$I=function(e,n,i,r){for(var a=Math.ceil((n-r)*tl.ONE_SECOND_IN_TS),s=Math.ceil((i-r)*tl.ONE_SECOND_IN_TS),o=e.slice(),u=e.length;u--&&!(e[u].pts<=s););if(u===-1)return o;for(var l=u+1;l--&&!(e[l].pts<=a););return l=Math.max(l,0),o.splice(l,u-l+1),o},GI=function(e,n){if(!e&&!n||!e&&n||e&&!n)return!1;if(e===n)return!0;var i=Object.keys(e).sort(),r=Object.keys(n).sort();if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==r[a]||e[s]!==n[s])return!1}return!0},Nx=22,qI=function(e,n,i){n=n||[];for(var r=[],a=0,s=0;s<n.length;s++){var o=n[s];if(e===o.timeline&&(r.push(s),a+=o.duration,a>i))return s}return r.length===0?0:r[r.length-1]},ao=1,KI=500,Fx=function(e){return typeof e=="number"&&isFinite(e)},Bl=1/60,XI=function(e,n,i){return e!=="main"||!n||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":n.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},QI=function(e,n,i){var r=n-et.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var a=n-i;return Math.min(a,r)},ma=function(e){var n=e.startOfSegment,i=e.duration,r=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,u=s.id,l=s.segments,c=l===void 0?[]:l,h=e.mediaIndex,f=e.partIndex,y=e.timeline,b=c.length-1,x="mediaIndex/partIndex increment";e.getMediaInfoForTime?x="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(x="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(x+=" with independent "+e.independent);var v=typeof f=="number",S=e.segment.uri?"segment":"pre-segment",E=v?QT({preloadSegment:r})-1:0;return S+" ["+(o+h)+"/"+(o+b)+"]"+(v?" part ["+f+"/"+E+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(v?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+n+"]")+(" duration ["+i+"]")+(" timeline ["+y+"]")+(" selected by ["+x+"]")+(" playlist ["+u+"]")},Ux=function(e){return e+"TimingInfo"},YI=function(e){var n=e.segmentTimeline,i=e.currentTimeline,r=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&n===i?null:n<i?r:a.length?a.end(a.length-1):r},Bx=function(e){var n=e.timelineChangeController,i=e.currentTimeline,r=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===r)return!1;if(a==="audio"){var o=n.lastTimelineChange({type:"main"});return!o||o.to!==r}if(a==="main"&&s){var u=n.pendingTimelineChange({type:"audio"});return!(u&&u.to===r)}return!1},JI=function(e,n){var i=e&&typeof e.start=="number"&&typeof e.end=="number"?e.end-e.start:0,r=n&&typeof n.start=="number"&&typeof n.end=="number"?n.end-n.start:0;return Math.max(i,r)},jx=function(e){var n=e.segmentDuration,i=e.maxDuration;return n?Math.round(n)>i+Tn:!1},ZI=function(e,n){if(n!=="hls")return null;var i=JI(e.audioTimingInfo,e.videoTimingInfo);if(!i)return null;var r=e.playlist.targetDuration,a=jx({segmentDuration:i,maxDuration:r*2}),s=jx({segmentDuration:i,maxDuration:r}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},wp=function(t){z(e,t);function e(i,r){var a;if(a=t.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=N.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=cr("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(ue(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var n=e.prototype;return n.createTransmuxer_=function(){return Sp.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&D.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,D.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},n.error=function(r){return typeof r!="undefined"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Sp.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return N.createTimeRanges();if(this.loaderType_==="main"){var a=r.hasAudio,s=r.hasVideo,o=r.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=Rl(r),o=this.initSegments_[s];return a&&!o&&r.bytes&&(this.initSegments_[s]=o={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),o||r},n.segmentKey=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=fx(r),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&r.bytes&&(this.keyCache_[s]=o={resolvedUri:r.resolvedUri,bytes:r.bytes});var u={resolvedUri:(o||r).resolvedUri};return o&&(u.bytes=o.bytes),u},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(r,a){if(a===void 0&&(a={}),!!r){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=a,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var u=null;if(s&&(s.id?u=s.id:s.uri&&(u=s.uri)),this.logger_("playlist update ["+u+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var l=r.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+l+"]"),this.mediaIndex!==null)if(this.mediaIndex-=l,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var h=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=h}}o&&(o.mediaIndex-=l,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=r.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,r)}},n.pause=function(){this.checkBufferTimeout_&&(D.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return this.checkBufferTimeout_===null},n.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&Sp.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(r,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var u=1,l=function(){u--,u===0&&s()};(o||!this.audioDisabled_)&&(u++,this.sourceUpdater_.removeAudio(r,a,l)),(o||this.loaderType_==="main")&&(this.gopBuffer_=$I(this.gopBuffer_,r,a,this.timeMapping_),u++,this.sourceUpdater_.removeVideo(r,a,l));for(var c in this.inbandTextTracks_)io(r,a,this.inbandTextTracks_[c]);io(r,a,this.segmentMetadataTrack_),l()},n.monitorBuffer_=function(){this.checkBufferTimeout_&&D.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=D.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&D.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=D.setTimeout(this.monitorBufferTick_.bind(this),KI)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},n.isEndOfStream_=function(r,a,s){if(r===void 0&&(r=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof r=="number"&&a.segments[r],u=r+1===a.segments.length,l=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&u&&l},n.chooseNextRequest_=function(){var r=this.buffered_(),a=qT(r)||0,s=lp(r,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,u=s>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||o||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=qI(this.currentTimeline_,l,a);else if(this.mediaIndex!==null){var h=l[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=h.end?h.end:a,h.parts&&h.parts[f+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=f+1):c.mediaIndex=this.mediaIndex+1}else{var y=Mt.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),b=y.segmentIndex,x=y.startTime,v=y.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),c.mediaIndex=b,c.startOfSegment=x,c.partIndex=v}var S=l[c.mediaIndex],E=S&&typeof c.partIndex=="number"&&S.parts&&S.parts[c.partIndex];if(!S||typeof c.partIndex=="number"&&!E)return null;if(typeof c.partIndex!="number"&&S.parts&&(c.partIndex=0,E=S.parts[0]),!s&&E&&!E.independent)if(c.partIndex===0){var k=l[c.mediaIndex-1],P=k.parts&&k.parts.length&&k.parts[k.parts.length-1];P&&P.independent&&(c.mediaIndex-=1,c.partIndex=k.parts.length-1,c.independent="previous segment")}else S.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var O=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=l.length-1&&O&&!this.seeking_()?null:this.generateSegmentInfo_(c)},n.generateSegmentInfo_=function(r){var a=r.independent,s=r.playlist,o=r.mediaIndex,u=r.startOfSegment,l=r.isSyncRequest,c=r.partIndex,h=r.forceTimestampOffset,f=r.getMediaInfoForTime,y=s.segments[o],b=typeof c=="number"&&y.parts[c],x={requestId:"segment-loader-"+Math.random(),uri:b&&b.resolvedUri||y.resolvedUri,mediaIndex:o,partIndex:b?c:null,isSyncRequest:l,startOfSegment:u,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:y.timeline,duration:b&&b.duration||y.duration,segment:y,part:b,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:a},v=typeof h!="undefined"?h:this.isPendingTimestampOffset_;x.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:y.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:v});var S=qT(this.sourceUpdater_.audioBuffered());return typeof S=="number"&&(x.audioAppendStart=S-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(x.gopsToAlignWith=WI(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),x},n.timestampOffsetForSegment_=function(r){return YI(r)},n.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=r.bandwidth,o=this.pendingSegment_.duration,u=Mt.estimateSegmentRequestTime(o,s,this.playlist_,r.bytesReceived),l=bA(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(u<=l)){var c=RI({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var h=u-l,f=h-c.rebufferingImpact,y=.5;l<=Tn&&(y=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||f<y)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*et.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(r){this.logger_("Aborting "+ma(r)),this.mediaRequestsAborted+=1},n.handleProgress_=function(r,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},n.handleTrackInfo_=function(r,a){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},GI(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},n.handleTimingInfo_=function(r,a,s,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var u=this.pendingSegment_,l=Ux(a);u[l]=u[l]||{},u[l][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(r,a){var s=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,a));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};a.forEach(function(c){l[c.stream]=l[c.stream]||{startTime:1/0,captions:[],endTime:0};var h=l[c.stream];h.startTime=Math.min(h.startTime,c.startTime+u),h.endTime=Math.max(h.endTime,c.endTime+u),h.captions.push(c)}),Object.keys(l).forEach(function(c){var h=l[c],f=h.startTime,y=h.endTime,b=h.captions,x=s.inbandTextTracks_;s.logger_("adding cues from "+f+" -> "+y+" for "+c),FI(x,s.vhs_.tech_,c),io(f,y,x[c]),UI({captionArray:b,inbandTextTracks:x,timestampOffset:u})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},n.handleId3_=function(r,a,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,a,s));return}var u=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();HI(this.inbandTextTracks_,s,this.vhs_.tech_),jI({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:u,videoDuration:this.duration_()})}},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(a){return a()})},n.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(a){return a()})},n.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!Bx({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},n.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!r||!a)return!1;var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed;return!(o&&!r.videoTimingInfo||s&&!this.audioDisabled_&&!u&&!r.audioTimingInfo||Bx({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(r,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),s.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),s.isFmp4=r.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[Ux(a.type)].start;else{var o=this.getCurrentMediaInfo_(),u=this.loaderType_==="main"&&o&&o.hasVideo,l;u&&(l=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:u,firstVideoFrameTimeForData:l,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==s.mediaIndex||c.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},n.updateAppendInitSegmentStatus=function(r,a){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==r.playlist&&(this.appendInitSegment_[a]=!0)},n.getInitSegmentAndUpdateState_=function(r){var a=r.type,s=r.initSegment,o=r.map,u=r.playlist;if(o){var l=Rl(o);if(this.activeInitSegmentId_===l)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=l}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=u,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},n.handleQuotaExceededError_=function(r,a){var s=this,o=r.segmentInfo,u=r.type,l=r.bytes,c=this.sourceUpdater_.audioBuffered(),h=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Zn(c).join(", ")),h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Zn(h).join(", "));var f=c.length?c.start(0):0,y=c.length?c.end(c.length-1):0,b=h.length?h.start(0):0,x=h.length?h.end(h.length-1):0;if(y-f<=ao&&x-b<=ao){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+l.byteLength+", ")+("audio buffer: "+Zn(c).join(", ")+", ")+("video buffer: "+Zn(h).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:u,bytes:l}));var v=this.currentTime_(),S=v-ao;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+S),this.remove(0,S,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+ao+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=D.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},ao*1e3)},!0)},n.handleAppendError_=function(r,a){var s=r.segmentInfo,o=r.type,u=r.bytes;if(!!a){if(a.code===Nx){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:u});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+u.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},n.appendToSourceBuffer_=function(r){var a=r.segmentInfo,s=r.type,o=r.initSegment,u=r.data,l=r.bytes;if(!l){var c=[u],h=u.byteLength;o&&(c.unshift(o),h+=o.byteLength),l=NI({bytes:h,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:l}))},n.handleSegmentTimingInfo_=function(r,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,u=r+"TimingInfo";o[u]||(o[u]={}),o[u].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[u].transmuxedPresentationStart=s.start.presentation,o[u].transmuxedDecodeStart=s.start.decode,o[u].transmuxedPresentationEnd=s.end.presentation,o[u].transmuxedDecodeEnd=s.end.decode,o[u].baseMediaDecodeTime=s.baseMediaDecodeTime}},n.appendData_=function(r,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var u=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:s,initSegment:u,data:o})}},n.loadSegment_=function(r){var a=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=Le({},r,{forceTimestampOffset:!0});Le(r,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},n.updateTransmuxerAndRequestSegment_=function(r){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var s=this.createSimplifiedSegmentObj_(r),o=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),u=this.mediaIndex!==null,l=r.timeline!==this.currentTimeline_&&r.timeline>0,c=o||u&&l;this.logger_("Requesting "+ma(r)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=PI({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var y=f.message,b=f.level,x=f.stream;a.logger_(ma(r)+" logged from transmuxer stream "+x+" as a "+b+": "+y)}})},n.trimBackBuffer_=function(r){var a=QI(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},n.createSimplifiedSegmentObj_=function(r){var a=r.segment,s=r.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},u=r.playlist.segments[r.mediaIndex-1];if(u&&u.timeline===a.timeline&&(u.videoTimingInfo?o.baseStartTime=u.videoTimingInfo.transmuxedDecodeEnd:u.audioTimingInfo&&(o.baseStartTime=u.audioTimingInfo.transmuxedDecodeEnd)),a.key){var l=a.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=l}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},n.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},n.saveBandwidthRelatedStats_=function(r,a){if(this.pendingSegment_.byteLength=a.bytesReceived,r<Bl){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+Bl));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(r,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===br.ABORTED)return;if(this.pause(),r.code===br.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=zI(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},n.setTimeMapping_=function(r){var a=this.syncController_.mappingForTimeline(r);a!==null&&(this.timeMapping_=a)},n.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},n.trueSegmentStart_=function(r){var a=r.currentStart,s=r.playlist,o=r.mediaIndex,u=r.firstVideoFrameTimeForData,l=r.currentVideoTimestampOffset,c=r.useVideoTimingInfo,h=r.videoTimingInfo,f=r.audioTimingInfo;if(typeof a!="undefined")return a;if(!c)return f.start;var y=s.segments[o-1];return o===0||!y||typeof y.start=="undefined"||y.end!==u+l?u:h.start},n.waitForAppendsToComplete_=function(r){var a=this.getCurrentMediaInfo_(r);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,u=a.isMuxed,l=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&s&&!u;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}l&&r.waitingOnAppends++,c&&r.waitingOnAppends++,l&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},n.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(r){var a=XI(this.loaderType_,this.getCurrentMediaInfo_(),r);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},n.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;r.timestampOffset-=r.timingInfo.start,r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),a=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},n.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!o||(r.timingInfo.end=typeof o.end=="number"?o.end:o.start+r.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=ZI(r,this.sourceType_);if(a&&(a.severity==="warn"?N.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+ma(r));return}this.logger_("Appended "+ma(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var s=r.segment,o=r.part,u=s.end&&this.currentTime_()-s.end>r.playlist.targetDuration*3,l=o&&o.end&&this.currentTime_()-o.end>r.playlist.partTargetDuration*3;if(u||l){this.logger_("bad "+(u?"segment":"part")+" "+ma(r)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},n.recordThroughput_=function(r){if(r.duration<Bl){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+Bl));return}var a=this.throughput.rate,s=Date.now()-r.endOfAllRequests+1,o=Math.floor(r.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},n.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var a=r.segment,s=a.start,o=a.end;if(!(!Fx(s)||!Fx(o))){io(s,o,this.segmentMetadataTrack_);var u=D.WebKitDataCue||D.VTTCue,l={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:s,end:o},c=JSON.stringify(l),h=new u(s,o,c);h.value=l,this.segmentMetadataTrack_.addCue(h)}}},e}(N.EventTarget);function $r(){}var Hx=function(e){return typeof e!="string"?e:e.replace(/./,function(n){return n.toUpperCase()})},eD=["video","audio"],kp=function(e,n){var i=n[e+"Buffer"];return i&&i.updating||n.queuePending[e]},tD=function(e,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.type==="mediaSource")return null;if(r.type===e)return i}return null},Pp=function t(e,n){if(n.queue.length!==0){var i=0,r=n.queue[i];if(r.type==="mediaSource"){!n.updating()&&n.mediaSource.readyState!=="closed"&&(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n));return}if(e!=="mediaSource"&&!(!n.ready()||n.mediaSource.readyState==="closed"||kp(e,n))){if(r.type!==e){if(i=tD(e,n.queue),i===null)return;r=n.queue[i]}if(n.queue.splice(i,1),n.queuePending[e]=r,r.action(e,n),!r.doneFn){n.queuePending[e]=null,t(e,n);return}}}},Vx=function(e,n){var i=n[e+"Buffer"],r=Hx(e);!i||(i.removeEventListener("updateend",n["on"+r+"UpdateEnd_"]),i.removeEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=null,n[e+"Buffer"]=null)},Er=function(e,n){return e&&n&&Array.prototype.indexOf.call(e.sourceBuffers,n)!==-1},Ht={appendBuffer:function(e,n,i){return function(r,a){var s=a[r+"Buffer"];if(!!Er(a.mediaSource,s)){a.logger_("Appending segment "+n.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===Nx?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+n.mediaIndex+" to "+r+"Buffer")),a.queuePending[r]=null,i(o)}}}},remove:function(e,n){return function(i,r){var a=r[i+"Buffer"];if(!!Er(r.mediaSource,a)){r.logger_("Removing "+e+" to "+n+" from "+i+"Buffer");try{a.remove(e,n)}catch{r.logger_("Remove "+e+" to "+n+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(n,i){var r=i[n+"Buffer"];!Er(i.mediaSource,r)||(i.logger_("Setting "+n+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(n,i){e()}},endOfStream:function(e){return function(n){if(n.mediaSource.readyState==="open"){n.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{n.mediaSource.endOfStream(e)}catch(i){N.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(n){n.logger_("Setting mediaSource duration to "+e);try{n.mediaSource.duration=e}catch(i){N.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,n){if(n.mediaSource.readyState==="open"){var i=n[e+"Buffer"];if(!!Er(n.mediaSource,i)){n.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(r){N.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,n){return function(i){var r=Hx(e),a=ws(n);i.logger_("Adding "+e+"Buffer with codec "+n+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+r+"UpdateEnd_"]),s.addEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=n,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(n){var i=n[e+"Buffer"];if(Vx(e,n),!!Er(n.mediaSource,i)){n.logger_("Removing "+e+"Buffer with codec "+n.codecs[e]+" from mediaSource");try{n.mediaSource.removeSourceBuffer(i)}catch(r){N.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(n,i){var r=i[n+"Buffer"],a=ws(e);!Er(i.mediaSource,r)||i.codecs[n]!==e&&(i.logger_("changing "+n+"Buffer codec from "+i.codecs[n]+" to "+e),r.changeType(a),i.codecs[n]=e)}}},Vt=function(e){var n=e.type,i=e.sourceUpdater,r=e.action,a=e.doneFn,s=e.name;i.queue.push({type:n,action:r,doneFn:a,name:s}),Pp(n,i)},Wx=function(e,n){return function(i){if(n.queuePending[e]){var r=n.queuePending[e].doneFn;n.queuePending[e]=null,r&&r(n[e+"Error_"])}Pp(e,n)}},zx=function(t){z(e,t);function e(i){var r;return r=t.call(this)||this,r.mediaSource=i,r.sourceopenListener_=function(){return Pp("mediaSource",ue(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=cr("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=Wx("video",ue(r)),r.onAudioUpdateEnd_=Wx("audio",ue(r)),r.onVideoError_=function(a){r.videoError_=a},r.onAudioError_=function(a){r.audioError_=a},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var n=e.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(r,a){Vt({type:"mediaSource",sourceUpdater:this,action:Ht.addSourceBuffer(r,a),name:"addSourceBuffer"})},n.abort=function(r){Vt({type:r,sourceUpdater:this,action:Ht.abort(r),name:"abort"})},n.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){N.log.error("removeSourceBuffer is not supported!");return}Vt({type:"mediaSource",sourceUpdater:this,action:Ht.removeSourceBuffer(r),name:"removeSourceBuffer"})},n.canRemoveSourceBuffer=function(){return!N.browser.IE_VERSION&&!N.browser.IS_FIREFOX&&D.MediaSource&&D.MediaSource.prototype&&typeof D.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return D.SourceBuffer&&D.SourceBuffer.prototype&&typeof D.SourceBuffer.prototype.changeType=="function"},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(r,a){if(!this.canChangeType()){N.log.error("changeType is not supported!");return}Vt({type:r,sourceUpdater:this,action:Ht.changeType(a),name:"changeType"})},n.addOrChangeSourceBuffers=function(r){var a=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(s){var o=r[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},n.appendBuffer=function(r,a){var s=this,o=r.segmentInfo,u=r.type,l=r.bytes;if(this.processedAppend_=!0,u==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,a]),this.logger_("delayed audio append of "+l.length+" until video append");return}var c=a;if(Vt({type:u,sourceUpdater:this,action:Ht.appendBuffer(l,o||{mediaIndex:-1},c),doneFn:a,name:"appendBuffer"}),u==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var h=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+h.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,h.forEach(function(f){s.appendBuffer.apply(s,f)})}},n.audioBuffered=function(){return Er(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:N.createTimeRange()},n.videoBuffered=function(){return Er(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:N.createTimeRange()},n.buffered=function(){var r=Er(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=Er(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!r?this.audioBuffered():r&&!a?this.videoBuffered():SA(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(r,a){a===void 0&&(a=$r),Vt({type:"mediaSource",sourceUpdater:this,action:Ht.duration(r),name:"duration",doneFn:a})},n.endOfStream=function(r,a){r===void 0&&(r=null),a===void 0&&(a=$r),typeof r!="string"&&(r=void 0),Vt({type:"mediaSource",sourceUpdater:this,action:Ht.endOfStream(r),name:"endOfStream",doneFn:a})},n.removeAudio=function(r,a,s){if(s===void 0&&(s=$r),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}Vt({type:"audio",sourceUpdater:this,action:Ht.remove(r,a),doneFn:s,name:"remove"})},n.removeVideo=function(r,a,s){if(s===void 0&&(s=$r),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}Vt({type:"video",sourceUpdater:this,action:Ht.remove(r,a),doneFn:s,name:"remove"})},n.updating=function(){return!!(kp("audio",this)||kp("video",this))},n.audioTimestampOffset=function(r){return typeof r!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(Vt({type:"audio",sourceUpdater:this,action:Ht.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},n.videoTimestampOffset=function(r){return typeof r!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(Vt({type:"video",sourceUpdater:this,action:Ht.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},n.audioQueueCallback=function(r){!this.audioBuffer||Vt({type:"audio",sourceUpdater:this,action:Ht.callback(r),name:"callback"})},n.videoQueueCallback=function(r){!this.videoBuffer||Vt({type:"video",sourceUpdater:this,action:Ht.callback(r),name:"callback"})},n.dispose=function(){var r=this;this.trigger("dispose"),eD.forEach(function(a){r.abort(a),r.canRemoveSourceBuffer()?r.removeSourceBuffer(a):r[a+"QueueCallback"](function(){return Vx(a,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(N.EventTarget),$x=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Gx=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),rD=function(t){z(e,t);function e(i,r){var a;return r===void 0&&(r={}),a=t.call(this,i,r)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.shouldSaveSegmentTimingInfo_=!1,a}var n=e.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return N.createTimeRanges();var r=this.subtitlesTrack_.cues,a=r[0].startTime,s=r[r.length-1].startTime;return N.createTimeRanges([[a,s]])},n.initSegmentForMap=function(r,a){if(a===void 0&&(a=!1),!r)return null;var s=Rl(r),o=this.initSegments_[s];if(a&&!o&&r.bytes){var u=Gx.byteLength+r.bytes.byteLength,l=new Uint8Array(u);l.set(r.bytes),l.set(Gx,r.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:l}}return o||r},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(r){return typeof r=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},n.remove=function(r,a){io(r,a,this.subtitlesTrack_)},n.fillBuffer_=function(){var r=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},n.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(r,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===br.TIMEOUT&&this.handleTimeout_(),r.code===br.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,a.stats),this.state="APPENDING",this.trigger("appending");var l=u.segment;if(l.map&&(l.map.bytes=a.map.bytes),u.bytes=a.bytes,typeof D.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c,h=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",c),o.stopForError({message:"Error loading vtt.js"})};c=function(){o.subtitlesTrack_.tech_.off("vttjserror",h),o.segmentRequestFinished_(r,a,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",c),this.subtitlesTrack_.tech_.one("vttjserror",h);return}l.requested=!0;try{this.parseVTTCues_(u)}catch(f){this.stopForError({message:f.message});return}if(this.updateTimeMapping_(u,this.syncController_.timelines[u.timeline],this.playlist_),u.cues.length?u.timingInfo={start:u.cues[0].startTime,end:u.cues[u.cues.length-1].endTime}:u.timingInfo={start:u.startOfSegment,end:u.startOfSegment+u.duration},u.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}u.byteLength=u.bytes.byteLength,this.mediaSecondsLoaded+=l.duration,u.cues.forEach(function(f){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new D.VTTCue(f.startTime,f.endTime,f.text):f)}),VI(this.subtitlesTrack_),this.handleAppendsDone_()},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(r){var a,s=!1;typeof D.TextDecoder=="function"?a=new D.TextDecoder("utf8"):(a=D.WebVTT.StringDecoder(),s=!0);var o=new D.WebVTT.Parser(D,D.vttjs,a);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=r.cues.push.bind(r.cues),o.ontimestampmap=function(c){r.timestampmap=c},o.onparsingerror=function(c){N.log.warn("Error encountered when parsing cues: "+c.message)},r.segment.map){var u=r.segment.map.bytes;s&&(u=$x(u)),o.parse(u)}var l=r.bytes;s&&(l=$x(l)),o.parse(l),o.flush()},n.updateTimeMapping_=function(r,a,s){var o=r.segment;if(!!a){if(!r.cues.length){o.empty=!0;return}var u=r.timestampmap,l=u.MPEGTS/tl.ONE_SECOND_IN_TS-u.LOCAL+a.mapping;if(r.cues.forEach(function(f){f.startTime+=l,f.endTime+=l}),!s.syncInfo){var c=r.cues[0].startTime,h=r.cues[r.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+r.mediaIndex,time:Math.min(c,h-o.duration)}}}},e}(wp),nD=function(e,n){for(var i=e.cues,r=0;r<i.length;r++){var a=i[r];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},iD=function(e,n,i){if(i===void 0&&(i=0),!!e.segments)for(var r=i,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=nD(n,r+o.duration/2)),a){if("cueIn"in o){a.endTime=r,a.adEndTime=r,r+=o.duration,a=null;continue}if(r<a.endTime){r+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new D.VTTCue(r,r+o.duration,o.cueOut),a.adStartTime=r,a.adEndTime=r+parseFloat(o.cueOut),n.addCue(a)),"cueOutCont"in o){var u=o.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];a=new D.VTTCue(r,r+o.duration,""),a.adStartTime=r-l,a.adEndTime=a.adStartTime+c,n.addCue(a)}r+=o.duration}},aD=86400,qx=[{name:"VOD",run:function(e,n,i,r,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,n,i,r,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,u=dp(n);a=a||0;for(var l=0;l<u.length;l++){var c=n.endList||a===0?l:u.length-(l+1),h=u[c],f=h.segment,y=e.timelineToDatetimeMappings[f.timeline];if(!(!y||!f.dateTimeObject)){var b=f.dateTimeObject.getTime()/1e3,x=b+y;if(f.parts&&typeof h.partIndex=="number")for(var v=0;v<h.partIndex;v++)x+=f.parts[v].duration;var S=Math.abs(a-x);if(o!==null&&(S===0||o<S))break;o=S,s={time:x,segmentIndex:h.segmentIndex,partIndex:h.partIndex}}}return s}},{name:"Segment",run:function(e,n,i,r,a){var s=null,o=null;a=a||0;for(var u=dp(n),l=0;l<u.length;l++){var c=n.endList||a===0?l:u.length-(l+1),h=u[c],f=h.segment,y=h.part&&h.part.start||f&&f.start;if(f.timeline===r&&typeof y!="undefined"){var b=Math.abs(a-y);if(o!==null&&o<b)break;(!s||o===null||o>=b)&&(o=b,s={time:y,segmentIndex:h.segmentIndex,partIndex:h.partIndex})}}return s}},{name:"Discontinuity",run:function(e,n,i,r,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var o=null,u=0;u<n.discontinuityStarts.length;u++){var l=n.discontinuityStarts[u],c=n.discontinuitySequence+u+1,h=e.discontinuities[c];if(h){var f=Math.abs(a-h.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:h.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(e,n,i,r,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence,partIndex:null};return s}return null}}],sD=function(t){z(e,t);function e(i){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=cr("SyncController"),r}var n=e.prototype;return n.getSyncPoint=function(r,a,s,o){var u=this.runStrategies_(r,a,s,o);return u.length?this.selectSyncPoint_(u,{key:"time",value:o}):null},n.getExpiredTime=function(r,a){if(!r||!r.segments)return null;var s=this.runStrategies_(r,a,r.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+eo({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:o.segmentIndex,endIndex:0}))},n.runStrategies_=function(r,a,s,o){for(var u=[],l=0;l<qx.length;l++){var c=qx[l],h=c.run(this,r,a,s,o);h&&(h.strategy=c.name,u.push({strategy:c.name,syncPoint:h}))}return u},n.selectSyncPoint_=function(r,a){for(var s=r[0].syncPoint,o=Math.abs(r[0].syncPoint[a.key]-a.value),u=r[0].strategy,l=1;l<r.length;l++){var c=Math.abs(r[l].syncPoint[a.key]-a.value);c<o&&(o=c,s=r[l].syncPoint,u=r[l].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+u+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},n.saveExpiredSegmentInfo=function(r,a){var s=a.mediaSequence-r.mediaSequence;if(s>aD){N.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var u=r.segments[o];if(u&&typeof u.start!="undefined"){a.syncInfo={mediaSequence:r.mediaSequence+o,time:u.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var a=r.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},n.saveSegmentTimingInfo=function(r){var a=r.segmentInfo,s=r.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),u=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:u.start}));var l=u.dateTimeObject;u.discontinuity&&s&&l&&(this.timelineToDatetimeMappings[u.timeline]=-(l.getTime()/1e3))},n.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].time},n.mappingForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].mapping},n.calculateSegmentTimeMapping_=function(r,a,s){var o=r.segment,u=r.part,l=this.timelines[r.timeline],c,h;if(typeof r.timestampOffset=="number")l={time:r.startOfSegment,mapping:r.startOfSegment-a.start},s&&(this.timelines[r.timeline]=l,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+l.time+"] [mapping: "+l.mapping+"]"))),c=r.startOfSegment,h=a.end+l.mapping;else if(l)c=a.start+l.mapping,h=a.end+l.mapping;else return!1;return u&&(u.start=c,u.end=h),(!o.start||c<o.start)&&(o.start=c),o.end=h,!0},n.saveDiscontinuitySyncInfo_=function(r){var a=r.playlist,s=r.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var u=a.discontinuityStarts[o],l=a.discontinuitySequence+o+1,c=u-r.mediaIndex,h=Math.abs(c);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>h){var f=void 0;c<0?f=s.start-eo({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:r.mediaIndex,endIndex:u}):f=s.end+eo({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:r.mediaIndex+1,endIndex:u}),this.discontinuities[l]={time:f,accuracy:h}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(N.EventTarget),oD=function(t){z(e,t);function e(){var i;return i=t.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var n=e.prototype;return n.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(r){var a=r.type,s=r.from,o=r.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},n.lastTimelineChange=function(r){var a=r.type,s=r.from,o=r.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(N.EventTarget),uD=Tx(xx(function(){function t(x,v,S){return S={path:v,exports:{},require:function(k,P){return e(k,P==null?S.path:P)}},x(S,S.exports),S.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var n=t(function(x){function v(E,k){for(var P=0;P<k.length;P++){var O=k[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function S(E,k,P){return k&&v(E.prototype,k),P&&v(E,P),E}x.exports=S,x.exports.default=x.exports,x.exports.__esModule=!0}),i=t(function(x){function v(S,E){return x.exports=v=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},x.exports.default=x.exports,x.exports.__esModule=!0,v(S,E)}x.exports=v,x.exports.default=x.exports,x.exports.__esModule=!0}),r=t(function(x){function v(S,E){S.prototype=Object.create(E.prototype),S.prototype.constructor=S,i(S,E)}x.exports=v,x.exports.default=x.exports,x.exports.__esModule=!0}),a=function(){function x(){this.listeners={}}var v=x.prototype;return v.on=function(E,k){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(k)},v.off=function(E,k){if(!this.listeners[E])return!1;var P=this.listeners[E].indexOf(k);return this.listeners[E]=this.listeners[E].slice(0),this.listeners[E].splice(P,1),P>-1},v.trigger=function(E){var k=this.listeners[E];if(!!k)if(arguments.length===2)for(var P=k.length,O=0;O<P;++O)k[O].call(this,arguments[1]);else for(var M=Array.prototype.slice.call(arguments,1),B=k.length,F=0;F<B;++F)k[F].apply(this,M)},v.dispose=function(){this.listeners={}},v.pipe=function(E){this.on("data",function(k){E.push(k)})},x}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function s(x){return x.subarray(0,x.byteLength-x[x.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var o=function(){var v=[[[],[],[],[],[]],[[],[],[],[],[]]],S=v[0],E=v[1],k=S[4],P=E[4],O,M,B,F=[],U=[],j,te,oe,ae,he,ne;for(O=0;O<256;O++)U[(F[O]=O<<1^(O>>7)*283)^O]=O;for(M=B=0;!k[M];M^=j||1,B=U[B]||1)for(ae=B^B<<1^B<<2^B<<3^B<<4,ae=ae>>8^ae&255^99,k[M]=ae,P[ae]=M,oe=F[te=F[j=F[M]]],ne=oe*16843009^te*65537^j*257^M*16843008,he=F[ae]*257^ae*16843008,O=0;O<4;O++)S[O][M]=he=he<<24^he>>>8,E[O][ae]=ne=ne<<24^ne>>>8;for(O=0;O<5;O++)S[O]=S[O].slice(0),E[O]=E[O].slice(0);return v},u=null,l=function(){function x(S){u||(u=o()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var E,k,P,O=this._tables[0][4],M=this._tables[1],B=S.length,F=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");var U=S.slice(0),j=[];for(this._key=[U,j],E=B;E<4*B+28;E++)P=U[E-1],(E%B==0||B===8&&E%B==4)&&(P=O[P>>>24]<<24^O[P>>16&255]<<16^O[P>>8&255]<<8^O[P&255],E%B==0&&(P=P<<8^P>>>24^F<<24,F=F<<1^(F>>7)*283)),U[E]=U[E-B]^P;for(k=0;E;k++,E--)P=U[k&3?E:E-4],E<=4||k<4?j[k]=P:j[k]=M[0][O[P>>>24]]^M[1][O[P>>16&255]]^M[2][O[P>>8&255]]^M[3][O[P&255]]}var v=x.prototype;return v.decrypt=function(E,k,P,O,M,B){var F=this._key[1],U=E^F[0],j=O^F[1],te=P^F[2],oe=k^F[3],ae,he,ne,fe=F.length/4-2,me,_e=4,re=this._tables[1],ee=re[0],V=re[1],$=re[2],Q=re[3],ce=re[4];for(me=0;me<fe;me++)ae=ee[U>>>24]^V[j>>16&255]^$[te>>8&255]^Q[oe&255]^F[_e],he=ee[j>>>24]^V[te>>16&255]^$[oe>>8&255]^Q[U&255]^F[_e+1],ne=ee[te>>>24]^V[oe>>16&255]^$[U>>8&255]^Q[j&255]^F[_e+2],oe=ee[oe>>>24]^V[U>>16&255]^$[j>>8&255]^Q[te&255]^F[_e+3],_e+=4,U=ae,j=he,te=ne;for(me=0;me<4;me++)M[(3&-me)+B]=ce[U>>>24]<<24^ce[j>>16&255]<<16^ce[te>>8&255]<<8^ce[oe&255]^F[_e++],ae=U,U=j,j=te,te=oe,oe=ae},x}(),c=function(x){r(v,x);function v(){var E;return E=x.call(this,a)||this,E.jobs=[],E.delay=1,E.timeout_=null,E}var S=v.prototype;return S.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},S.push=function(k){this.jobs.push(k),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},v}(a),h=function(v){return v<<24|(v&65280)<<8|(v&16711680)>>8|v>>>24},f=function(v,S,E){var k=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),P=new l(Array.prototype.slice.call(S)),O=new Uint8Array(v.byteLength),M=new Int32Array(O.buffer),B,F,U,j,te,oe,ae,he,ne;for(B=E[0],F=E[1],U=E[2],j=E[3],ne=0;ne<k.length;ne+=4)te=h(k[ne]),oe=h(k[ne+1]),ae=h(k[ne+2]),he=h(k[ne+3]),P.decrypt(te,oe,ae,he,M,ne),M[ne]=h(M[ne]^B),M[ne+1]=h(M[ne+1]^F),M[ne+2]=h(M[ne+2]^U),M[ne+3]=h(M[ne+3]^j),B=te,F=oe,U=ae,j=he;return O},y=function(){function x(S,E,k,P){var O=x.STEP,M=new Int32Array(S.buffer),B=new Uint8Array(S.byteLength),F=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(M.subarray(F,F+O),E,k,B)),F=O;F<M.length;F+=O)k=new Uint32Array([h(M[F-4]),h(M[F-3]),h(M[F-2]),h(M[F-1])]),this.asyncStream_.push(this.decryptChunk_(M.subarray(F,F+O),E,k,B));this.asyncStream_.push(function(){P(null,s(B))})}var v=x.prototype;return v.decryptChunk_=function(E,k,P,O){return function(){var M=f(E,k,P);O.set(M,E.byteOffset)}},n(x,null,[{key:"STEP",get:function(){return 32e3}}]),x}(),b=function(v){var S={};return Object.keys(v).forEach(function(E){var k=v[E];ArrayBuffer.isView(k)?S[E]={bytes:k.buffer,byteOffset:k.byteOffset,byteLength:k.byteLength}:S[E]=k}),S};self.onmessage=function(x){var v=x.data,S=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),E=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),k=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new y(S,E,k,function(P,O){self.postMessage(b({source:v.source,decrypted:O}),[O.buffer])})}})),lD=_x(uD),cD=function(e){var n=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},jl=function(e,n){e.abort(),e.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},Ap=function(e,n){n.activePlaylistLoader=e,e.load()},dD=function(e,n){return function(){var i=n.segmentLoaders,r=i[e],a=i.main,s=n.mediaTypes[e],o=s.activeTrack(),u=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastGroup_;if(!(u&&c&&u.id===c.id)&&(s.lastGroup_=u,s.lastTrack_=o,jl(r,s),!(!u||u.isMasterPlaylist))){if(!u.playlistLoader){l&&a.resetEverything();return}r.resyncLoader(),Ap(u.playlistLoader,s)}}},fD=function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];r.lastGroup_=null,i.abort(),i.pause()}},hD=function(e,n){return function(){var i=n.masterPlaylistLoader,r=n.segmentLoaders,a=r[e],s=r.main,o=n.mediaTypes[e],u=o.activeTrack(),l=o.getActiveGroup(),c=o.activePlaylistLoader,h=o.lastTrack_;if(!(h&&u&&h.id===u.id)&&(o.lastGroup_=l,o.lastTrack_=u,jl(a,o),!!l)){if(l.isMasterPlaylist){if(!u||!h||u.id===h.id)return;var f=n.vhs.masterPlaylistController_,y=f.selectPlaylist();if(f.media()===y)return;o.logger_("track change. Switching master audio from "+h.id+" to "+u.id),i.pause(),s.resetEverything(),f.fastQualityChange_(y);return}if(e==="AUDIO"){if(!l.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(c===l.playlistLoader){Ap(l.playlistLoader,o);return}a.track&&a.track(u),a.resetEverything(),Ap(l.playlistLoader,o)}}},Hl={AUDIO:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e],a=n.blacklistCurrentPlaylist;jl(i,r);var s=r.activeTrack(),o=r.activeGroup(),u=(o.filter(function(h){return h.default})[0]||o[0]).id,l=r.tracks[u];if(s===l){a({message:"Problem encountered loading the default audio track."});return}N.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in r.tracks)r.tracks[c].enabled=r.tracks[c]===l;r.onTrackChanged()}},SUBTITLES:function(e,n){return function(){var i=n.segmentLoaders[e],r=n.mediaTypes[e];N.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),jl(i,r);var a=r.activeTrack();a&&(a.mode="disabled"),r.onTrackChanged()}}},Kx={AUDIO:function(e,n,i){if(!!n){var r=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];n.on("loadedmetadata",function(){var o=n.media();s.playlist(o,a),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),r.paused()||s.load()}),n.on("error",Hl[e](e,i))}},SUBTITLES:function(e,n,i){var r=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];n.on("loadedmetadata",function(){var u=n.media();s.playlist(u,a),s.track(o.activeTrack()),(!r.paused()||u.endList&&r.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),r.paused()||s.load()}),n.on("error",Hl[e](e,i))}},pD={AUDIO:function(e,n){var i=n.vhs,r=n.sourceType,a=n.segmentLoaders[e],s=n.requestOptions,o=n.master.mediaGroups,u=n.mediaTypes[e],l=u.groups,c=u.tracks,h=u.logger_,f=n.masterPlaylistLoader,y=to(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},y&&(o[e].main.default.playlists=f.master.playlists));for(var b in o[e]){l[b]||(l[b]=[]);for(var x in o[e][b]){var v=o[e][b][x],S=void 0;if(y?(h("AUDIO group '"+b+"' label '"+x+"' is a master playlist"),v.isMasterPlaylist=!0,S=null):r==="vhs-json"&&v.playlists?S=new ha(v.playlists[0],i,s):v.resolvedUri?S=new ha(v.resolvedUri,i,s):v.playlists&&r==="dash"?S=new xp(v.playlists[0],i,s,f):S=null,v=N.mergeOptions({id:x,playlistLoader:S},v),Kx[e](e,v.playlistLoader,n),l[b].push(v),typeof c[x]=="undefined"){var E=new N.AudioTrack({id:x,kind:cD(v),enabled:!1,language:v.language,default:v.default,label:x});c[x]=E}}}a.on("error",Hl[e](e,n))},SUBTITLES:function(e,n){var i=n.tech,r=n.vhs,a=n.sourceType,s=n.segmentLoaders[e],o=n.requestOptions,u=n.master.mediaGroups,l=n.mediaTypes[e],c=l.groups,h=l.tracks,f=n.masterPlaylistLoader;for(var y in u[e]){c[y]||(c[y]=[]);for(var b in u[e][y])if(!u[e][y][b].forced){var x=u[e][y][b],v=void 0;if(a==="hls")v=new ha(x.resolvedUri,r,o);else if(a==="dash"){var S=x.playlists.filter(function(k){return k.excludeUntil!==1/0});if(!S.length)return;v=new xp(x.playlists[0],r,o,f)}else a==="vhs-json"&&(v=new ha(x.playlists?x.playlists[0]:x.resolvedUri,r,o));if(x=N.mergeOptions({id:b,playlistLoader:v},x),Kx[e](e,x.playlistLoader,n),c[y].push(x),typeof h[b]=="undefined"){var E=i.addRemoteTextTrack({id:b,kind:"subtitles",default:x.default&&x.autoselect,language:x.language,label:b},!1).track;h[b]=E}}}s.on("error",Hl[e](e,n))},"CLOSED-CAPTIONS":function(e,n){var i=n.tech,r=n.master.mediaGroups,a=n.mediaTypes[e],s=a.groups,o=a.tracks;for(var u in r[e]){s[u]||(s[u]=[]);for(var l in r[e][u]){var c=r[e][u][l];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var h=i.options_.vhs&&i.options_.vhs.captionServices||{},f={label:l,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(h[f.instreamId]&&(f=N.mergeOptions(f,h[f.instreamId])),f.default===void 0&&delete f.default,s[u].push(N.mergeOptions({id:l},c)),typeof o[l]=="undefined"){var y=i.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[l]=y}}}}}},mD=function t(e,n){for(var i=0;i<e.length;i++)if(pp(n,e[i])||e[i].playlists&&t(e[i].playlists,n))return!0;return!1},gD=function(e,n){return function(i){var r=n.masterPlaylistLoader,a=n.mediaTypes[e].groups,s=r.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var u=Object.keys(a);if(!o)if(e==="AUDIO"&&u.length>1&&to(n.master))for(var l=0;l<u.length;l++){var c=a[u[l]];if(mD(c,s)){o=c;break}}else a.main?o=a.main:u.length===1&&(o=a[u[0]]);return typeof i=="undefined"?o:i===null||!o?null:o.filter(function(h){return h.id===i.id})[0]||null}},vD={AUDIO:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,n){return function(){var i=n.mediaTypes[e].tracks;for(var r in i)if(i[r].mode==="showing"||i[r].mode==="hidden")return i[r];return null}}},yD=function(e,n){var i=n.mediaTypes;return function(){var r=i[e].activeTrack();return r?i[e].activeGroup(r):null}},_D=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){pD[b](b,e)});var n=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,u=s.main;["AUDIO","SUBTITLES"].forEach(function(b){n[b].activeGroup=gD(b,e),n[b].activeTrack=vD[b](b,e),n[b].onGroupChanged=dD(b,e),n[b].onGroupChanging=fD(b,e),n[b].onTrackChanged=hD(b,e),n[b].getActiveGroup=yD(b,e)});var l=n.AUDIO.activeGroup();if(l){var c=(l.filter(function(b){return b.default})[0]||l[0]).id;n.AUDIO.tracks[c].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged();var h=n.AUDIO.getActiveGroup();h.playlistLoader?(u.setAudio(!1),o.setAudio(!0)):u.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(b){return n[b].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(b){return n[b].onGroupChanging()})});var f=function(){n.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",f),r.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){r.audioTracks().removeEventListener("change",f),r.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var y in n.AUDIO.tracks)r.audioTracks().addTrack(n.AUDIO.tracks[y])},TD=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){e[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:$r,activeTrack:$r,getActiveGroup:$r,onGroupChanged:$r,onTrackChanged:$r,lastTrack_:null,logger_:cr("MediaGroups["+n+"]")}}),e},xD=60*2,Gr,SD=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],bD=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},ED=function(e){var n=e.currentPlaylist,i=e.buffered,r=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,u=e.duration,l=e.experimentalBufferBasedABR,c=e.log;if(!a)return N.log.warn("We received no playlist to switch to. Please check your stream."),!1;var h="allowing switch "+(n&&n.id||"null")+" -> "+a.id;if(!n)return c(h+" as current playlist is not set"),!0;if(a.id===n.id)return!1;var f=Boolean(fa(i,r).length);if(!n.endList)return!f&&typeof n.partTargetDuration=="number"?(c("not "+h+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(h+" as current playlist is live"),!0);var y=lp(i,r),b=l?et.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:et.MAX_BUFFER_LOW_WATER_LINE;if(u<b)return c(h+" as duration < max low water line ("+u+" < "+b+")"),!0;var x=a.attributes.BANDWIDTH,v=n.attributes.BANDWIDTH;if(x<v&&(!l||y<o)){var S=h+" as next bandwidth < current bandwidth ("+x+" < "+v+")";return l&&(S+=" and forwardBuffer < bufferHighWaterLine ("+y+" < "+o+")"),c(S),!0}if((!l||x>v)&&y>=s){var E=h+" as forwardBuffer >= bufferLowWaterLine ("+y+" >= "+s+")";return l&&(E+=" and next bandwidth > current bandwidth ("+x+" > "+v+")"),c(E),!0}return c("not "+h+" as no switching criteria met"),!1},CD=function(t){z(e,t);function e(i){var r;r=t.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,u=i.tech,l=i.bandwidth,c=i.externVhs,h=i.useCueTags,f=i.blacklistDuration,y=i.enableLowInitialPlaylist,b=i.sourceType,x=i.cacheEncryptionKeys,v=i.experimentalBufferBasedABR,S=i.experimentalLeastPixelDiffSelector,E=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var k=i.maxPlaylistRetries;(k===null||typeof k=="undefined")&&(k=1/0),Gr=c,r.experimentalBufferBasedABR=Boolean(v),r.experimentalLeastPixelDiffSelector=Boolean(S),r.withCredentials=o,r.tech_=u,r.vhs_=u.vhs,r.sourceType_=b,r.useCueTags_=h,r.blacklistDuration=f,r.maxPlaylistRetries=k,r.enableLowInitialPlaylist=y,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:k,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=TD(),r.mediaSource=new D.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(ue(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(ue(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(ue(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=N.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new sD(i),r.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new lD,r.sourceUpdater_=new zx(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new oD;var P={vhs:r.vhs_,parse708captions:i.parse708captions,captionServices:E,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:l,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:x,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new xp(a,r.vhs_,r.requestOptions_):new ha(a,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new wp(N.mergeOptions(P,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),i),r.audioSegmentLoader_=new wp(N.mergeOptions(P,{loaderType:"audio"}),i),r.subtitleSegmentLoader_=new rD(N.mergeOptions(P,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),i),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),SD.forEach(function(M){r[M+"_"]=bD.bind(ue(r),M)}),r.logger_=cr("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var O=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(O,function(){var M=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-M,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var n=e.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return r===-1||a===-1?-1:r+a},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},n.switchMedia_=function(r,a,s){var o=this.media(),u=o&&(o.id||o.uri),l=r.id||r.uri;u&&u!==l&&(this.logger_("switch media "+u+" -> "+l+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(r,s)},n.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=D.setInterval(function(){return r.checkABR_()},250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(D.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var r=this.master(),a=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return a;var s=r.mediaGroups.AUDIO,o=Object.keys(s),u;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)u=this.mediaTypes_.AUDIO.activeTrack();else{var l=s.main||o.length&&s[o[0]];for(var c in l)if(l[c].default){u={label:c};break}}if(!u)return a;var h=[];for(var f in s)if(s[f][u.label]){var y=s[f][u.label];if(y.playlists&&y.playlists.length)h.push.apply(h,y.playlists);else if(y.uri)h.push(y);else if(r.playlists.length)for(var b=0;b<r.playlists.length;b++){var x=r.playlists[b];x.attributes&&x.attributes.AUDIO&&x.attributes.AUDIO===f&&h.push(x)}}return h.length?h:a},n.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=r.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;hp(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=s,a.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(a,r.requestOptions_),r.mainSegmentLoader_.load()),_D({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),a),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var a=r.masterPlaylistLoader_.media();if(!a){r.excludeUnsupportedVariants_();var s;if(r.enableLowInitialPlaylist&&(s=r.selectInitialPlaylist()),s||(s=r.selectPlaylist()),!s||!r.shouldSwitchToMedia_(s))return;r.initialMedia_=s,r.switchMedia_(r.initialMedia_,"initial");var o=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!o)return;a=r.initialMedia_}r.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=r.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;hp(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=s,r.mainSegmentLoader_.playlist(a,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=r.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=r.stuckAtPlaylistEnd_(a);s&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},n.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(r,a){var s=r.mediaGroups||{},o=!0,u=Object.keys(s.AUDIO);for(var l in s.AUDIO)for(var c in s.AUDIO[l]){var h=s.AUDIO[l][c];h.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Gr.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),u.length&&Object.keys(s.AUDIO[u[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(r){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),u=this.bufferHighWaterLine(),l=this.tech_.buffered();return ED({buffered:l,currentTime:s,currentPlaylist:a,nextPlaylist:r,bufferLowWaterLine:o,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var s=r.selectPlaylist();r.shouldSwitchToMedia_(s)&&r.switchMedia_(s,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},xD))});var a=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var o=r.getCodecsOrExclude_();!o||r.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},n.fastQualityChange_=function(r){var a=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){N.browser.IE_VERSION||N.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},n.setupFirstPlay=function(){var r=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(N.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(s.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r!="undefined"&&typeof r.then=="function"&&r.then(null,function(a){})}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var a=this.duration();r[r.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(r){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(r,this.duration());if(s===null)return!1;var o=Gr.Playlist.playlistEnd(r,s),u=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return o-u<=Sr;var c=l.end(l.length-1);return c-u<=Sr&&o-c<=Sr},n.blacklistCurrentPlaylist=function(r,a){r===void 0&&(r={});var s=r.playlist||this.masterPlaylistLoader_.media();if(a=a||r.blacklistDuration||this.blacklistDuration,!s){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,u=o.filter(Ll),l=u.length===1&&u[0]===s;if(o.length===1&&a!==1/0)return N.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(l);if(l){var c=!1;o.forEach(function(S){if(S!==s){var E=S.excludeUntil;typeof E!="undefined"&&E!==1/0&&(c=!0,delete S.excludeUntil)}}),c&&(N.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var h;s.playlistErrors_>this.maxPlaylistRetries?h=1/0:h=Date.now()+a*1e3,s.excludeUntil=h,r.reason&&(s.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var y=r.internal?this.logger_:N.log.warn,b=r.message?" "+r.message:"";y((r.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(b+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var x=f.targetDuration/2*1e3||5*1e3,v=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=x;return this.switchMedia_(f,"exclude",l||v)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(r,a){var s=this,o=[],u=r==="all";(u||r==="main")&&o.push(this.masterPlaylistLoader_);var l=[];(u||r==="audio")&&l.push("AUDIO"),(u||r==="subtitle")&&(l.push("CLOSED-CAPTIONS"),l.push("SUBTITLES")),l.forEach(function(c){var h=s.mediaTypes_[c]&&s.mediaTypes_[c].activePlaylistLoader;h&&o.push(h)}),["main","audio","subtitle"].forEach(function(c){var h=s[c+"SegmentLoader_"];h&&(r===c||r==="all")&&o.push(h)}),o.forEach(function(c){return a.forEach(function(h){typeof c[h]=="function"&&c[h]()})})},n.setCurrentTime=function(r){var a=fa(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:Gr.Playlist.duration(r):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var r;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,u=Gr.Playlist.seekable(a,s,Gr.Playlist.liveEdgeDelay(o,a));if(u.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(r=Gr.Playlist.seekable(a,s,Gr.Playlist.liveEdgeDelay(o,a)),r.length===0)))){var l,c;this.seekable_&&this.seekable_.length&&(l=this.seekable_.end(0),c=this.seekable_.start(0)),r?r.start(0)>u.end(0)||u.start(0)>r.end(0)?this.seekable_=u:this.seekable_=N.createTimeRanges([[r.start(0)>u.start(0)?r.start(0):u.start(0),r.end(0)<u.end(0)?r.end(0):u.end(0)]]):this.seekable_=u,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===l&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+GT(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=Gr.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},n.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=r.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(u){u.playlistLoader&&u.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},n.getCodecsOrExclude_=function(){var r=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var s=no(this.master(),this.media()),o={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(o.video=s.video||a.main.videoCodec||hw),a.main.isMuxed&&(o.video+=","+(s.audio||a.main.audioCodec||ay)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||u)&&(o.audio=s.audio||a.main.audioCodec||a.audio.audioCodec||ay,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var l=function(v,S){return v?Hu(S):Ff(S)},c={},h;if(["video","audio"].forEach(function(x){if(o.hasOwnProperty(x)&&!l(a[x].isFmp4,o[x])){var v=a[x].isFmp4?"browser":"muxer";c[v]=c[v]||[],c[v].push(o[x]),x==="audio"&&(h=v)}}),u&&h&&this.media().attributes.AUDIO){var f=this.media().attributes.AUDIO;this.master().playlists.forEach(function(x){var v=x.attributes&&x.attributes.AUDIO;v===f&&x!==r.media()&&(x.excludeUntil=1/0)}),this.logger_("excluding audio group "+f+" as "+h+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var y=Object.keys(c).reduce(function(x,v){return x&&(x+=", "),x+=v+' does not support codec(s): "'+c[v].join(",")+'"',x},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:y,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var b=[];if(["video","audio"].forEach(function(x){var v=(_r(r.sourceUpdater_.codecs[x]||"")[0]||{}).type,S=(_r(o[x]||"")[0]||{}).type;v&&S&&v.toLowerCase()!==S.toLowerCase()&&b.push('"'+r.sourceUpdater_.codecs[x]+'" -> "'+o[x]+'"')}),b.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+b.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},n.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var a=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},n.excludeUnsupportedVariants_=function(){var r=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var u=a[o];if(s.indexOf(u.id)===-1){s.push(u.id);var l=no(r.master,u),c=[];l.audio&&!Ff(l.audio)&&!Hu(l.audio)&&c.push("audio codec "+l.audio),l.video&&!Ff(l.video)&&!Hu(l.video)&&c.push("video codec "+l.video),l.text&&l.text==="stpp.ttml.im1t"&&c.push("text codec "+l.text),c.length&&(u.excludeUntil=1/0,r.logger_("excluding "+u.id+" for unsupported: "+c.join(", ")))}})},n.excludeIncompatibleVariants_=function(r){var a=this,s=[],o=this.master().playlists,u=Nl(_r(r)),l=Lx(u),c=u.video&&_r(u.video)[0]||null,h=u.audio&&_r(u.audio)[0]||null;Object.keys(o).forEach(function(f){var y=o[f];if(!(s.indexOf(y.id)!==-1||y.excludeUntil===1/0)){s.push(y.id);var b=[],x=no(a.masterPlaylistLoader_.master,y),v=Lx(x);if(!(!x.audio&&!x.video)){if(v!==l&&b.push('codec count "'+v+'" !== "'+l+'"'),!a.sourceUpdater_.canChangeType()){var S=x.video&&_r(x.video)[0]||null,E=x.audio&&_r(x.audio)[0]||null;S&&c&&S.type.toLowerCase()!==c.type.toLowerCase()&&b.push('video codec "'+S.type+'" !== "'+c.type+'"'),E&&h&&E.type.toLowerCase()!==h.type.toLowerCase()&&b.push('audio codec "'+E.type+'" !== "'+h.type+'"')}b.length&&(y.excludeUntil=1/0,a.logger_("blacklisting "+y.id+": "+b.join(" && ")))}}})},n.updateAdCues_=function(r){var a=0,s=this.seekable();s.length&&(a=s.start(0)),iD(r,this.cueTagsTrack_,a)},n.goalBufferLength=function(){var r=this.tech_.currentTime(),a=et.GOAL_BUFFER_LENGTH,s=et.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,et.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+r*s,o)},n.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),a=et.BUFFER_LOW_WATER_LINE,s=et.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,et.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(a,et.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+r*s,this.experimentalBufferBasedABR?u:o)},n.bufferHighWaterLine=function(){return et.BUFFER_HIGH_WATER_LINE},e}(N.EventTarget),wD=function(e,n,i){return function(r){var a=e.master.playlists[n],s=fp(a),o=Ll(a);return typeof r=="undefined"?o:(r?delete a.disabled:a.disabled=!0,r!==o&&!s&&(i(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},kD=function(e,n,i){var r=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=r[s+"QualityChange_"].bind(r);if(n.attributes){var u=n.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=n.attributes.BANDWIDTH}this.codecs=no(r.master(),n),this.playlist=n,this.id=i,this.enabled=wD(e.playlists,n.id,o)},PD=function(e){e.representations=function(){var n=e.masterPlaylistController_.master(),i=to(n)?e.masterPlaylistController_.getAudioTrackPlaylists_():n.playlists;return i?i.filter(function(r){return!fp(r)}).map(function(r,a){return new kD(e,r,r.id)}):[]}},Xx=["seeking","seeked","pause","playing","error"],AD=function(){function t(n){var i=this;this.masterPlaylistController_=n.masterPlaylistController,this.tech_=n.tech,this.seekable=n.seekable,this.allowSeeksWithinUnsafeLiveWindow=n.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=n.liveRangeSafeTimeDelta,this.media=n.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=cr("PlaybackWatcher"),this.logger_("initialize");var r=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},u=this.masterPlaylistController_,l=["main","subtitle","audio"],c={};l.forEach(function(f){c[f]={reset:function(){return i.resetSegmentDownloads_(f)},updateend:function(){return i.checkSegmentDownloads_(f)}},u[f+"SegmentLoader_"].on("appendsdone",c[f].updateend),u[f+"SegmentLoader_"].on("playlistupdate",c[f].reset),i.tech_.on(["seeked","seeking"],c[f].reset)});var h=function(y){["main","audio"].forEach(function(b){u[b+"SegmentLoader_"][y]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),h("off"))},this.clearSeekingAppendCheck_=function(){return h("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),h("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Xx,o),this.tech_.on("canplay",a),this.tech_.one("play",r),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(Xx,o),i.tech_.off("canplay",a),i.tech_.off("play",r),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),l.forEach(function(f){u[f+"SegmentLoader_"].off("appendsdone",c[f].updateend),u[f+"SegmentLoader_"].off("playlistupdate",c[f].reset),i.tech_.off(["seeked","seeking"],c[f].reset)}),i.checkCurrentTimeTimeout_&&D.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&D.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=D.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var r=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(i){var r=this.masterPlaylistController_,a=r[i+"SegmentLoader_"],s=a.buffered_(),o=EA(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Zn(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===i&&(!r.length||i+Sr>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var r=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(r,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var u=r.end(r.length-1);o=u}if(this.beforeSeekableWindow_(r,a)){var l=r.start(0);o=l+(l===r.end(0)?0:Sr)}if(typeof o!="undefined")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+GT(r)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,h=this.tech_.buffered(),f=c.audioBuffer?c.audioBuffered():null,y=c.videoBuffer?c.videoBuffered():null,b=this.media(),x=b.partTargetDuration?b.partTargetDuration:(b.targetDuration-Tn)*2,v=[f,y],S=0;S<v.length;S++)if(!!v[S]){var E=lp(v[S],a);if(E<x)return!1}var k=Dl(h,a);return k.length===0?!1:(o=k.start(0)+Sr,this.logger_("Buffered region starts ("+k.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),r=this.tech_.buffered(),a=fa(r,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,r)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),u=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:r});if(u)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var l=Dl(o,r);if(l.length>0){var c=l.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+c+", seeking "+("to "+l.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,r),!0}return!1},e.afterSeekableWindow_=function(i,r,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+Sr,u=!a.endList;return u&&s&&(o=i.end(i.length-1)+a.targetDuration*3),r>o},e.beforeSeekableWindow_=function(i,r){return!!(i.length&&i.start(0)>0&&r<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var r=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!r){var o;if(r.length&&a.length){var u=fa(r,s-3),l=fa(r,s),c=fa(a,s);c.length&&!l.length&&u.length&&(o={start:u.end(0),end:c.end(0)})}else{var h=Dl(r,s);h.length||(o=this.gapFromVideoUnderflow_(r,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var r=this.tech_.buffered(),a=this.tech_.currentTime(),s=Dl(r,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Tn),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,r){for(var a=xA(i),s=0;s<a.length;s++){var o=a.start(s),u=a.end(s);if(r-o<4&&r-o>2)return{start:o,end:u}}return null},t}(),ID={errorInterval:30,getSource:function(e){var n=this.tech({IWillNotUseThisInPlugins:!0}),i=n.currentSource_||this.currentSource();return e(i)}},DD=function t(e,n){var i=0,r=0,a=N.mergeOptions(ID,n);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){r&&e.currentTime(r)},o=function(f){f!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){N.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,o)},l=function h(){e.off("loadedmetadata",s),e.off("error",u),e.off("dispose",h)},c=function(f){l(),t(e,f)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=c},LD=function(e){DD(this,e)},Qx="2.12.0",OD="5.14.1",RD="0.19.2",MD="4.7.0",ND="3.1.2",ot={PlaylistLoader:ha,Playlist:Mt,utils:KA,STANDARD_PLAYLIST_SELECTOR:Mx,INITIAL_PLAYLIST_SELECTOR:MI,lastBandwidthSelector:Mx,movingAverageBandwidthSelector:OI,comparePlaylistBandwidth:Cp,comparePlaylistResolution:LI,xhr:cx()};Object.keys(et).forEach(function(t){Object.defineProperty(ot,t,{get:function(){return N.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),et[t]},set:function(n){if(N.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){N.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}et[t]=n}})});var Yx="videojs-vhs",Jx=function(e,n){for(var i=n.media(),r=-1,a=0;a<e.length;a++)if(e[a].id===i.id){r=a;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},FD=function(e,n){n.representations().forEach(function(i){e.addQualityLevel(i)}),Jx(e,n.playlists)};ot.canPlaySource=function(){return N.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var UD=function(e,n,i){if(!e)return e;var r={};n&&n.attributes&&n.attributes.CODECS&&(r=Nl(_r(n.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(r.audio=i.attributes.CODECS);var a=ws(r.video),s=ws(r.audio),o={};for(var u in e)o[u]={},s&&(o[u].audioContentType=s),a&&(o[u].videoContentType=a),n.contentProtection&&n.contentProtection[u]&&n.contentProtection[u].pssh&&(o[u].pssh=n.contentProtection[u].pssh),typeof e[u]=="string"&&(o[u].url=e[u]);return N.mergeOptions(e,o)},BD=function(e,n){return e.reduce(function(i,r){if(!r.contentProtection)return i;var a=n.reduce(function(s,o){var u=r.contentProtection[o];return u&&u.pssh&&(s[o]={pssh:u.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},jD=function(e){var n=e.player,i=e.sourceKeySystems,r=e.audioMedia,a=e.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var s=r?a.concat([r]):a,o=BD(s,Object.keys(i)),u=[],l=[];return o.forEach(function(c){l.push(new Promise(function(h,f){n.tech_.one("keysessioncreated",h)})),u.push(new Promise(function(h,f){n.eme.initializeMediaKeys({keySystems:c},function(y){if(y){f(y);return}h()})}))}),Promise.race([Promise.all(u),Promise.race(l)])},HD=function(e){var n=e.player,i=e.sourceKeySystems,r=e.media,a=e.audioMedia,s=UD(i,r,a);return s?(n.currentSource().keySystems=s,s&&!n.eme?(N.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Zx=function(){if(!D.localStorage)return null;var e=D.localStorage.getItem(Yx);if(!e)return null;try{return JSON.parse(e)}catch{return null}},VD=function(e){if(!D.localStorage)return!1;var n=Zx();n=n?N.mergeOptions(n,e):e;try{D.localStorage.setItem(Yx,JSON.stringify(n))}catch{return!1}return n},WD=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};ot.supportsNativeHls=function(){if(!q||!q.createElement)return!1;var t=q.createElement("video");if(!N.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(n){return/maybe|probably/i.test(t.canPlayType(n))})}();ot.supportsNativeDash=function(){return!q||!q.createElement||!N.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(q.createElement("video").canPlayType("application/dash+xml"))}();ot.supportsTypeNatively=function(t){return t==="hls"?ot.supportsNativeHls:t==="dash"?ot.supportsNativeDash:!1};ot.isSupported=function(){return N.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var zD=N.getComponent("Component"),Ip=function(t){z(e,t);function e(i,r,a){var s;if(s=t.call(this,r,N.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&N.log.warn("Using hls options is deprecated. Use vhs instead."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=cr("VhsHandler"),r.options_&&r.options_.playerId){var o=N(r.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return N.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),ue(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return N.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),ue(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return N.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),ue(s)},configurable:!0}),s.player_=o}if(s.tech_=r,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(q,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(u){var l=q.fullscreenElement||q.webkitFullscreenElement||q.mozFullScreenElement||q.msFullscreenElement;l&&l.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var n=e.prototype;return n.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=Zx();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=et.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===et.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof r.source_[s]!="undefined"&&(r.options_[s]=r.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(r,a){var s=this;if(!!r){this.setOptions_(),this.options_.src=WD(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ot,this.options_.sourceType=sy(a),this.options_.seekTo=function(l){s.tech_.setCurrentTime(l)},this.options_.smoothQualityChange&&N.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new CD(this.options_);var o=N.mergeOptions({liveRangeSafeTimeDelta:Sr},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new AD(o),this.masterPlaylistController_.on("error",function(){var l=N.players[s.tech_.options_.playerId],c=s.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),l.error(c)});var u=this.options_.experimentalBufferBasedABR?ot.movingAverageBandwidthSelector(.55):ot.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):u.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ot.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,h=D.navigator.connection||D.navigator.mozConnection||D.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&h){var y=h.downlink*1e3*1e3;y>=f&&c>=f?c=Math.max(c,y):c=y}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),h;this.throughput>0?h=1/this.throughput:h=0;var f=Math.floor(1/(c+h));return f},set:function(){N.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Zn(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Zn(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&VD({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){PD(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),!!this.tech_.el()&&(this.mediaSourceUrl_=D.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.setupEme_=function(){var r=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=HD({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&r.masterPlaylistController_.blacklistCurrentPlaylist({playlist:r.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),N.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),jD({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(o){r.logger_("error while creating EME key session",o),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},n.setupQualityLevels_=function(){var r=this,a=N.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){FD(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){Jx(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":Qx,"mux.js":OD,"mpd-parser":RD,"m3u8-parser":MD,"aes-decrypter":ND}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return zx.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&D.URL.revokeObjectURL&&(D.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),t.prototype.dispose.call(this)},n.convertToProgramTime=function(r,a){return tI({playlist:this.masterPlaylistController_.media(),time:r,callback:a})},n.seekToProgramTime=function(r,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),rI({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(zD),Vl={name:"videojs-http-streaming",VERSION:Qx,canHandleSource:function(e,n){n===void 0&&(n={});var i=N.mergeOptions(N.options,n);return Vl.canPlayType(e.type,i)},handleSource:function(e,n,i){i===void 0&&(i={});var r=N.mergeOptions(N.options,i);return n.vhs=new Ip(e,n,r),N.hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return N.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),n.vhs},configurable:!0}),n.vhs.xhr=cx(),n.vhs.src(e.src,e.type),n.vhs},canPlayType:function(e,n){n===void 0&&(n={});var i=N.mergeOptions(N.options,n),r=i.vhs.overrideNative,a=r===void 0?!N.browser.IS_ANY_SAFARI:r,s=sy(e),o=s&&(!ot.supportsTypeNatively(s)||a);return o?"maybe":""}},$D=function(){return Hu("avc1.4d400d,mp4a.40.2")};$D()&&N.getTech("Html5").registerSourceHandler(Vl,0);N.VhsHandler=Ip;Object.defineProperty(N,"HlsHandler",{get:function(){return N.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Ip},configurable:!0});N.VhsSourceHandler=Vl;Object.defineProperty(N,"HlsSourceHandler",{get:function(){return N.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Vl},configurable:!0});N.Vhs=ot;Object.defineProperty(N,"Hls",{get:function(){return N.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ot},configurable:!0});N.use||(N.registerComponent("Hls",ot),N.registerComponent("Vhs",ot));N.options.vhs=N.options.vhs||{};N.options.hls=N.options.hls||{};if(!N.getPlugin||!N.getPlugin("reloadSourceOnError")){var GD=N.registerPlugin||N.plugin;GD("reloadSourceOnError",LD)}var qD={exports:{}},so={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KD=ai.exports,eS=60103;so.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var tS=Symbol.for;eS=tS("react.element"),so.Fragment=tS("react.fragment")}var XD=KD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QD=Object.prototype.hasOwnProperty,YD={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var i,r={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)QD.call(e,i)&&!YD.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:eS,type:t,key:a,ref:s,props:r,_owner:XD.current}}so.jsx=rS;so.jsxs=rS;qD.exports=so;var nS={exports:{}},JD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZD=JD,eL=ZD;function iS(){}function aS(){}aS.resetWarningCache=iS;var tL=function(){function t(i,r,a,s,o,u){if(u!==eL){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aS,resetWarningCache:iS};return n.PropTypes=n,n};nS.exports=tL();var sS=nS.exports;function Wl(t){return t.charAt(0)==="/"}function Dp(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function rL(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&Wl(t),a=e&&Wl(e),s=r||a;if(t&&Wl(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var o;if(i.length){var u=i[i.length-1];o=u==="."||u===".."||u===""}else o=!1;for(var l=0,c=i.length;c>=0;c--){var h=i[c];h==="."?Dp(i,c):h===".."?(Dp(i,c),l++):l&&(Dp(i,c),l--)}if(!s)for(;l--;l)i.unshift("..");s&&i[0]!==""&&(!i[0]||!Wl(i[0]))&&i.unshift("");var f=i.join("/");return o&&f.substr(-1)!=="/"&&(f+="/"),f}var nL=!0,Lp="Invariant failed";function ei(t,e){if(!t){if(nL)throw new Error(Lp);var n=typeof e=="function"?e():e,i=n?Lp+": "+n:Lp;throw new Error(i)}}function oo(t){return t.charAt(0)==="/"?t:"/"+t}function oS(t){return t.charAt(0)==="/"?t.substr(1):t}function iL(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function uS(t,e){return iL(t,e)?t.substr(e.length):t}function lS(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function aL(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var a=e.indexOf("?");return a!==-1&&(n=e.substr(a),e=e.substr(0,a)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function Zt(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Wt(t,e,n,i){var r;typeof t=="string"?(r=aL(t),r.state=e):(r=Le({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=rL(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function Op(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,o,u,l){if(t!=null){var c=typeof t=="function"?t(s,o):t;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var i=[];function r(s){var o=!0;function u(){o&&s.apply(void 0,arguments)}return i.push(u),function(){o=!1,i=i.filter(function(l){return l!==u})}}function a(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];i.forEach(function(l){return l.apply(void 0,o)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:a}}var cS=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function dS(t,e){e(window.confirm(t))}function sL(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function oL(){return window.navigator.userAgent.indexOf("Trident")===-1}function uL(){return window.navigator.userAgent.indexOf("Firefox")===-1}function lL(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var fS="popstate",hS="hashchange";function pS(){try{return window.history.state||{}}catch{return{}}}function cL(t){t===void 0&&(t={}),cS||ei(!1);var e=window.history,n=sL(),i=!oL(),r=t,a=r.forceRefresh,s=a===void 0?!1:a,o=r.getUserConfirmation,u=o===void 0?dS:o,l=r.keyLength,c=l===void 0?6:l,h=t.basename?lS(oo(t.basename)):"";function f(re){var ee=re||{},V=ee.key,$=ee.state,Q=window.location,ce=Q.pathname,ge=Q.search,He=Q.hash,Fe=ce+ge+He;return h&&(Fe=uS(Fe,h)),Wt(Fe,$,V)}function y(){return Math.random().toString(36).substr(2,c)}var b=Op();function x(re){Le(_e,re),_e.length=e.length,b.notifyListeners(_e.location,_e.action)}function v(re){lL(re)||k(f(re.state))}function S(){k(f(pS()))}var E=!1;function k(re){if(E)E=!1,x();else{var ee="POP";b.confirmTransitionTo(re,ee,u,function(V){V?x({action:ee,location:re}):P(re)})}}function P(re){var ee=_e.location,V=M.indexOf(ee.key);V===-1&&(V=0);var $=M.indexOf(re.key);$===-1&&($=0);var Q=V-$;Q&&(E=!0,j(Q))}var O=f(pS()),M=[O.key];function B(re){return h+Zt(re)}function F(re,ee){var V="PUSH",$=Wt(re,ee,y(),_e.location);b.confirmTransitionTo($,V,u,function(Q){if(!!Q){var ce=B($),ge=$.key,He=$.state;if(n)if(e.pushState({key:ge,state:He},null,ce),s)window.location.href=ce;else{var Fe=M.indexOf(_e.location.key),ut=M.slice(0,Fe+1);ut.push($.key),M=ut,x({action:V,location:$})}else window.location.href=ce}})}function U(re,ee){var V="REPLACE",$=Wt(re,ee,y(),_e.location);b.confirmTransitionTo($,V,u,function(Q){if(!!Q){var ce=B($),ge=$.key,He=$.state;if(n)if(e.replaceState({key:ge,state:He},null,ce),s)window.location.replace(ce);else{var Fe=M.indexOf(_e.location.key);Fe!==-1&&(M[Fe]=$.key),x({action:V,location:$})}else window.location.replace(ce)}})}function j(re){e.go(re)}function te(){j(-1)}function oe(){j(1)}var ae=0;function he(re){ae+=re,ae===1&&re===1?(window.addEventListener(fS,v),i&&window.addEventListener(hS,S)):ae===0&&(window.removeEventListener(fS,v),i&&window.removeEventListener(hS,S))}var ne=!1;function fe(re){re===void 0&&(re=!1);var ee=b.setPrompt(re);return ne||(he(1),ne=!0),function(){return ne&&(ne=!1,he(-1)),ee()}}function me(re){var ee=b.appendListener(re);return he(1),function(){he(-1),ee()}}var _e={length:e.length,action:"POP",location:O,createHref:B,push:F,replace:U,go:j,goBack:te,goForward:oe,block:fe,listen:me};return _e}var mS="hashchange",dL={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+oS(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:oS,decodePath:oo},slash:{encodePath:oo,decodePath:oo}};function gS(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function uo(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function fL(t){window.location.hash=t}function Rp(t){window.location.replace(gS(window.location.href)+"#"+t)}function hL(t){t===void 0&&(t={}),cS||ei(!1);var e=window.history;uL();var n=t,i=n.getUserConfirmation,r=i===void 0?dS:i,a=n.hashType,s=a===void 0?"slash":a,o=t.basename?lS(oo(t.basename)):"",u=dL[s],l=u.encodePath,c=u.decodePath;function h(){var ee=c(uo());return o&&(ee=uS(ee,o)),Wt(ee)}var f=Op();function y(ee){Le(re,ee),re.length=e.length,f.notifyListeners(re.location,re.action)}var b=!1,x=null;function v(ee,V){return ee.pathname===V.pathname&&ee.search===V.search&&ee.hash===V.hash}function S(){var ee=uo(),V=l(ee);if(ee!==V)Rp(V);else{var $=h(),Q=re.location;if(!b&&v(Q,$)||x===Zt($))return;x=null,E($)}}function E(ee){if(b)b=!1,y();else{var V="POP";f.confirmTransitionTo(ee,V,r,function($){$?y({action:V,location:ee}):k(ee)})}}function k(ee){var V=re.location,$=B.lastIndexOf(Zt(V));$===-1&&($=0);var Q=B.lastIndexOf(Zt(ee));Q===-1&&(Q=0);var ce=$-Q;ce&&(b=!0,te(ce))}var P=uo(),O=l(P);P!==O&&Rp(O);var M=h(),B=[Zt(M)];function F(ee){var V=document.querySelector("base"),$="";return V&&V.getAttribute("href")&&($=gS(window.location.href)),$+"#"+l(o+Zt(ee))}function U(ee,V){var $="PUSH",Q=Wt(ee,void 0,void 0,re.location);f.confirmTransitionTo(Q,$,r,function(ce){if(!!ce){var ge=Zt(Q),He=l(o+ge),Fe=uo()!==He;if(Fe){x=ge,fL(He);var ut=B.lastIndexOf(Zt(re.location)),er=B.slice(0,ut+1);er.push(ge),B=er,y({action:$,location:Q})}else y()}})}function j(ee,V){var $="REPLACE",Q=Wt(ee,void 0,void 0,re.location);f.confirmTransitionTo(Q,$,r,function(ce){if(!!ce){var ge=Zt(Q),He=l(o+ge),Fe=uo()!==He;Fe&&(x=ge,Rp(He));var ut=B.indexOf(Zt(re.location));ut!==-1&&(B[ut]=ge),y({action:$,location:Q})}})}function te(ee){e.go(ee)}function oe(){te(-1)}function ae(){te(1)}var he=0;function ne(ee){he+=ee,he===1&&ee===1?window.addEventListener(mS,S):he===0&&window.removeEventListener(mS,S)}var fe=!1;function me(ee){ee===void 0&&(ee=!1);var V=f.setPrompt(ee);return fe||(ne(1),fe=!0),function(){return fe&&(fe=!1,ne(-1)),V()}}function _e(ee){var V=f.appendListener(ee);return ne(1),function(){ne(-1),V()}}var re={length:e.length,action:"POP",location:M,createHref:F,push:U,replace:j,go:te,goBack:oe,goForward:ae,block:me,listen:_e};return re}function vS(t,e,n){return Math.min(Math.max(t,e),n)}function pL(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,a=e.initialIndex,s=a===void 0?0:a,o=e.keyLength,u=o===void 0?6:o,l=Op();function c(F){Le(B,F),B.length=B.entries.length,l.notifyListeners(B.location,B.action)}function h(){return Math.random().toString(36).substr(2,u)}var f=vS(s,0,r.length-1),y=r.map(function(F){return typeof F=="string"?Wt(F,void 0,h()):Wt(F,void 0,F.key||h())}),b=Zt;function x(F,U){var j="PUSH",te=Wt(F,U,h(),B.location);l.confirmTransitionTo(te,j,n,function(oe){if(!!oe){var ae=B.index,he=ae+1,ne=B.entries.slice(0);ne.length>he?ne.splice(he,ne.length-he,te):ne.push(te),c({action:j,location:te,index:he,entries:ne})}})}function v(F,U){var j="REPLACE",te=Wt(F,U,h(),B.location);l.confirmTransitionTo(te,j,n,function(oe){!oe||(B.entries[B.index]=te,c({action:j,location:te}))})}function S(F){var U=vS(B.index+F,0,B.entries.length-1),j="POP",te=B.entries[U];l.confirmTransitionTo(te,j,n,function(oe){oe?c({action:j,location:te,index:U}):c()})}function E(){S(-1)}function k(){S(1)}function P(F){var U=B.index+F;return U>=0&&U<B.entries.length}function O(F){return F===void 0&&(F=!1),l.setPrompt(F)}function M(F){return l.appendListener(F)}var B={length:y.length,action:"POP",location:y[f],index:f,entries:y,createHref:b,push:x,replace:v,go:S,goBack:E,goForward:k,canGo:P,block:O,listen:M};return B}var Mp=1073741823,yS=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function mL(){var t="__global_unique_id__";return yS[t]=(yS[t]||0)+1}function gL(t,e){return t===e?t!==0||1/t==1/e:t!==t&&e!==e}function vL(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(a){return a(t,r)})}}}function yL(t){return Array.isArray(t)?t[0]:t}function _L(t,e){var n,i,r="__create-react-context-"+mL()+"__",a=function(o){z(u,o);function u(){var c;return c=o.apply(this,arguments)||this,c.emitter=vL(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var h;return h={},h[r]=this.emitter,h},l.componentWillReceiveProps=function(h){if(this.props.value!==h.value){var f=this.props.value,y=h.value,b;gL(f,y)?b=0:(b=typeof e=="function"?e(f,y):Mp,b|=0,b!==0&&this.emitter.set(h.value,b))}},l.render=function(){return this.props.children},u}(ai.exports.Component);a.childContextTypes=(n={},n[r]=sS.object.isRequired,n);var s=function(o){z(u,o);function u(){var c;return c=o.apply(this,arguments)||this,c.state={value:c.getValue()},c.onUpdate=function(h,f){var y=c.observedBits|0;(y&f)!=0&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(h){var f=h.observedBits;this.observedBits=f==null?Mp:f},l.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var h=this.props.observedBits;this.observedBits=h==null?Mp:h},l.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},l.getValue=function(){return this.context[r]?this.context[r].get():t},l.render=function(){return yL(this.props.children)(this.state.value)},u}(ai.exports.Component);return s.contextTypes=(i={},i[r]=sS.object,i),{Provider:a,Consumer:s}}var _S=xe.createContext||_L,ga={exports:{}},TL=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},zl=TL;ga.exports=SS;ga.exports.parse=Np;ga.exports.compile=SL;ga.exports.tokensToFunction=TS;ga.exports.tokensToRegExp=xS;var xL=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Np(t,e){for(var n=[],i=0,r=0,a="",s=e&&e.delimiter||"/",o;(o=xL.exec(t))!=null;){var u=o[0],l=o[1],c=o.index;if(a+=t.slice(r,c),r=c+u.length,l){a+=l[1];continue}var h=t[r],f=o[2],y=o[3],b=o[4],x=o[5],v=o[6],S=o[7];a&&(n.push(a),a="");var E=f!=null&&h!=null&&h!==f,k=v==="+"||v==="*",P=v==="?"||v==="*",O=o[2]||s,M=b||x;n.push({name:y||i++,prefix:f||"",delimiter:O,optional:P,repeat:k,partial:E,asterisk:!!S,pattern:M?CL(M):S?".*":"[^"+$l(O)+"]+?"})}return r<t.length&&(a+=t.substr(r)),a&&n.push(a),n}function SL(t,e){return TS(Np(t,e),e)}function bL(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function EL(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function TS(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",Up(e)));return function(r,a){for(var s="",o=r||{},u=a||{},l=u.pretty?bL:encodeURIComponent,c=0;c<t.length;c++){var h=t[c];if(typeof h=="string"){s+=h;continue}var f=o[h.name],y;if(f==null)if(h.optional){h.partial&&(s+=h.prefix);continue}else throw new TypeError('Expected "'+h.name+'" to be defined');if(zl(f)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var b=0;b<f.length;b++){if(y=l(f[b]),!n[c].test(y))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(y)+"`");s+=(b===0?h.prefix:h.delimiter)+y}continue}if(y=h.asterisk?EL(f):l(f),!n[c].test(y))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+y+'"');s+=h.prefix+y}return s}}function $l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function CL(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Fp(t,e){return t.keys=e,t}function Up(t){return t&&t.sensitive?"":"i"}function wL(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Fp(t,e)}function kL(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(SS(t[r],e,n).source);var a=new RegExp("(?:"+i.join("|")+")",Up(n));return Fp(a,e)}function PL(t,e,n){return xS(Np(t,n),e,n)}function xS(t,e,n){zl(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,a="",s=0;s<t.length;s++){var o=t[s];if(typeof o=="string")a+=$l(o);else{var u=$l(o.prefix),l="(?:"+o.pattern+")";e.push(o),o.repeat&&(l+="(?:"+u+l+")*"),o.optional?o.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",a+=l}}var c=$l(n.delimiter||"/"),h=a.slice(-c.length)===c;return i||(a=(h?a.slice(0,-c.length):a)+"(?:"+c+"(?=$))?"),r?a+="$":a+=i&&h?"":"(?="+c+"|$)",Fp(new RegExp("^"+a,Up(n)),e)}function SS(t,e,n){return zl(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?wL(t,e):zl(t)?kL(t,e,n):PL(t,e,n)}var AL=ga.exports,bS={exports:{}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=typeof Symbol=="function"&&Symbol.for,Bp=tt?Symbol.for("react.element"):60103,jp=tt?Symbol.for("react.portal"):60106,Gl=tt?Symbol.for("react.fragment"):60107,ql=tt?Symbol.for("react.strict_mode"):60108,Kl=tt?Symbol.for("react.profiler"):60114,Xl=tt?Symbol.for("react.provider"):60109,Ql=tt?Symbol.for("react.context"):60110,Hp=tt?Symbol.for("react.async_mode"):60111,Yl=tt?Symbol.for("react.concurrent_mode"):60111,Jl=tt?Symbol.for("react.forward_ref"):60112,Zl=tt?Symbol.for("react.suspense"):60113,IL=tt?Symbol.for("react.suspense_list"):60120,ec=tt?Symbol.for("react.memo"):60115,tc=tt?Symbol.for("react.lazy"):60116,DL=tt?Symbol.for("react.block"):60121,LL=tt?Symbol.for("react.fundamental"):60117,OL=tt?Symbol.for("react.responder"):60118,RL=tt?Symbol.for("react.scope"):60119;function zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bp:switch(t=t.type,t){case Hp:case Yl:case Gl:case Kl:case ql:case Zl:return t;default:switch(t=t&&t.$$typeof,t){case Ql:case Jl:case tc:case ec:case Xl:return t;default:return e}}case jp:return e}}}function ES(t){return zt(t)===Yl}Ee.AsyncMode=Hp;Ee.ConcurrentMode=Yl;Ee.ContextConsumer=Ql;Ee.ContextProvider=Xl;Ee.Element=Bp;Ee.ForwardRef=Jl;Ee.Fragment=Gl;Ee.Lazy=tc;Ee.Memo=ec;Ee.Portal=jp;Ee.Profiler=Kl;Ee.StrictMode=ql;Ee.Suspense=Zl;Ee.isAsyncMode=function(t){return ES(t)||zt(t)===Hp};Ee.isConcurrentMode=ES;Ee.isContextConsumer=function(t){return zt(t)===Ql};Ee.isContextProvider=function(t){return zt(t)===Xl};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bp};Ee.isForwardRef=function(t){return zt(t)===Jl};Ee.isFragment=function(t){return zt(t)===Gl};Ee.isLazy=function(t){return zt(t)===tc};Ee.isMemo=function(t){return zt(t)===ec};Ee.isPortal=function(t){return zt(t)===jp};Ee.isProfiler=function(t){return zt(t)===Kl};Ee.isStrictMode=function(t){return zt(t)===ql};Ee.isSuspense=function(t){return zt(t)===Zl};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gl||t===Yl||t===Kl||t===ql||t===Zl||t===IL||typeof t=="object"&&t!==null&&(t.$$typeof===tc||t.$$typeof===ec||t.$$typeof===Xl||t.$$typeof===Ql||t.$$typeof===Jl||t.$$typeof===LL||t.$$typeof===OL||t.$$typeof===RL||t.$$typeof===DL)};Ee.typeOf=zt;bS.exports=Ee;function rc(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var CS=bS.exports,ML={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wS={};wS[CS.ForwardRef]=ML;wS[CS.Memo]=NL;var FL=function(e){var n=_S();return n.displayName=e,n},UL=FL("Router-History"),BL=function(e){var n=_S();return n.displayName=e,n},va=BL("Router"),nc=function(t){z(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(a){r._isMounted?r.setState({location:a}):r._pendingLocation=a})),r}var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return xe.createElement(va.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},xe.createElement(UL.Provider,{children:this.props.children||null,value:this.props.history}))},e}(xe.Component);xe.Component;xe.Component;var kS={},jL=1e4,PS=0;function HL(t,e){var n=""+e.end+e.strict+e.sensitive,i=kS[n]||(kS[n]={});if(i[t])return i[t];var r=[],a=AL(t,r,e),s={regexp:a,keys:r};return PS<jL&&(i[t]=s,PS++),s}function Vp(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,a=r===void 0?!1:r,s=n.strict,o=s===void 0?!1:s,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(i);return c.reduce(function(h,f){if(!f&&f!=="")return null;if(h)return h;var y=HL(f,{end:a,strict:o,sensitive:l}),b=y.regexp,x=y.keys,v=b.exec(t);if(!v)return null;var S=v[0],E=v.slice(1),k=t===S;return a&&!k?null:{path:f,url:f==="/"&&S===""?"/":S,isExact:k,params:x.reduce(function(P,O,M){return P[O.name]=E[M],P},{})}},null)}var XL=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return xe.createElement(va.Consumer,null,function(a){a||ei(!1);var s=r.props.location||a.location,o=r.props.computedMatch?r.props.computedMatch:r.props.path?Vp(s.pathname,r.props):a.match,u=Le({},a,{location:s,match:o}),l=r.props,c=l.children,h=l.component,f=l.render;return Array.isArray(c)&&c.length===0&&(c=null),xe.createElement(va.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:h?xe.createElement(h,u):f?f(u):null:typeof c=="function"?c(u):null)})},e}(xe.Component);function Wp(t){return t.charAt(0)==="/"?t:"/"+t}function VL(t,e){return t?Le({},e,{pathname:Wp(t)+e.pathname}):e}function WL(t,e){if(!t)return e;var n=Wp(t);return e.pathname.indexOf(n)!==0?e:Le({},e,{pathname:e.pathname.substr(n.length)})}function AS(t){return typeof t=="string"?t:Zt(t)}function zp(t){return function(){ei(!1)}}function IS(){}xe.Component;var QL=function(t){z(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return xe.createElement(va.Consumer,null,function(a){a||ei(!1);var s=r.props.location||a.location,o,u;return xe.Children.forEach(r.props.children,function(l){if(u==null&&xe.isValidElement(l)){o=l;var c=l.props.path||l.props.from;u=c?Vp(s.pathname,Le({},l.props,{path:c})):a.match}}),u?xe.cloneElement(o,{location:s,computedMatch:u}):null})},e}(xe.Component);xe.useContext;xe.Component;var YL=function(t){z(e,t);function e(){for(var i,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,i.history=hL(i.props),i}var n=e.prototype;return n.render=function(){return xe.createElement(nc,{history:this.history,children:this.props.children})},e}(xe.Component),$p=function(e,n){return typeof e=="function"?e(n):e},DS=function(e,n){return typeof e=="string"?Wt(e,null,null,n):e},Gp=function(e){return e},ya=xe.forwardRef;typeof ya=="undefined"&&(ya=Gp);function zL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var $L=ya(function(t,e){var n=t.innerRef,i=t.navigate,r=t.onClick,a=rc(t,["innerRef","navigate","onClick"]),s=a.target,o=Le({},a,{onClick:function(l){try{r&&r(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!s||s==="_self")&&!zL(l)&&(l.preventDefault(),i())}});return Gp!==ya?o.ref=e||n:o.ref=n,xe.createElement("a",o)}),GL=ya(function(t,e){var n=t.component,i=n===void 0?$L:n,r=t.replace,a=t.to,s=t.innerRef,o=rc(t,["component","replace","to","innerRef"]);return xe.createElement(va.Consumer,null,function(u){u||ei(!1);var l=u.history,c=DS($p(a,u.location),u.location),h=c?l.createHref(c):"",f=Le({},o,{href:h,navigate:function(){var b=$p(a,u.location),x=r?l.replace:l.push;x(b)}});return Gp!==ya?f.ref=e||s:f.innerRef=s,xe.createElement(i,f)})}),LS=function(e){return e},ic=xe.forwardRef;typeof ic=="undefined"&&(ic=LS);function qL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(i){return i}).join(" ")}ic(function(t,e){var n=t["aria-current"],i=n===void 0?"page":n,r=t.activeClassName,a=r===void 0?"active":r,s=t.activeStyle,o=t.className,u=t.exact,l=t.isActive,c=t.location,h=t.sensitive,f=t.strict,y=t.style,b=t.to,x=t.innerRef,v=rc(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return xe.createElement(va.Consumer,null,function(S){S||ei(!1);var E=c||S.location,k=DS($p(b,E),E),P=k.pathname,O=P&&P.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=O?Vp(E.pathname,{path:O,exact:u,sensitive:h,strict:f}):null,B=!!(l?l(M,E):M),F=B?qL(o,a):o,U=B?Le({},y,{},s):y,j=Le({"aria-current":B&&i||null,className:F,style:U,to:k},v);return LS!==ic?j.ref=e||x:j.innerRef=x,xe.createElement(GL,j)})});export{YL as H,lw as P,XL as R,QL as S,KL as a,xe as b,qD as j,ai as r,N as v};
