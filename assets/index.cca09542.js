import{j as d,r as a,v as x,P as b,L,H as R,S as j,R as P,a as C,b as E}from"./vendor.c4b99152.js";const O=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(e){if(e.ep)return;e.ep=!0;const r=l(e);fetch(e.href,r)}};O();const o=d.exports.jsx,p=d.exports.jsxs,f="https://test-1302380933.cos.ap-shanghai.myqcloud.com/3b70b7e222488ffca5a464bfc6b7cff7_xxx.m3u8",S=()=>{const s=a.exports.useRef(null),n=a.exports.useRef(),[l,u]=a.exports.useState(0),[e,r]=a.exports.useState(!1);let c=null;const m={controls:!0},g=async()=>{var t=new b;return fetch(f).then(i=>i.text()).then(i=>(t.push(i),t.end(),t.manifest))},y=()=>{console.log("ended ended ended ended");const t=c.currentTime(),i=c.duration();console.log("whereYouAt",t),console.log("lengthOfVideo",i)},v=async()=>{var i;console.log("player is ready"),c.autoplay(!0),c.src({type:"application/x-mpegURL",src:f}),c.on("ended",y);const t=await g();u(((i=t==null?void 0:t.segments)==null?void 0:i.length)||0)};return a.exports.useEffect(()=>{if(!n.current){const t=s.current;if(!t)return;c=n.current=x(t,m,v)}},[s]),a.exports.useEffect(()=>{const t=n.current;return()=>{t&&(t.dispose(),n.current=void 0)}},[n]),p("div",{children:[p("div",{children:["\u5F53\u524Dsegments\u957F\u5EA6: ",l]}),e?o("div",{children:"PlayList \u53D1\u751F\u4E86\u6539\u53D8"}):null,o("div",{"data-vjs-player":!0,children:o("video",{ref:s,className:"video-js vjs-big-play-centered"})})]})},w=()=>o("div",{children:"TComponent"});const A=()=>{const s=h.filter(n=>n.path!=="/");return o("div",{children:o("ul",{children:s.map(({path:n,title:l})=>o("li",{children:o(L,{to:n,children:l})},n))})})},h=[{path:"/",component:A,title:"default"},{path:"/page/b",component:S,title:"bbbb"},{path:"/page/t",component:w,title:"tttt"}],D=()=>o(R,{children:o(j,{children:h.map(s=>o(P,{exact:!0,path:s.path,component:s.component},s.path))})});function M(){return o(D,{})}C.render(o(E.StrictMode,{children:o(M,{})}),document.getElementById("root"));
