import{j as g,r as a,v as x,P as j,L,H as N,S as O,R as S,a as C,b as E}from"./vendor.c4b99152.js";const A=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}};A();const t=g.exports.jsx,M=g.exports.jsxs,p="https://test-1302380933.cos.ap-shanghai.myqcloud.com/3b70b7e222488ffca5a464bfc6b7cff7_xxx.m3u8";let f=0;const y={controls:!0},P=()=>{const r=a.exports.useRef(null),s=a.exports.useRef(null),i=a.exports.useRef(),l=a.exports.useRef(),[e,o]=a.exports.useState(!0);a.exports.useState(!1);let c=null,h=null;a.exports.useEffect(()=>{if(!i.current){const n=r.current;if(!n)return;c=i.current=x(n,y,b)}},[r]),a.exports.useEffect(()=>{if(!l.current){const n=s.current;if(!n)return;h=l.current=x(n,y,w)}},[r]);const m=async()=>{var n=new j;return fetch(p).then(d=>d.text()).then(d=>(n.push(d),n.end(),n.manifest))},R=async()=>{console.log("ended ended ended ended");const n=c.currentTime(),d=c.duration();console.log("whereYouAt",n),console.log("lengthOfVideo",d);const u=await m();u.segments.length!==f&&(f=u.segments.length)},b=async()=>{console.log("player is ready"),c.autoplay(!0),c.src({type:"application/x-mpegURL",src:p}),c.on("ended",R),f=(await m()).segments.length},w=()=>{h.src({type:"application/x-mpegURL",src:p})};return M("div",{children:[t("button",{className:"exchange",onClick:()=>{o(n=>!n)},children:"exchange"}),t("div",{className:"wrapper wrapper1",style:{zIndex:e?1:-1},children:t("video",{ref:r,className:"video-js vjs-big-play-centered"})}),t("div",{className:"wrapper wrapper2",style:{zIndex:e?-1:1},children:t("video",{ref:s,className:"video-js vjs-big-play-centered"})})]})},I=()=>t("div",{children:"TComponent"});const T=()=>{const r=v.filter(s=>s.path!=="/");return t("div",{children:t("ul",{children:r.map(({path:s,title:i})=>t("li",{children:t(L,{to:s,children:i})},s))})})},v=[{path:"/",component:T,title:"default"},{path:"/page/b",component:P,title:"bbbb"},{path:"/page/t",component:I,title:"tttt"}],k=()=>t(N,{children:t(O,{children:v.map(r=>t(S,{exact:!0,path:r.path,component:r.component},r.path))})});function q(){return t(k,{})}C.render(t(E.StrictMode,{children:t(q,{})}),document.getElementById("root"));
