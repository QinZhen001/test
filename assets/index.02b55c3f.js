import{j as y,r as a,v as x,P as N,L as P,H as O,S,R as C,a as E,b as A}from"./vendor.c4b99152.js";const M=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}};M();const n=y.exports.jsx,I=y.exports.jsxs,f="https://test-1302380933.cos.ap-shanghai.myqcloud.com/1194f719834ce2354c629c98bf93c05f_xxx.m3u8";let m=0;const v={controls:!0},T=()=>{const r=a.exports.useRef(null),s=a.exports.useRef(null),l=a.exports.useRef(),i=a.exports.useRef(),[e,o]=a.exports.useState(!0);a.exports.useState(!1);let c=null,d=null;a.exports.useEffect(()=>{if(!l.current){const t=r.current;if(!t)return;c=l.current=x(t,v,j)}},[r]),a.exports.useEffect(()=>{if(!i.current){const t=s.current;if(!t)return;d=i.current=x(t,v,L)}},[r]);const h=async()=>{var t=new N;return fetch(f).then(p=>p.text()).then(p=>{t.push(p),t.end();const u=t.manifest;return console.log("parsedManifest",u),u})},b=t=>{console.log("rePlay rePlay"),d.src({type:"application/x-mpegURL",src:f}),g(),d.currentTime(t),d.play()},w=async()=>{console.log("ended ended ended ended");const t=c.currentTime(),p=c.duration();console.log("whereYouAt",t),console.log("lengthOfVideo",p);const u=await h();u.segments.length!==m&&(m=u.segments.length,b(t))},j=async()=>{console.log("player is ready"),c.autoplay(!0),c.src({type:"application/x-mpegURL",src:f}),c.on("ended",w),m=(await h()).segments.length},L=()=>{d.src({type:"application/x-mpegURL",src:f})},g=()=>{o(t=>!t)};return I("div",{children:[n("button",{className:"exchange",onClick:g,children:"exchange"}),n("div",{className:"wrapper wrapper1",style:{zIndex:e?1:-1},children:n("video",{ref:r,className:"video-js vjs-big-play-centered"})}),n("div",{className:"wrapper wrapper2",style:{zIndex:e?-1:1},children:n("video",{ref:s,className:"video-js vjs-big-play-centered"})})]})},U=()=>n("div",{children:"TComponent"});const k=()=>{const r=R.filter(s=>s.path!=="/");return n("div",{children:n("ul",{children:r.map(({path:s,title:l})=>n("li",{children:n(P,{to:s,children:l})},s))})})},R=[{path:"/",component:k,title:"default"},{path:"/page/b",component:T,title:"bbbb"},{path:"/page/t",component:U,title:"tttt"}],q=()=>n(O,{children:n(S,{children:R.map(r=>n(C,{exact:!0,path:r.path,component:r.component},r.path))})});function z(){return n(q,{})}E.render(n(A.StrictMode,{children:n(z,{})}),document.getElementById("root"));
