import{j as y,r as c,v as x,P as C,L as E,H as N,S as P,R as O,a as S,b as A}from"./vendor.c4b99152.js";const D=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}};D();const e=y.exports.jsx,v=y.exports.jsxs,h="https://test-1302380933.cos.ap-shanghai.myqcloud.com/3b70b7e222488ffca5a464bfc6b7cff7_xxx.m3u8";let p=0;const R={controls:!0},M=()=>{const o=c.exports.useRef(null),r=c.exports.useRef(null),a=c.exports.useRef(),l=c.exports.useRef(),[t,s]=c.exports.useState(!0),[d,q]=c.exports.useState(!1);let i=null,m=null;c.exports.useEffect(()=>{if(!a.current){const n=o.current;if(!n)return;i=a.current=x(n,R,L)}},[o]),c.exports.useEffect(()=>{if(!l.current){const n=r.current;if(!n)return;m=l.current=x(n,R,j)}},[o]);const g=async()=>{var n=new C;return fetch(h).then(u=>u.text()).then(u=>(n.push(u),n.end(),n.manifest))},w=async()=>{console.log("ended ended ended ended");const n=i.currentTime(),u=i.duration();console.log("whereYouAt",n),console.log("lengthOfVideo",u);const f=await g();f.segments.length!==p&&(p=f.segments.length)},L=async()=>{console.log("player is ready"),i.autoplay(!0),i.src({type:"application/x-mpegURL",src:h}),i.on("ended",w),p=(await g()).segments.length},j=()=>{m.src({type:"application/x-mpegURL",src:h})};return v("div",{children:[e("button",{className:"exchange",onClick:()=>{s(n=>!n)},children:"exchange"}),v("div",{children:["\u5F53\u524Dsegments\u957F\u5EA6: ",p]}),d?e("div",{children:"PlayList \u53D1\u751F\u4E86\u6539\u53D8"}):null,e("div",{className:"wrapper wrapper1",style:{},children:e("video",{ref:o,className:"video-js vjs-big-play-centered"})}),e("div",{className:"wrapper wrapper2",style:{},children:e("video",{ref:r,className:"video-js vjs-big-play-centered"})})]})},F=()=>e("div",{children:"TComponent"});const H=()=>{const o=b.filter(r=>r.path!=="/");return e("div",{children:e("ul",{children:o.map(({path:r,title:a})=>e("li",{children:e(E,{to:r,children:a})},r))})})},b=[{path:"/",component:H,title:"default"},{path:"/page/b",component:M,title:"bbbb"},{path:"/page/t",component:F,title:"tttt"}],T=()=>e(N,{children:e(P,{children:b.map(o=>e(O,{exact:!0,path:o.path,component:o.component},o.path))})});function k(){return e(T,{})}S.render(e(A.StrictMode,{children:e(k,{})}),document.getElementById("root"));
